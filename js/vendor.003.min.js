/*
 jQuery JavaScript Library v1.7.2
 http://jquery.com/

 Copyright 2011, John Resig
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license

 Includes Sizzle.js
 http://sizzlejs.com/
 Copyright 2011, The Dojo Foundation
 Released under the MIT, BSD, and GPL Licenses.

 Date: Wed Mar 21 12:46:34 2012 -0700
 Sizzle CSS Selector Engine
  Copyright 2011, The Dojo Foundation
  Released under the MIT, BSD, and GPL Licenses.
  More information: http://sizzlejs.com/
*/
(function(b,g){function a(e){var a=Wa[e]={},b;e=e.split(/\s+/);var f=0;for(b=e.length;f<b;f++)a[e[f]]=!0;return a}function n(e,a,b){if(b===g&&1===e.nodeType)if(b="data-"+a.replace(Ya,"-$1").toLowerCase(),b=e.getAttribute(b),"string"===typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:f.isNumeric(b)?+b:da.test(b)?f.parseJSON(b):b}catch(fa){}f.data(e,a,b)}else b=g;return b}function h(e){for(var a in e)if(("data"!==a||!f.isEmptyObject(e[a]))&&"toJSON"!==a)return!1;return!0}function t(e,a,
b){var A=a+"defer",d=a+"queue",Q=a+"mark",k=f._data(e,A);!k||"queue"!==b&&f._data(e,d)||"mark"!==b&&f._data(e,Q)||setTimeout(function(){f._data(e,d)||f._data(e,Q)||(f.removeData(e,A,!0),k.fire())},0)}function z(){return!1}function x(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,a,b){a=a||0;if(f.isFunction(a))return f.grep(e,function(e,A){return!!a.call(e,A,e)===b});if(a.nodeType)return f.grep(e,function(e,A){return e===a===b});if("string"===typeof a){var A=
f.grep(e,function(e){return 1===e.nodeType});if(R.test(a))return f.filter(a,A,!b);a=f.filter(a,A)}return f.grep(e,function(e,A){return 0<=f.inArray(e,a)===b})}function J(e){var a=db.split("|");e=e.createDocumentFragment();if(e.createElement)for(;a.length;)e.createElement(a.pop());return e}function y(e,a){return f.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function T(e,a){if(1===a.nodeType&&f.hasData(e)){var A,b;var d=f._data(e);
var k=f._data(a,d),q=d.events;if(q)for(A in delete k.handle,k.events={},q)for(d=0,b=q[A].length;d<b;d++)f.event.add(a,A,q[A][d]);k.data&&(k.data=f.extend({},k.data))}}function V(e,a){if(1===a.nodeType){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(e);var A=a.nodeName.toLowerCase();"object"===A?a.outerHTML=e.outerHTML:"input"!==A||"checkbox"!==e.type&&"radio"!==e.type?"option"===A?a.selected=e.defaultSelected:"input"===A||"textarea"===A?a.defaultValue=e.defaultValue:"script"===
A&&a.text!==e.text&&(a.text=e.text):(e.checked&&(a.defaultChecked=a.checked=e.checked),a.value!==e.value&&(a.value=e.value));a.removeAttribute(f.expando);a.removeAttribute("_submit_attached");a.removeAttribute("_change_attached")}}function N(e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function d(e){if("checkbox"===e.type||"radio"===e.type)e.defaultChecked=e.checked}function E(e){var a=(e.nodeName||
"").toLowerCase();"input"===a?d(e):"script"!==a&&"undefined"!==typeof e.getElementsByTagName&&f.grep(e.getElementsByTagName("input"),d)}function K(e,a,b){var A="width"===a?e.offsetWidth:e.offsetHeight,d="width"===a?1:0;if(0<A){if("border"!==b)for(;4>d;d+=2)b||(A-=parseFloat(f.css(e,"padding"+yb[d]))||0),A="margin"===b?A+(parseFloat(f.css(e,b+yb[d]))||0):A-(parseFloat(f.css(e,"border"+yb[d]+"Width"))||0);return A+"px"}A=Gb(e,a);if(0>A||null==A)A=e.style[a];if(lb.test(A))return A;A=parseFloat(A)||0;
if(b)for(;4>d;d+=2)A+=parseFloat(f.css(e,"padding"+yb[d]))||0,"padding"!==b&&(A+=parseFloat(f.css(e,"border"+yb[d]+"Width"))||0),"margin"===b&&(A+=parseFloat(f.css(e,b+yb[d]))||0);return A+"px"}function qa(e){return function(a,b){"string"!==typeof a&&(b=a,a="*");if(f.isFunction(b))for(var A=a.toLowerCase().split(Vb),d=0,Q=A.length,k,q;d<Q;d++)k=A[d],(q=/^\+/.test(k))&&(k=k.substr(1)||"*"),k=e[k]=e[k]||[],k[q?"unshift":"push"](b)}}function C(e,a,b,f,d,k){d=d||a.dataTypes[0];k=k||{};k[d]=!0;d=e[d];
for(var A=0,Q=d?d.length:0,q=e===ja,fa;A<Q&&(q||!fa);A++)fa=d[A](a,b,f),"string"===typeof fa&&(!q||k[fa]?fa=g:(a.dataTypes.unshift(fa),fa=C(e,a,b,f,fa,k)));!q&&fa||k["*"]||(fa=C(e,a,b,f,"*",k));return fa}function sa(e,a){var A,b,d=f.ajaxSettings.flatOptions||{};for(A in a)a[A]!==g&&((d[A]?e:b||(b={}))[A]=a[A]);b&&f.extend(!0,e,b)}function Na(e,a,b,d){if(f.isArray(a))f.each(a,function(a,A){b||gc.test(e)?d(e,A):Na(e+"["+("object"===typeof A?a:"")+"]",A,b,d)});else if(b||"object"!==f.type(a))d(e,a);
else for(var A in a)Na(e+"["+A+"]",a[A],b,d)}function pa(){try{return new b.XMLHttpRequest}catch(e){}}function va(){setTimeout(ma,0);return Hb=f.now()}function ma(){Hb=g}function ba(e,a){var A={};f.each(nc.concat.apply([],nc.slice(0,a)),function(){A[this]=e});return A}function aa(e){if(!Bd[e]){var a=M.body,b=f("<"+e+">").appendTo(a),d=b.css("display");b.remove();if("none"===d||""===d)sb||(sb=M.createElement("iframe"),sb.frameBorder=sb.width=sb.height=0),a.appendChild(sb),bc&&sb.createElement||(bc=
(sb.contentWindow||sb.contentDocument).document,bc.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),bc.close()),b=bc.createElement(e),bc.body.appendChild(b),d=f.css(b,"display"),a.removeChild(sb);Bd[e]=d}return Bd[e]}function Y(e){return f.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var M=b.document,Z=b.navigator,ra=b.location,f=function(){function e(){if(!a.isReady){try{M.documentElement.doScroll("left")}catch(zc){setTimeout(e,1);return}a.ready()}}var a=function(e,
b){return new a.fn.init(e,b,ea)},f=b.jQuery,d=b.$,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=/\S/,p=/^\s+/,r=/\s+$/,O=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,B=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,h=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,H=/(?:^|:|,)(?:\s*\[)+/g,l=/(webkit)[ \/]([\w.]+)/,K=/(opera)(?:.*version)?[ \/]([\w.]+)/,E=/(msie) ([\w.]+)/,Ea=/(mozilla)(?:.*? rv:([\w.]+))?/,ja=/-([a-z]|[0-9])/ig,F=/^-ms-/,ua=function(e,a){return(a+"").toUpperCase()},qa=
Z.userAgent,Ib,u,C=Object.prototype.toString,W=Object.prototype.hasOwnProperty,N=Array.prototype.push,t=Array.prototype.slice,z=String.prototype.trim,Sb=Array.prototype.indexOf,vb={};a.fn=a.prototype={constructor:a,init:function(e,b,A){if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!b&&M.body)return this.context=M,this[0]=M.body,this.selector=e,this.length=1,this;if("string"===typeof e){var f="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?
[null,e,null]:k.exec(e);if(!f||!f[1]&&b)return!b||b.jquery?(b||A).find(e):this.constructor(b).find(e);if(f[1])return A=(b=b instanceof a?b[0]:b)?b.ownerDocument||b:M,(e=O.exec(e))?a.isPlainObject(b)?(e=[M.createElement(e[1])],a.fn.attr.call(e,b,!0)):e=[A.createElement(e[1])]:(e=a.buildFragment([f[1]],[A]),e=(e.cacheable?a.clone(e.fragment):e.fragment).childNodes),a.merge(this,e);if((b=M.getElementById(f[2]))&&b.parentNode){if(b.id!==f[2])return A.find(e);this.length=1;this[0]=b}this.context=M;this.selector=
e;return this}if(a.isFunction(e))return A.ready(e);e.selector!==g&&(this.selector=e.selector,this.context=e.context);return a.makeArray(e,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return t.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,b,A){var f=this.constructor();a.isArray(e)?N.apply(f,e):a.merge(f,e);f.prevObject=this;f.context=this.context;"find"===b?f.selector=this.selector+
(this.selector?" ":"")+A:b&&(f.selector=this.selector+"."+b+"("+A+")");return f},each:function(e,b){return a.each(this,e,b)},ready:function(e){a.bindReady();Ib.add(e);return this},eq:function(e){e=+e;return-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(t.apply(this,arguments),"slice",t.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(a,b){return e.call(a,b,a)}))},
end:function(){return this.prevObject||this.constructor(null)},push:N,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var e,b,A,f=arguments[0]||{},d=1,k=arguments.length,q=!1;"boolean"===typeof f&&(q=f,f=arguments[1]||{},d=2);"object"===typeof f||a.isFunction(f)||(f={});k===d&&(f=this,--d);for(;d<k;d++)if(null!=(e=arguments[d]))for(b in e){var Q=f[b];var fa=e[b];f!==fa&&(q&&fa&&(a.isPlainObject(fa)||(A=a.isArray(fa)))?(A?(A=!1,Q=Q&&a.isArray(Q)?Q:[]):Q=Q&&a.isPlainObject(Q)?
Q:{},f[b]=a.extend(q,Q,fa)):fa!==g&&(f[b]=fa))}return f};a.extend({noConflict:function(e){b.$===a&&(b.$=d);e&&b.jQuery===a&&(b.jQuery=f);return a},isReady:!1,readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(!0===e&&!--a.readyWait||!0!==e&&!a.isReady){if(!M.body)return setTimeout(a.ready,1);a.isReady=!0;!0!==e&&0<--a.readyWait||(Ib.fireWith(M,[a]),a.fn.trigger&&a(M).trigger("ready").off("ready"))}},bindReady:function(){if(!Ib){Ib=a.Callbacks("once memory");if("complete"===
M.readyState)return setTimeout(a.ready,1);if(M.addEventListener)M.addEventListener("DOMContentLoaded",u,!1),b.addEventListener("load",a.ready,!1);else if(M.attachEvent){M.attachEvent("onreadystatechange",u);b.attachEvent("onload",a.ready);var A=!1;try{A=null==b.frameElement}catch(hc){}M.documentElement.doScroll&&A&&e()}}},isFunction:function(e){return"function"===a.type(e)},isArray:Array.isArray||function(e){return"array"===a.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&
isFinite(e)},type:function(e){return null==e?String(e):vb[C.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==a.type(e)||e.nodeType||a.isWindow(e))return!1;try{if(e.constructor&&!W.call(e,"constructor")&&!W.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(Bb){return!1}for(var b in e);return b===g||W.call(e,b)},isEmptyObject:function(e){for(var a in e)return!1;return!0},error:function(e){throw Error(e);},parseJSON:function(e){if("string"!==typeof e||!e)return null;e=a.trim(e);
if(b.JSON&&b.JSON.parse)return b.JSON.parse(e);if(B.test(e.replace(n,"@").replace(h,"]").replace(H,"")))return(new Function("return "+e))();a.error("Invalid JSON: "+e)},parseXML:function(e){if("string"!==typeof e||!e)return null;try{if(b.DOMParser){var A=new DOMParser;var f=A.parseFromString(e,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(e)}catch(cd){f=g}f&&f.documentElement&&!f.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+e);return f},
noop:function(){},globalEval:function(e){e&&q.test(e)&&(b.execScript||function(e){b.eval.call(b,e)})(e)},camelCase:function(e){return e.replace(F,"ms-").replace(ja,ua)},nodeName:function(e,a){return e.nodeName&&e.nodeName.toUpperCase()===a.toUpperCase()},each:function(e,b,A){var f,d=0,k=e.length,Q=k===g||a.isFunction(e);if(A)if(Q)for(f in e){if(!1===b.apply(e[f],A))break}else for(;d<k&&!1!==b.apply(e[d++],A););else if(Q)for(f in e){if(!1===b.call(e[f],f,e[f]))break}else for(;d<k&&!1!==b.call(e[d],
d,e[d++]););return e},trim:z?function(e){return null==e?"":z.call(e)}:function(e){return null==e?"":e.toString().replace(p,"").replace(r,"")},makeArray:function(e,b){var A=b||[];if(null!=e){var f=a.type(e);null==e.length||"string"===f||"function"===f||"regexp"===f||a.isWindow(e)?N.call(A,e):a.merge(A,e)}return A},inArray:function(e,a,b){if(a){if(Sb)return Sb.call(a,e,b);var A=a.length;for(b=b?0>b?Math.max(0,A+b):b:0;b<A;b++)if(b in a&&a[b]===e)return b}return-1},merge:function(e,a){var b=e.length,
A=0;if("number"===typeof a.length)for(var f=a.length;A<f;A++)e[b++]=a[A];else for(;a[A]!==g;)e[b++]=a[A++];e.length=b;return e},grep:function(e,a,b){var A=[];b=!!b;for(var f=0,d=e.length;f<d;f++){var k=!!a(e[f],f);b!==k&&A.push(e[f])}return A},map:function(e,b,A){var f,d=[],k=0,Q=e.length;if(e instanceof a||Q!==g&&"number"===typeof Q&&(0<Q&&e[0]&&e[Q-1]||0===Q||a.isArray(e)))for(;k<Q;k++){var q=b(e[k],k,A);null!=q&&(d[d.length]=q)}else for(f in e)q=b(e[f],f,A),null!=q&&(d[d.length]=q);return d.concat.apply([],
d)},guid:1,proxy:function(e,b){if("string"===typeof b){var A=e[b];b=e;e=A}if(!a.isFunction(e))return g;var f=t.call(arguments,2),A=function(){return e.apply(b,f.concat(t.call(arguments)))};A.guid=e.guid=e.guid||A.guid||a.guid++;return A},access:function(e,b,A,f,d,k,Q){var q=null==A,fa=0,p=e.length;if(A&&"object"===typeof A){for(fa in A)a.access(e,b,fa,A[fa],1,k,f);d=1}else if(f!==g){var r=Q===g&&a.isFunction(f);q&&(r?(r=b,b=function(e,b,A){return r.call(a(e),A)}):(b.call(e,f),b=null));if(b)for(;fa<
p;fa++)b(e[fa],A,r?f.call(e[fa],fa,b(e[fa],A)):f,Q);d=1}return d?e:q?b.call(e):p?b(e[0],A):k},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();e=l.exec(e)||K.exec(e)||E.exec(e)||0>e.indexOf("compatible")&&Ea.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function e(a,b){return new e.fn.init(a,b)}a.extend(!0,e,this);e.superclass=this;e.fn=e.prototype=this();e.fn.constructor=e;e.sub=this.sub;e.fn.init=function(A,f){f&&f instanceof a&&!(f instanceof
e)&&(f=e(f));return a.fn.init.call(this,A,f,b)};e.fn.init.prototype=e.fn;var b=e(M);return e},browser:{}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,a){vb["[object "+a+"]"]=a.toLowerCase()});qa=a.uaMatch(qa);qa.browser&&(a.browser[qa.browser]=!0,a.browser.version=qa.version);a.browser.webkit&&(a.browser.safari=!0);q.test("\u00a0")&&(p=/^[\s\xA0]+/,r=/[\s\xA0]+$/);var ea=a(M);M.addEventListener?u=function(){M.removeEventListener("DOMContentLoaded",u,!1);
a.ready()}:M.attachEvent&&(u=function(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",u),a.ready())});return a}(),Wa={};f.Callbacks=function(e){e=e?Wa[e]||a(e):{};var b=[],d=[],k,q,p,r,O,B,n=function(a){var A;var d=0;for(A=a.length;d<A;d++){var k=a[d];var q=f.type(k);"array"===q?n(k):"function"===q&&(e.unique&&H.has(k)||b.push(k))}},h=function(a,f){f=f||[];k=!e.memory||[a,f];p=q=!0;B=r||0;r=0;for(O=b.length;b&&B<O;B++)if(!1===b[B].apply(a,f)&&e.stopOnFalse){k=!0;break}p=!1;b&&(e.once?
!0===k?H.disable():b=[]:d&&d.length&&(k=d.shift(),H.fireWith(k[0],k[1])))},H={add:function(){if(b){var e=b.length;n(arguments);p?O=b.length:k&&!0!==k&&(r=e,h(k[0],k[1]))}return this},remove:function(){if(b)for(var a=arguments,f=0,A=a.length;f<A;f++)for(var d=0;d<b.length&&(a[f]!==b[d]||(p&&d<=O&&(O--,d<=B&&B--),b.splice(d--,1),!e.unique));d++);return this},has:function(e){if(b)for(var a=0,f=b.length;a<f;a++)if(e===b[a])return!0;return!1},empty:function(){b=[];return this},disable:function(){b=d=k=
g;return this},disabled:function(){return!b},lock:function(){d=g;k&&!0!==k||H.disable();return this},locked:function(){return!d},fireWith:function(a,b){d&&(p?e.once||d.push([a,b]):e.once&&k||h(a,b));return this},fire:function(){H.fireWith(this,arguments);return this},fired:function(){return!!q}};return H};var Oa=[].slice;f.extend({Deferred:function(e){var a=f.Callbacks("once memory"),b=f.Callbacks("once memory"),d=f.Callbacks("memory"),k="pending",q={resolve:a,reject:b,notify:d},p={done:a.add,fail:b.add,
progress:d.add,state:function(){return k},isResolved:a.fired,isRejected:b.fired,then:function(e,a,b){r.done(e).fail(a).progress(b);return this},always:function(){r.done.apply(r,arguments).fail.apply(r,arguments);return this},pipe:function(e,a,b){return f.Deferred(function(A){f.each({done:[e,"resolve"],fail:[a,"reject"],progress:[b,"notify"]},function(e,a){var b=a[0],d=a[1],k;if(f.isFunction(b))r[e](function(){if((k=b.apply(this,arguments))&&f.isFunction(k.promise))k.promise().then(A.resolve,A.reject,
A.notify);else A[d+"With"](this===r?A:this,[k])});else r[e](A[d])})}).promise()},promise:function(e){if(null==e)e=p;else for(var a in p)e[a]=p[a];return e}},r=p.promise({}),g;for(g in q)r[g]=q[g].fire,r[g+"With"]=q[g].fireWith;r.done(function(){k="resolved"},b.disable,d.lock).fail(function(){k="rejected"},a.disable,d.lock);e&&e.call(r,r);return r},when:function(e){function a(e){return function(a){d[e]=1<arguments.length?Oa.call(arguments,0):a;--r||g.resolveWith(g,d)}}function b(e){return function(a){p[e]=
1<arguments.length?Oa.call(arguments,0):a;g.notifyWith(O,p)}}var d=Oa.call(arguments,0),k=0,q=d.length,p=Array(q),r=q,g=1>=q&&e&&f.isFunction(e.promise)?e:f.Deferred(),O=g.promise();if(1<q){for(;k<q;k++)d[k]&&d[k].promise&&f.isFunction(d[k].promise)?d[k].promise().then(a(k),g.reject,b(k)):--r;r||g.resolveWith(g,d)}else g!==e&&g.resolveWith(g,q?[e]:[]);return O}});f.support=function(){var e,a,d=M.createElement("div");d.setAttribute("className","t");d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var k=d.getElementsByTagName("*");var q=d.getElementsByTagName("a")[0];if(!k||!k.length||!q)return{};var p=M.createElement("select");var r=p.appendChild(M.createElement("option"));k=d.getElementsByTagName("input")[0];var g={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(q.getAttribute("style")),hrefNormalized:"/a"===q.getAttribute("href"),opacity:/^0.55/.test(q.style.opacity),cssFloat:!!q.style.cssFloat,
checkOn:"on"===k.value,optSelected:r.selected,getSetAttribute:"t"!==d.className,enctype:!!M.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};f.boxModel=g.boxModel="CSS1Compat"===M.compatMode;k.checked=!0;g.noCloneChecked=k.cloneNode(!0).checked;p.disabled=!0;g.optDisabled=!r.disabled;
try{delete d.test}catch(Ad){g.deleteExpando=!1}!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){g.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"));k=M.createElement("input");k.value="t";k.setAttribute("type","radio");g.radioValue="t"===k.value;k.setAttribute("checked","checked");k.setAttribute("name","t");d.appendChild(k);q=M.createDocumentFragment();q.appendChild(d.lastChild);g.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked;g.appendChecked=k.checked;
q.removeChild(k);q.appendChild(d);if(d.attachEvent)for(a in{submit:1,change:1,focusin:1}){k="on"+a;var O=k in d;O||(d.setAttribute(k,"return;"),O="function"===typeof d[k]);g[a+"Bubbles"]=O}q.removeChild(d);q=p=r=d=k=null;f(function(){var a=M.getElementsByTagName("body")[0];if(a){var A=M.createElement("div");A.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px";a.insertBefore(A,a.firstChild);d=M.createElement("div");A.appendChild(d);d.innerHTML=
"<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>";e=d.getElementsByTagName("td");O=0===e[0].offsetHeight;e[0].style.display="";e[1].style.display="none";g.reliableHiddenOffsets=O&&0===e[0].offsetHeight;if(b.getComputedStyle){d.innerHTML="";var k=M.createElement("div");k.style.width="0";k.style.marginRight="0";d.style.width="2px";d.appendChild(k);g.reliableMarginRight=0===(parseInt((b.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)}"undefined"!==
typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,g.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",g.shrinkWrapBlocks=3!==d.offsetWidth);d.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;";d.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
k=d.firstChild;var q=k.firstChild;var Q={doesNotAddBorder:5!==q.offsetTop,doesAddBorderForTableAndCells:5===k.nextSibling.firstChild.firstChild.offsetTop};q.style.position="fixed";q.style.top="20px";Q.fixedPosition=20===q.offsetTop||15===q.offsetTop;q.style.position=q.style.top="";k.style.overflow="hidden";k.style.position="relative";Q.subtractsBorderForOverflowNotVisible=-5===q.offsetTop;Q.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop;b.getComputedStyle&&(d.style.marginTop="1%",g.pixelMargin=
"1%"!==(b.getComputedStyle(d,null)||{marginTop:0}).marginTop);"undefined"!==typeof A.style.zoom&&(A.style.zoom=1);a.removeChild(A);d=null;f.extend(g,Q)}});return g}();var da=/^(?:\{.*\}|\[.*\])$/,Ya=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){e=e.nodeType?f.cache[e[f.expando]]:e[f.expando];return!!e&&!h(e)},data:function(e,a,b,d){if(f.acceptData(e)){var A=
f.expando;var k="string"===typeof a,q=e.nodeType,Q=q?f.cache:e,p=q?e[A]:e[A]&&A,r="events"===a;if(p&&Q[p]&&(r||d||Q[p].data)||!k||b!==g){p||(q?e[A]=p=++f.uuid:p=A);Q[p]||(Q[p]={},q||(Q[p].toJSON=f.noop));if("object"===typeof a||"function"===typeof a)d?Q[p]=f.extend(Q[p],a):Q[p].data=f.extend(Q[p].data,a);A=e=Q[p];d||(e.data||(e.data={}),e=e.data);b!==g&&(e[f.camelCase(a)]=b);if(r&&!e[a])return A.events;k?(b=e[a],null==b&&(b=e[f.camelCase(a)])):b=e;return b}}},removeData:function(e,a,b){if(f.acceptData(e)){var d,
A,k=f.expando,q=e.nodeType,Q=q?f.cache:e,p=q?e[k]:k;if(Q[p]){if(a&&(d=b?Q[p]:Q[p].data)){f.isArray(a)||(a in d?a=[a]:(a=f.camelCase(a),a=a in d?[a]:a.split(" ")));var r=0;for(A=a.length;r<A;r++)delete d[a[r]];if(!(b?h:f.isEmptyObject)(d))return}if(!b&&(delete Q[p].data,!h(Q[p])))return;f.support.deleteExpando||!Q.setInterval?delete Q[p]:Q[p]=null;q&&(f.support.deleteExpando?delete e[k]:e.removeAttribute?e.removeAttribute(k):e[k]=null)}}},_data:function(e,a,b){return f.data(e,a,b,!0)},acceptData:function(e){if(e.nodeName){var a=
f.noData[e.nodeName.toLowerCase()];if(a)return!(!0===a||e.getAttribute("classid")!==a)}return!0}});f.fn.extend({data:function(e,a){var b,d=this[0],A=0,k=null;if(e===g){if(this.length&&(k=f.data(d),1===d.nodeType&&!f._data(d,"parsedAttrs"))){var q=d.attributes;for(b=q.length;A<b;A++){var p=q[A].name;0===p.indexOf("data-")&&(p=f.camelCase(p.substring(5)),n(d,p,k[p]))}f._data(d,"parsedAttrs",!0)}return k}if("object"===typeof e)return this.each(function(){f.data(this,e)});var r=e.split(".",2);r[1]=r[1]?
"."+r[1]:"";var O=r[1]+"!";return f.access(this,function(a){if(a===g)return k=this.triggerHandler("getData"+O,[r[0]]),k===g&&d&&(k=f.data(d,e),k=n(d,e,k)),k===g&&r[1]?this.data(r[0]):k;r[1]=a;this.each(function(){var b=f(this);b.triggerHandler("setData"+O,r);f.data(this,e,a);b.triggerHandler("changeData"+O,r)})},null,a,1<arguments.length,null,!1)},removeData:function(e){return this.each(function(){f.removeData(this,e)})}});f.extend({_mark:function(e,a){e&&(a=(a||"fx")+"mark",f._data(e,a,(f._data(e,
a)||0)+1))},_unmark:function(e,a,b){!0!==e&&(b=a,a=e,e=!1);if(a){b=b||"fx";var d=b+"mark";(e=e?0:(f._data(a,d)||1)-1)?f._data(a,d,e):(f.removeData(a,d,!0),t(a,b,"mark"))}},queue:function(e,a,b){if(e){a=(a||"fx")+"queue";var d=f._data(e,a);b&&(!d||f.isArray(b)?d=f._data(e,a,f.makeArray(b)):d.push(b));return d||[]}},dequeue:function(e,a){a=a||"fx";var b=f.queue(e,a),d=b.shift(),A={};"inprogress"===d&&(d=b.shift());d&&("fx"===a&&b.unshift("inprogress"),f._data(e,a+".run",A),d.call(e,function(){f.dequeue(e,
a)},A));b.length||(f.removeData(e,a+"queue "+a+".run",!0),t(e,a,"queue"))}});f.fn.extend({queue:function(e,a){var b=2;"string"!==typeof e&&(a=e,e="fx",b--);return arguments.length<b?f.queue(this[0],e):a===g?this:this.each(function(){var b=f.queue(this,e,a);"fx"===e&&"inprogress"!==b[0]&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},delay:function(e,a){e=f.fx?f.fx.speeds[e]||e:e;return this.queue(a||"fx",function(a,b){var d=setTimeout(a,e);b.stop=function(){clearTimeout(d)}})},
clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,a){function b(){--q||d.resolveWith(A,[A])}"string"!==typeof e&&(a=e,e=g);e=e||"fx";for(var d=f.Deferred(),A=this,k=A.length,q=1,p=e+"defer",r=e+"queue",O=e+"mark",B;k--;)if(B=f.data(A[k],p,g,!0)||(f.data(A[k],r,g,!0)||f.data(A[k],O,g,!0))&&f.data(A[k],p,f.Callbacks("once memory"),!0))q++,B.add(b);b();return d.promise(a)}});var Fa=/[\n\t\r]/g,ta=/\s+/,na=/\r/g,Pa=/^(?:button|input)$/i,Qa=/^(?:button|input|object|select|textarea)$/i,
Xa=/^a(?:rea)?$/i,La=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,G=f.support.getSetAttribute;f.fn.extend({attr:function(e,a){return f.access(this,f.attr,e,a,1<arguments.length)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,e)})},prop:function(e,a){return f.access(this,f.prop,e,a,1<arguments.length)},removeProp:function(e){e=f.propFix[e]||e;return this.each(function(){try{this[e]=g,delete this[e]}catch(A){}})},
addClass:function(e){var a,b;if(f.isFunction(e))return this.each(function(a){f(this).addClass(e.call(this,a,this.className))});if(e&&"string"===typeof e){var d=e.split(ta);var k=0;for(a=this.length;k<a;k++){var q=this[k];if(1===q.nodeType)if(q.className||1!==d.length){var p=" "+q.className+" ";var r=0;for(b=d.length;r<b;r++)~p.indexOf(" "+d[r]+" ")||(p+=d[r]+" ");q.className=f.trim(p)}else q.className=e}}return this},removeClass:function(e){var a,b;if(f.isFunction(e))return this.each(function(a){f(this).removeClass(e.call(this,
a,this.className))});if(e&&"string"===typeof e||e===g){var d=(e||"").split(ta);var k=0;for(a=this.length;k<a;k++){var q=this[k];if(1===q.nodeType&&q.className)if(e){var p=(" "+q.className+" ").replace(Fa," ");var r=0;for(b=d.length;r<b;r++)p=p.replace(" "+d[r]+" "," ");q.className=f.trim(p)}else q.className=""}}return this},toggleClass:function(e,a){var b=typeof e,d="boolean"===typeof a;return f.isFunction(e)?this.each(function(b){f(this).toggleClass(e.call(this,b,this.className,a),a)}):this.each(function(){if("string"===
b)for(var k,A=0,q=f(this),p=a,r=e.split(ta);k=r[A++];)p=d?p:!q.hasClass(k),q[p?"addClass":"removeClass"](k);else if("undefined"===b||"boolean"===b)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===e?"":f._data(this,"__className__")||""})},hasClass:function(e){e=" "+e+" ";for(var a=0,b=this.length;a<b;a++)if(1===this[a].nodeType&&-1<(" "+this[a].className+" ").replace(Fa," ").indexOf(e))return!0;return!1},val:function(e){var a,b,d=this[0];if(arguments.length){var k=
f.isFunction(e);return this.each(function(b){var d=f(this);1===this.nodeType&&(b=k?e.call(this,b,d.val()):e,null==b?b="":"number"===typeof b?b+="":f.isArray(b)&&(b=f.map(b,function(e){return null==e?"":e+""})),a=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&a.set(this,b,"value")!==g||(this.value=b))})}if(d){if((a=f.valHooks[d.type]||f.valHooks[d.nodeName.toLowerCase()])&&"get"in a&&(b=a.get(d,"value"))!==g)return b;b=d.value;return"string"===typeof b?b.replace(na,""):
null==b?"":b}}});f.extend({valHooks:{option:{get:function(e){var a=e.attributes.value;return!a||a.specified?e.value:e.text}},select:{get:function(e){var a,b=e.selectedIndex,d=[],k=e.options,q="select-one"===e.type;if(0>b)return null;e=q?b:0;for(a=q?b+1:k.length;e<a;e++){var p=k[e];if(!(!p.selected||(f.support.optDisabled?p.disabled:null!==p.getAttribute("disabled"))||p.parentNode.disabled&&f.nodeName(p.parentNode,"optgroup"))){p=f(p).val();if(q)return p;d.push(p)}}return q&&!d.length&&k.length?f(k[b]).val():
d},set:function(e,a){var b=f.makeArray(a);f(e).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),b)});b.length||(e.selectedIndex=-1);return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,a,b,d){var k,A=e.nodeType;if(e&&3!==A&&8!==A&&2!==A){if(d&&a in f.attrFn)return f(e)[a](b);if("undefined"===typeof e.getAttribute)return f.prop(e,a,b);if(d=1!==A||!f.isXMLDoc(e)){a=a.toLowerCase();var q=f.attrHooks[a]||(La.test(a)?Ra:Za)}if(b!==
g)if(null===b)f.removeAttr(e,a);else{if(q&&"set"in q&&d&&(k=q.set(e,b,a))!==g)return k;e.setAttribute(a,""+b);return b}else{if(q&&"get"in q&&d&&null!==(k=q.get(e,a)))return k;k=e.getAttribute(a);return null===k?g:k}}},removeAttr:function(e,a){var b,d,k,A=0;if(a&&1===e.nodeType){var q=a.toLowerCase().split(ta);for(d=q.length;A<d;A++)if(b=q[A]){var p=f.propFix[b]||b;(k=La.test(b))||f.attr(e,b,"");e.removeAttribute(G?b:p);k&&p in e&&(e[p]=!1)}}},attrHooks:{type:{set:function(e,a){if(Pa.test(e.nodeName)&&
e.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===a&&f.nodeName(e,"input")){var b=e.value;e.setAttribute("type",a);b&&(e.value=b);return a}}},value:{get:function(e,a){return Za&&f.nodeName(e,"button")?Za.get(e,a):a in e?e.value:null},set:function(e,a,b){if(Za&&f.nodeName(e,"button"))return Za.set(e,a,b);e.value=a}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",
rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,a,b){var d,k=e.nodeType;if(e&&3!==k&&8!==k&&2!==k){if(1!==k||!f.isXMLDoc(e)){a=f.propFix[a]||a;var A=f.propHooks[a]}return b!==g?A&&"set"in A&&(d=A.set(e,b,a))!==g?d:e[a]=b:A&&"get"in A&&null!==(d=A.get(e,a))?d:e[a]}},propHooks:{tabIndex:{get:function(e){var a=e.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Qa.test(e.nodeName)||Xa.test(e.nodeName)&&
e.href?0:g}}}});f.attrHooks.tabindex=f.propHooks.tabIndex;var Ra={get:function(e,a){var b,d=f.prop(e,a);return!0===d||"boolean"!==typeof d&&(b=e.getAttributeNode(a))&&!1!==b.nodeValue?a.toLowerCase():g},set:function(e,a,b){!1===a?f.removeAttr(e,b):(a=f.propFix[b]||b,a in e&&(e[a]=!0),e.setAttribute(b,b.toLowerCase()));return b}};if(!G){var eb={name:!0,id:!0,coords:!0};var Za=f.valHooks.button={get:function(e,a){var b;return(b=e.getAttributeNode(a))&&(eb[a]?""!==b.nodeValue:b.specified)?b.nodeValue:
g},set:function(e,a,b){var d=e.getAttributeNode(b);d||(d=M.createAttribute(b),e.setAttributeNode(d));return d.nodeValue=a+""}};f.attrHooks.tabindex.set=Za.set;f.each(["width","height"],function(e,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(e,b){if(""===b)return e.setAttribute(a,"auto"),b}})});f.attrHooks.contenteditable={get:Za.get,set:function(e,a,b){""===a&&(a="false");Za.set(e,a,b)}}}f.support.hrefNormalized||f.each(["href","src","width","height"],function(e,a){f.attrHooks[a]=f.extend(f.attrHooks[a],
{get:function(e){e=e.getAttribute(a,2);return null===e?g:e}})});f.support.style||(f.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||g},set:function(e,a){return e.style.cssText=""+a}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(e){if(e=e.parentNode)e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex;return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]=
{get:function(e){return null===e.getAttribute("value")?"on":e.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(e,a){if(f.isArray(a))return e.checked=0<=f.inArray(f(e).val(),a)}})});var ha=/^(?:textarea|input|select)$/i,Da=/^([^\.]*)?(?:\.(.+))?$/,gb=/(?:^|\s)hover(\.\S+)?\b/,Ca=/^key/,Ia=/^(?:mouse|contextmenu)|click/,p=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,W=function(e){if(e=F.exec(e))e[1]=(e[1]||"").toLowerCase(),
e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)");return e},ea=function(e){return f.event.special.hover?e:e.replace(gb,"mouseenter$1 mouseleave$1")};f.event={add:function(e,a,b,d,k){var q;if(3!==e.nodeType&&8!==e.nodeType&&a&&b&&(q=f._data(e))){if(b.handler){var A=b;b=A.handler;k=A.selector}b.guid||(b.guid=f.guid++);var p=q.events;p||(q.events=p={});var r=q.handle;r||(q.handle=r=function(e){return"undefined"===typeof f||e&&f.event.triggered===e.type?g:f.event.dispatch.apply(r.elem,arguments)},r.elem=
e);a=f.trim(ea(a)).split(" ");for(q=0;q<a.length;q++){var O=Da.exec(a[q])||[];var Q=O[1];var B=(O[2]||"").split(".").sort();var n=f.event.special[Q]||{};Q=(k?n.delegateType:n.bindType)||Q;n=f.event.special[Q]||{};O=f.extend({type:Q,origType:O[1],data:d,handler:b,guid:b.guid,selector:k,quick:k&&W(k),namespace:B.join(".")},A);var fa=p[Q];fa||(fa=p[Q]=[],fa.delegateCount=0,n.setup&&!1!==n.setup.call(e,d,B,r)||(e.addEventListener?e.addEventListener(Q,r,!1):e.attachEvent&&e.attachEvent("on"+Q,r)));n.add&&
(n.add.call(e,O),O.handler.guid||(O.handler.guid=b.guid));k?fa.splice(fa.delegateCount++,0,O):fa.push(O);f.event.global[Q]=!0}e=null}},global:{},remove:function(e,a,b,d,k){var q=f.hasData(e)&&f._data(e),A,p,r,g;if(q&&(g=q.events)){a=f.trim(ea(a||"")).split(" ");for(A=0;A<a.length;A++){var O=Da.exec(a[A])||[];var Q=p=O[1];O=O[2];if(Q){var B=f.event.special[Q]||{};Q=(d?B.delegateType:B.bindType)||Q;var n=g[Q]||[];var fa=n.length;O=O?new RegExp("(^|\\.)"+O.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):
null;for(r=0;r<n.length;r++){var H=n[r];!k&&p!==H.origType||b&&b.guid!==H.guid||O&&!O.test(H.namespace)||d&&d!==H.selector&&("**"!==d||!H.selector)||(n.splice(r--,1),H.selector&&n.delegateCount--,B.remove&&B.remove.call(e,H))}0===n.length&&fa!==n.length&&(B.teardown&&!1!==B.teardown.call(e,O)||f.removeEvent(e,Q,q.handle),delete g[Q])}else for(Q in g)f.event.remove(e,Q+a[A],b,d,!0)}if(f.isEmptyObject(g)){if(a=q.handle)a.elem=null;f.removeData(e,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,
changeData:!0},trigger:function(e,a,d,k){if(!d||3!==d.nodeType&&8!==d.nodeType){var q=e.type||e,A=[],r;if(!p.test(q+f.event.triggered)){if(0<=q.indexOf("!")){q=q.slice(0,-1);var O=!0}0<=q.indexOf(".")&&(A=q.split("."),q=A.shift(),A.sort());if(d&&!f.event.customEvent[q]||f.event.global[q])if(e="object"===typeof e?e[f.expando]?e:new f.Event(q,e):new f.Event(q),e.type=q,e.isTrigger=!0,e.exclusive=O,e.namespace=A.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.)?")+"(\\.|$)"):
null,O=0>q.indexOf(":")?"on"+q:"",d){e.result=g;e.target||(e.target=d);a=null!=a?f.makeArray(a):[];a.unshift(e);var B=f.event.special[q]||{};if(!B.trigger||!1!==B.trigger.apply(d,a)){var n=[[d,B.bindType||q]];if(!k&&!B.noBubble&&!f.isWindow(d)){var Q=B.delegateType||q;A=p.test(Q+q)?d:d.parentNode;for(r=null;A;A=A.parentNode)n.push([A,Q]),r=A;r&&r===d.ownerDocument&&n.push([r.defaultView||r.parentWindow||b,Q])}for(r=0;r<n.length&&!e.isPropagationStopped();r++)A=n[r][0],e.type=n[r][1],(Q=(f._data(A,
"events")||{})[e.type]&&f._data(A,"handle"))&&Q.apply(A,a),(Q=O&&A[O])&&f.acceptData(A)&&!1===Q.apply(A,a)&&e.preventDefault();e.type=q;k||e.isDefaultPrevented()||B._default&&!1!==B._default.apply(d.ownerDocument,a)||"click"===q&&f.nodeName(d,"a")||!f.acceptData(d)||!O||!d[q]||("focus"===q||"blur"===q)&&0===e.target.offsetWidth||f.isWindow(d)||((r=d[O])&&(d[O]=null),f.event.triggered=q,d[q](),f.event.triggered=g,r&&(d[O]=r));return e.result}}else for(r in d=f.cache,d)d[r].events&&d[r].events[q]&&
f.event.trigger(e,a,d[r].handle.elem,!0)}}},dispatch:function(e){e=f.event.fix(e||b.event);var a=(f._data(this,"events")||{})[e.type]||[],d=a.delegateCount,k=[].slice.call(arguments,0),q=!e.exclusive&&!e.namespace,p=f.event.special[e.type]||{},r=[],O,B;k[0]=e;e.delegateTarget=this;if(!p.preDispatch||!1!==p.preDispatch.call(this,e)){if(d&&(!e.button||"click"!==e.type)){var n=f(this);n.context=this.ownerDocument||this;for(B=e.target;B!=this;B=B.parentNode||this)if(!0!==B.disabled){var H={};var h=[];
n[0]=B;for(O=0;O<d;O++){var l=a[O];var K=l.selector;if(H[K]===g){var E=H,Ea=K;if(l.quick){var ja=l.quick;var F=B.attributes||{};ja=(!ja[1]||B.nodeName.toLowerCase()===ja[1])&&(!ja[2]||(F.id||{}).value===ja[2])&&(!ja[3]||ja[3].test((F["class"]||{}).value))}else ja=n.is(K);E[Ea]=ja}H[K]&&h.push(l)}h.length&&r.push({elem:B,matches:h})}}a.length>d&&r.push({elem:this,matches:a.slice(d)});for(O=0;O<r.length&&!e.isPropagationStopped();O++)for(d=r[O],e.currentTarget=d.elem,a=0;a<d.matches.length&&!e.isImmediatePropagationStopped();a++)if(l=
d.matches[a],q||!e.namespace&&!l.namespace||e.namespace_re&&e.namespace_re.test(l.namespace))e.data=l.data,e.handleObj=l,l=((f.event.special[l.origType]||{}).handle||l.handler).apply(d.elem,k),l!==g&&(e.result=l,!1===l&&(e.preventDefault(),e.stopPropagation()));p.postDispatch&&p.postDispatch.call(this,e);return e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(e,a){null==e.which&&(e.which=null!=a.charCode?a.charCode:a.keyCode);return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,a){var b=a.button,d=a.fromElement;if(null==e.pageX&&null!=a.clientX){var f=e.target.ownerDocument||M;var k=f.documentElement;f=f.body;e.pageX=a.clientX+(k&&k.scrollLeft||f&&f.scrollLeft||0)-(k&&k.clientLeft||
f&&f.clientLeft||0);e.pageY=a.clientY+(k&&k.scrollTop||f&&f.scrollTop||0)-(k&&k.clientTop||f&&f.clientTop||0)}!e.relatedTarget&&d&&(e.relatedTarget=d===e.target?a.toElement:d);e.which||b===g||(e.which=b&1?1:b&2?3:b&4?2:0);return e}},fix:function(e){if(e[f.expando])return e;var a,b=e,d=f.event.fixHooks[e.type]||{},k=d.props?this.props.concat(d.props):this.props;e=f.Event(b);for(a=k.length;a;){var q=k[--a];e[q]=b[q]}e.target||(e.target=b.srcElement||M);3===e.target.nodeType&&(e.target=e.target.parentNode);
e.metaKey===g&&(e.metaKey=e.ctrlKey);return d.filter?d.filter(e,b):e},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,a,b){f.isWindow(this)&&(this.onbeforeunload=b)},teardown:function(e,a){this.onbeforeunload===a&&(this.onbeforeunload=null)}}},simulate:function(e,a,b,d){e=f.extend(new f.Event,b,{type:e,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,a):f.event.dispatch.call(a,e);e.isDefaultPrevented()&&
b.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=M.removeEventListener?function(e,a,b){e.removeEventListener&&e.removeEventListener(a,b,!1)}:function(e,a,b){e.detachEvent&&e.detachEvent("on"+a,b)};f.Event=function(e,a){if(!(this instanceof f.Event))return new f.Event(e,a);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?x:z):this.type=e;a&&f.extend(this,a);this.timeStamp=e&&
e.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=x;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=x;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x;this.stopPropagation()},isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z};
f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,a){f.event.special[e]={delegateType:a,bindType:a,handle:function(e){var b=e.relatedTarget,d=e.handleObj;if(!b||b!==this&&!f.contains(this,b)){e.type=d.origType;var k=d.handler.apply(this,arguments);e.type=a}return k}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(e){e=e.target;(e=f.nodeName(e,"input")||f.nodeName(e,"button")?
e.form:g)&&!e._submit_attached&&(f.event.add(e,"submit._submit",function(e){e._submit_bubble=!0}),e._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&f.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(ha.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,
"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,e,!0))});return!1}f.event.add(this,"beforeactivate._change",function(e){e=e.target;ha.test(e.nodeName)&&!e._change_attached&&(f.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||f.event.simulate("change",this.parentNode,e,!0)}),
e._change_attached=!0)})},handle:function(e){var a=e.target;if(this!==a||e.isSimulated||e.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return ha.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(e,a){var b=0,d=function(e){f.event.simulate(a,e.target,f.event.fix(e),!0)};f.event.special[a]={setup:function(){0===b++&&M.addEventListener(e,d,!0)},teardown:function(){0===
--b&&M.removeEventListener(e,d,!0)}}});f.fn.extend({on:function(e,a,b,d,k){var q;if("object"===typeof e){"string"!==typeof a&&(b=b||a,a=g);for(q in e)this.on(q,a,b,e[q],k);return this}null==b&&null==d?(d=a,b=a=g):null==d&&("string"===typeof a?(d=b,b=g):(d=b,b=a,a=g));if(!1===d)d=z;else if(!d)return this;if(1===k){var A=d;d=function(e){f().off(e);return A.apply(this,arguments)};d.guid=A.guid||(A.guid=f.guid++)}return this.each(function(){f.event.add(this,e,d,b,a)})},one:function(e,a,b,d){return this.on(e,
a,b,d,1)},off:function(e,a,b){if(e&&e.preventDefault&&e.handleObj){var d=e.handleObj;f(e.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof e){for(d in e)this.off(d,a,e[d]);return this}if(!1===a||"function"===typeof a)b=a,a=g;!1===b&&(b=z);return this.each(function(){f.event.remove(this,e,b,a)})},bind:function(e,a,b){return this.on(e,null,a,b)},unbind:function(e,a){return this.off(e,null,a)},live:function(e,a,b){f(this.context).on(e,
this.selector,a,b);return this},die:function(e,a){f(this.context).off(e,this.selector||"**",a);return this},delegate:function(e,a,b,d){return this.on(a,e,b,d)},undelegate:function(e,a,b){return 1==arguments.length?this.off(e,"**"):this.off(a,e,b)},trigger:function(e,a){return this.each(function(){f.event.trigger(e,a,this)})},triggerHandler:function(e,a){if(this[0])return f.event.trigger(e,a,this[0],!0)},toggle:function(e){var a=arguments,b=e.guid||f.guid++,d=0,k=function(b){var k=(f._data(this,"lastToggle"+
e.guid)||0)%d;f._data(this,"lastToggle"+e.guid,k+1);b.preventDefault();return a[k].apply(this,arguments)||!1};for(k.guid=b;d<a.length;)a[d++].guid=b;return this.click(k)},hover:function(e,a){return this.mouseenter(e).mouseleave(a||e)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,a){f.fn[a]=function(e,b){null==b&&
(b=e,e=null);return 0<arguments.length?this.on(a,null,e,b):this.trigger(a)};f.attrFn&&(f.attrFn[a]=!0);Ca.test(a)&&(f.event.fixHooks[a]=f.event.keyHooks);Ia.test(a)&&(f.event.fixHooks[a]=f.event.mouseHooks)});(function(){function e(e,a,b,f,k,q){k=0;for(var p=f.length;k<p;k++){var r=f[k];if(r){for(var A=!1,r=r[e];r;){if(r[d]===b){A=f[r.sizset];break}1!==r.nodeType||q||(r[d]=b,r.sizset=k);if(r.nodeName.toLowerCase()===a){A=r;break}r=r[e]}f[k]=A}}}function a(e,a,b,f,k,q){k=0;for(var r=f.length;k<r;k++){var p=
f[k];if(p){for(var A=!1,p=p[e];p;){if(p[d]===b){A=f[p.sizset];break}if(1===p.nodeType)if(q||(p[d]=b,p.sizset=k),"string"!==typeof a){if(p===a){A=!0;break}}else if(0<H.filter(a,[p]).length){A=p;break}p=p[e]}f[k]=A}}}var b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),k=0,q=Object.prototype.toString,p=!1,r=!0,O=/\\/g,B=/\r\n/g,n=/\W/;[0,0].sort(function(){r=!1;return 0});
var H=function(e,a,d,k){d=d||[];var f=a=a||M;if(1!==a.nodeType&&9!==a.nodeType)return[];if(!e||"string"!==typeof e)return d;var p,r,A,O=!0,g=H.isXML(a),B=[],n=e;do if(b.exec(""),p=b.exec(n))if(n=p[3],B.push(p[1]),p[2]){var l=p[3];break}while(p);if(1<B.length&&K.exec(e))if(2===B.length&&h.relative[B[0]])var E=ua(B[0]+B[1],a,k);else for(E=h.relative[B[0]]?[a]:H(B.shift(),a);B.length;)e=B.shift(),h.relative[e]&&(e+=B.shift()),E=ua(e,E,k);else if(!k&&1<B.length&&9===a.nodeType&&!g&&h.match.ID.test(B[0])&&
!h.match.ID.test(B[B.length-1])&&(p=H.find(B.shift(),a,g),a=p.expr?H.filter(p.expr,p.set)[0]:p.set[0]),a)for(p=k?{expr:B.pop(),set:ja(k)}:H.find(B.pop(),1!==B.length||"~"!==B[0]&&"+"!==B[0]||!a.parentNode?a:a.parentNode,g),E=p.expr?H.filter(p.expr,p.set):p.set,0<B.length?r=ja(E):O=!1;B.length;)p=A=B.pop(),h.relative[A]?p=B.pop():A="",null==p&&(p=a),h.relative[A](r,p,g);else r=[];r||(r=E);r||H.error(A||e);if("[object Array]"===q.call(r))if(O)if(a&&1===a.nodeType)for(e=0;null!=r[e];e++)r[e]&&(!0===
r[e]||1===r[e].nodeType&&H.contains(a,r[e]))&&d.push(E[e]);else for(e=0;null!=r[e];e++)r[e]&&1===r[e].nodeType&&d.push(E[e]);else d.push.apply(d,r);else ja(r,d);l&&(H(l,f,d,k),H.uniqueSort(d));return d};H.uniqueSort=function(e){if(F&&(p=r,e.sort(F),p))for(var a=1;a<e.length;a++)e[a]===e[a-1]&&e.splice(a--,1);return e};H.matches=function(e,a){return H(e,null,null,a)};H.matchesSelector=function(e,a){return 0<H(a,null,null,[e]).length};H.find=function(e,a,b){var d,k;if(!e)return[];var f=0;for(d=h.order.length;f<
d;f++){var q=h.order[f];if(k=h.leftMatch[q].exec(e)){var p=k[1];k.splice(1,1);if("\\"!==p.substr(p.length-1)){k[1]=(k[1]||"").replace(O,"");var r=h.find[q](k,a,b);if(null!=r){e=e.replace(h.match[q],"");break}}}}r||(r="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):[]);return{set:r,expr:e}};H.filter=function(e,a,b,d){for(var k,f,q,p,r,A,O,B,n=e,l=[],E=a,K=a&&a[0]&&H.isXML(a[0]);e&&a.length;){for(q in h.filter)if(null!=(k=h.leftMatch[q].exec(e))&&k[2]&&(A=h.filter[q],r=k[1],
f=!1,k.splice(1,1),"\\"!==r.substr(r.length-1))){E===l&&(l=[]);if(h.preFilter[q])if(k=h.preFilter[q](k,E,b,l,d,K),!k)f=p=!0;else if(!0===k)continue;if(k)for(O=0;null!=(r=E[O]);O++)r&&(p=A(r,k,O,E),B=d^p,b&&null!=p?B?f=!0:E[O]=!1:B&&(l.push(r),f=!0));if(p!==g){b||(E=l);e=e.replace(h.match[q],"");if(!f)return[];break}}if(e===n)if(null==f)H.error(e);else break;n=e}return E};H.error=function(e){throw Error("Syntax error, unrecognized expression: "+e);};var l=H.getText=function(e){var a;var b=e.nodeType;
var d="";if(b)if(1===b||9===b||11===b){if("string"===typeof e.textContent)return e.textContent;if("string"===typeof e.innerText)return e.innerText.replace(B,"");for(e=e.firstChild;e;e=e.nextSibling)d+=l(e)}else{if(3===b||4===b)return e.nodeValue}else for(b=0;a=e[b];b++)8!==a.nodeType&&(d+=l(a));return d},h=H.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,a){var b=
"string"===typeof a,d=b&&!n.test(a),b=b&&!d;d&&(a=a.toLowerCase());for(var d=0,k=e.length,f;d<k;d++)if(f=e[d]){for(;(f=f.previousSibling)&&1!==f.nodeType;);e[d]=b||f&&f.nodeName.toLowerCase()===a?f||!1:f===a}b&&H.filter(a,e,!0)},">":function(e,a){var b,d="string"===typeof a,k=0,f=e.length;if(d&&!n.test(a))for(a=a.toLowerCase();k<f;k++){if(b=e[k])b=b.parentNode,e[k]=b.nodeName.toLowerCase()===a?b:!1}else{for(;k<f;k++)(b=e[k])&&(e[k]=d?b.parentNode:b.parentNode===a);d&&H.filter(a,e,!0)}},"":function(b,
d,f){var q=k++,p=a;if("string"===typeof d&&!n.test(d)){var r=d=d.toLowerCase();p=e}p("parentNode",d,q,b,r,f)},"~":function(b,d,f){var q=k++,p=a;if("string"===typeof d&&!n.test(d)){var r=d=d.toLowerCase();p=e}p("previousSibling",d,q,b,r,f)}},find:{ID:function(e,a,b){if("undefined"!==typeof a.getElementById&&!b)return(e=a.getElementById(e[1]))&&e.parentNode?[e]:[]},NAME:function(e,a){if("undefined"!==typeof a.getElementsByName){for(var b=[],d=a.getElementsByName(e[1]),k=0,f=d.length;k<f;k++)d[k].getAttribute("name")===
e[1]&&b.push(d[k]);return 0===b.length?null:b}},TAG:function(e,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,a,b,d,k,f){e=" "+e[1].replace(O,"")+" ";if(f)return e;f=0;for(var q;null!=(q=a[f]);f++)q&&(k^(q.className&&0<=(" "+q.className+" ").replace(/[\t\n\r]/g," ").indexOf(e))?b||d.push(q):b&&(a[f]=!1));return!1},ID:function(e){return e[1].replace(O,"")},TAG:function(e,a){return e[1].replace(O,"").toLowerCase()},CHILD:function(e){if("nth"===
e[1]){e[2]||H.error(e[0]);e[2]=e[2].replace(/^\+|\s*/g,"");var a=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=a[1]+(a[2]||1)-0;e[3]=a[3]-0}else e[2]&&H.error(e[0]);e[0]=k++;return e},ATTR:function(e,a,b,d,k,f){a=e[1]=e[1].replace(O,"");!f&&h.attrMap[a]&&(e[1]=h.attrMap[a]);e[4]=(e[4]||e[5]||"").replace(O,"");"~="===e[2]&&(e[4]=" "+e[4]+" ");return e},PSEUDO:function(e,a,d,k,f){if("not"===e[1])if(1<(b.exec(e[3])||"").length||
/^\w/.test(e[3]))e[3]=H(e[3],null,null,a);else return e=H.filter(e[3],a,d,1^f),d||k.push.apply(k,e),!1;else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){e.unshift(!0);return e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return!0===e.selected},parent:function(e){return!!e.firstChild},
empty:function(e){return!e.firstChild},has:function(e,a,b){return!!H(b[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var a=e.getAttribute("type"),b=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===b&&(a===b||null===a)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},
password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&"reset"===e.type},button:function(e){var a=e.nodeName.toLowerCase();return"input"===a&&"button"===e.type||"button"===a},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},
focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,a){return 0===a},last:function(e,a,b,d){return a===d.length-1},even:function(e,a){return 0===a%2},odd:function(e,a){return 1===a%2},lt:function(e,a,b){return a<b[3]-0},gt:function(e,a,b){return a>b[3]-0},nth:function(e,a,b){return b[3]-0===a},eq:function(e,a,b){return b[3]-0===a}},filter:{PSEUDO:function(e,a,b,d){var k=a[1],f=h.filters[k];if(f)return f(e,b,a,d);if("contains"===k)return 0<=(e.textContent||e.innerText||
l([e])||"").indexOf(a[3]);if("not"===k){a=a[3];b=0;for(d=a.length;b<d;b++)if(a[b]===e)return!1;return!0}H.error(k)},CHILD:function(e,a){var b;var k=a[1];var f=e;switch(k){case "only":case "first":for(;f=f.previousSibling;)if(1===f.nodeType)return!1;if("first"===k)return!0;f=e;case "last":for(;f=f.nextSibling;)if(1===f.nodeType)return!1;return!0;case "nth":k=a[2];var q=a[3];if(1===k&&0===q)return!0;var p=a[0];if((b=e.parentNode)&&(b[d]!==p||!e.nodeIndex)){var r=0;for(f=b.firstChild;f;f=f.nextSibling)1===
f.nodeType&&(f.nodeIndex=++r);b[d]=p}f=e.nodeIndex-q;return 0===k?0===f:0===f%k&&0<=f/k}},ID:function(e,a){return 1===e.nodeType&&e.getAttribute("id")===a},TAG:function(e,a){return"*"===a&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===a},CLASS:function(e,a){return-1<(" "+(e.className||e.getAttribute("class"))+" ").indexOf(a)},ATTR:function(e,a){var b=a[1],b=H.attr?H.attr(e,b):h.attrHandle[b]?h.attrHandle[b](e):null!=e[b]?e[b]:e.getAttribute(b),d=b+"",f=a[2],k=a[4];return null==b?"!="===
f:!f&&H.attr?null!=b:"="===f?d===k:"*="===f?0<=d.indexOf(k):"~="===f?0<=(" "+d+" ").indexOf(k):k?"!="===f?d!==k:"^="===f?0===d.indexOf(k):"$="===f?d.substr(d.length-k.length)===k:"|="===f?d===k||d.substr(0,k.length+1)===k+"-":!1:d&&!1!==b},POS:function(e,a,b,d){var k=h.setFilters[a[2]];if(k)return k(e,b,a,d)}}},K=h.match.POS,E=function(e,a){return"\\"+(a-0+1)},Ea;for(Ea in h.match)h.match[Ea]=new RegExp(h.match[Ea].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[Ea]=new RegExp(/(^(?:.|\r|\n)*?)/.source+
h.match[Ea].source.replace(/\\(\d+)/g,E));h.match.globalPOS=K;var ja=function(e,a){e=Array.prototype.slice.call(e,0);return a?(a.push.apply(a,e),a):e};try{Array.prototype.slice.call(M.documentElement.childNodes,0)[0].nodeType}catch(Ib){ja=function(e,a){var b=0,d=a||[];if("[object Array]"===q.call(e))Array.prototype.push.apply(d,e);else if("number"===typeof e.length)for(var k=e.length;b<k;b++)d.push(e[b]);else for(;e[b];b++)d.push(e[b]);return d}}if(M.documentElement.compareDocumentPosition)var F=
function(e,a){return e===a?(p=!0,0):e.compareDocumentPosition&&a.compareDocumentPosition?e.compareDocumentPosition(a)&4?-1:1:e.compareDocumentPosition?-1:1};else{F=function(e,a){if(e===a)return p=!0,0;if(e.sourceIndex&&a.sourceIndex)return e.sourceIndex-a.sourceIndex;var b=[],d=[];var k=e.parentNode;var f=a.parentNode;var q=k;if(k===f)return qa(e,a);if(!k)return-1;if(!f)return 1;for(;q;)b.unshift(q),q=q.parentNode;for(q=f;q;)d.unshift(q),q=q.parentNode;k=b.length;f=d.length;for(q=0;q<k&&q<f;q++)if(b[q]!==
d[q])return qa(b[q],d[q]);return q===k?qa(e,d[q],-1):qa(b[q],a,1)};var qa=function(e,a,b){if(e===a)return b;for(e=e.nextSibling;e;){if(e===a)return-1;e=e.nextSibling}return 1}}(function(){var e=M.createElement("div"),a="script"+(new Date).getTime(),b=M.documentElement;e.innerHTML="<a name='"+a+"'/>";b.insertBefore(e,b.firstChild);M.getElementById(a)&&(h.find.ID=function(e,a,b){if("undefined"!==typeof a.getElementById&&!b)return(a=a.getElementById(e[1]))?a.id===e[1]||"undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id").nodeValue===e[1]?[a]:g:[]},h.filter.ID=function(e,a){var b="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&b&&b.nodeValue===a});b.removeChild(e);b=e=null})();(function(){var e=M.createElement("div");e.appendChild(M.createComment(""));0<e.getElementsByTagName("*").length&&(h.find.TAG=function(e,a){var b=a.getElementsByTagName(e[1]);if("*"===e[1]){for(var d=[],k=0;b[k];k++)1===b[k].nodeType&&d.push(b[k]);b=d}return b});e.innerHTML="<a href='#'></a>";
e.firstChild&&"undefined"!==typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)});e=null})();M.querySelectorAll&&function(){var e=H,a=M.createElement("div");a.innerHTML="<p class='TEST'></p>";if(!a.querySelectorAll||0!==a.querySelectorAll(".TEST").length){H=function(a,b,d,k){b=b||M;if(!k&&!H.isXML(b)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(f&&(1===b.nodeType||9===b.nodeType)){if(f[1])return ja(b.getElementsByTagName(a),
d);if(f[2]&&h.find.CLASS&&b.getElementsByClassName)return ja(b.getElementsByClassName(f[2]),d)}if(9===b.nodeType){if("body"===a&&b.body)return ja([b.body],d);if(f&&f[3]){var q=b.getElementById(f[3]);if(q&&q.parentNode){if(q.id===f[3])return ja([q],d)}else return ja([],d)}try{return ja(b.querySelectorAll(a),d)}catch(Bb){}}else if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){var f=b,p=(q=b.getAttribute("id"))||"__sizzle__",r=b.parentNode,A=/^\s*[+~]/.test(a);q?p=p.replace(/'/g,"\\$&"):b.setAttribute("id",
p);A&&r&&(b=b.parentNode);try{if(!A||r)return ja(b.querySelectorAll("[id='"+p+"'] "+a),d)}catch(Bb){}finally{q||f.removeAttribute("id")}}}return e(a,b,d,k)};for(var b in e)H[b]=e[b];a=null}}();(function(){var e=M.documentElement,a=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(a){var b=!a.call(M.createElement("div"),"div"),d=!1;try{a.call(M.documentElement,"[test!='']:sizzle")}catch(Ac){d=!0}H.matchesSelector=function(e,k){k=k.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!H.isXML(e))try{if(d||!h.match.PSEUDO.test(k)&&!/!=/.test(k)){var f=a.call(e,k);if(f||!b||e.document&&11!==e.document.nodeType)return f}}catch(ad){}return 0<H(k,null,null,[e]).length}}})();(function(){var e=M.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,a,b){if("undefined"!==
typeof a.getElementsByClassName&&!b)return a.getElementsByClassName(e[1])},e=null))})();H.contains=M.documentElement.contains?function(e,a){return e!==a&&(e.contains?e.contains(a):!0)}:M.documentElement.compareDocumentPosition?function(e,a){return!!(e.compareDocumentPosition(a)&16)}:function(){return!1};H.isXML=function(e){return(e=(e?e.ownerDocument||e:0).documentElement)?"HTML"!==e.nodeName:!1};var ua=function(e,a,b){var d,k=[],f="";for(a=a.nodeType?[a]:a;d=h.match.PSEUDO.exec(e);)f+=d[0],e=e.replace(h.match.PSEUDO,
"");e=h.relative[e]?e+"*":e;d=0;for(var q=a.length;d<q;d++)H(e,a[d],k,b);return H.filter(f,k)};H.attr=f.attr;H.selectors.attrMap={};f.find=H;f.expr=H.selectors;f.expr[":"]=f.expr.filters;f.unique=H.uniqueSort;f.text=H.getText;f.isXMLDoc=H.isXML;f.contains=H.contains})();var wa=/Until$/,Aa=/^(?:parents|prevUntil|prevAll)/,tb=/,/,R=/^.[^:#\[\.,]*$/,qb=Array.prototype.slice,Sa=f.expr.match.globalPOS,mb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(e){var a=this,b;if("string"!==
typeof e)return f(e).filter(function(){p=0;for(b=a.length;p<b;p++)if(f.contains(a[p],this))return!0});var d=this.pushStack("","find",e),k,q;var p=0;for(b=this.length;p<b;p++){var r=d.length;f.find(e,this[p],d);if(0<p)for(k=r;k<d.length;k++)for(q=0;q<r;q++)if(d[q]===d[k]){d.splice(k--,1);break}}return d},has:function(e){var a=f(e);return this.filter(function(){for(var e=0,b=a.length;e<b;e++)if(f.contains(this,a[e]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,
e,!0),"filter",e)},is:function(e){return!!e&&("string"===typeof e?Sa.test(e)?0<=f(e,this.context).index(this[0]):0<f.filter(e,this).length:0<this.filter(e).length)},closest:function(e,a){var b=[],d,k,q=this[0];if(f.isArray(e)){for(k=1;q&&q.ownerDocument&&q!==a;){for(d=0;d<e.length;d++)f(q).is(e[d])&&b.push({selector:e[d],elem:q,level:k});q=q.parentNode;k++}return b}var p=Sa.test(e)||"string"!==typeof e?f(e,a||this.context):0;d=0;for(k=this.length;d<k;d++)for(q=this[d];q;)if(p?-1<p.index(q):f.find.matchesSelector(q,
e)){b.push(q);break}else if(q=q.parentNode,!q||!q.ownerDocument||q===a||11===q.nodeType)break;b=1<b.length?f.unique(b):b;return this.pushStack(b,"closest",e)},index:function(e){return e?"string"===typeof e?f.inArray(this[0],f(e)):f.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,a){var b="string"===typeof e?f(e,a):f.makeArray(e&&e.nodeType?[e]:e),d=f.merge(this.get(),b);return this.pushStack(l(b[0])||l(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}});
f.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return f.dir(e,"parentNode")},parentsUntil:function(e,a,b){return f.dir(e,"parentNode",b)},next:function(e){return f.nth(e,2,"nextSibling")},prev:function(e){return f.nth(e,2,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},nextUntil:function(e,a,b){return f.dir(e,"nextSibling",b)},prevUntil:function(e,a,b){return f.dir(e,"previousSibling",
b)},siblings:function(e){return f.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return f.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:f.makeArray(e.childNodes)}},function(e,a){f.fn[e]=function(b,d){var k=f.map(this,a,b);wa.test(e)||(d=b);d&&"string"===typeof d&&(k=f.filter(d,k));k=1<this.length&&!mb[e]?f.unique(k):k;(1<this.length||tb.test(d))&&Aa.test(e)&&(k=k.reverse());return this.pushStack(k,e,qb.call(arguments).join(","))}});
f.extend({filter:function(e,a,b){b&&(e=":not("+e+")");return 1===a.length?f.find.matchesSelector(a[0],e)?[a[0]]:[]:f.find.matches(e,a)},dir:function(e,a,b){var d=[];for(e=e[a];e&&9!==e.nodeType&&(b===g||1!==e.nodeType||!f(e).is(b));)1===e.nodeType&&d.push(e),e=e[a];return d},nth:function(e,a,b,d){a=a||1;for(d=0;e&&(1!==e.nodeType||++d!==a);e=e[b]);return e},sibling:function(e,a){for(var b=[];e;e=e.nextSibling)1===e.nodeType&&e!==a&&b.push(e);return b}});var db="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
ka=/ jQuery\d+="(?:\d+|null)"/g,ub=/^\s+/,Jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ya=/<([\w:]+)/,nb=/<tbody/i,Ga=/<|&#?\w+;/,$a=/<(?:script|style)/i,Ja=/<(?:script|object|embed|option|style)/i,ga=new RegExp("<(?:"+db+")[\\s/>]","i"),ib=/checked\s*(?:[^=]|=\s*.checked.)/i,za=/\/(java|ecma)script/i,Cb=/^\s*<!(?:\[CDATA\[|\-\-)/,X={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>",
"</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ia=J(M);X.optgroup=X.option;X.tbody=X.tfoot=X.colgroup=X.caption=X.thead;X.th=X.td;f.support.htmlSerialize||(X._default=[1,"div<div>","</div>"]);f.fn.extend({text:function(e){return f.access(this,function(e){return e===g?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(e))},null,e,arguments.length)},
wrapAll:function(e){if(f.isFunction(e))return this.each(function(a){f(this).wrapAll(e.call(this,a))});if(this[0]){var a=f(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return f.isFunction(e)?this.each(function(a){f(this).wrapInner(e.call(this,a))}):this.each(function(){var a=f(this),b=a.contents();b.length?b.wrapAll(e):
a.append(e)})},wrap:function(e){var a=f.isFunction(e);return this.each(function(b){f(this).wrapAll(a?e.call(this,b):e)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=f.clean(arguments);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,f.clean(arguments));return e}},remove:function(e,
a){for(var b=0,d;null!=(d=this[b]);b++)if(!e||f.filter(e,[d]).length)a||1!==d.nodeType||(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var e=0,a;null!=(a=this[e]);e++)for(1===a.nodeType&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(e,a){e=null==e?!1:e;a=null==a?e:a;return this.map(function(){return f.clone(this,e,a)})},html:function(e){return f.access(this,
function(e){var a=this[0]||{},b=0,d=this.length;if(e===g)return 1===a.nodeType?a.innerHTML.replace(ka,""):null;if(!("string"!==typeof e||$a.test(e)||!f.support.leadingWhitespace&&ub.test(e)||X[(ya.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jb,"<$1></$2>");try{for(;b<d;b++)a=this[b]||{},1===a.nodeType&&(f.cleanData(a.getElementsByTagName("*")),a.innerHTML=e);a=0}catch(zd){}}a&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(f.isFunction(e))return this.each(function(a){var b=
f(this),d=b.html();b.replaceWith(e.call(this,a,d))});"string"!==typeof e&&(e=f(e).detach());return this.each(function(){var a=this.nextSibling,b=this.parentNode;f(this).remove();a?f(a).before(e):f(b).append(e)})}return this.length?this.pushStack(f(f.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,a,b){var d,k=e[0],q=[];if(!f.support.checkClone&&3===arguments.length&&"string"===typeof k&&ib.test(k))return this.each(function(){f(this).domManip(e,
a,b,!0)});if(f.isFunction(k))return this.each(function(d){var q=f(this);e[0]=k.call(this,d,a?q.html():g);q.domManip(e,a,b)});if(this[0]){var p=k&&k.parentNode;p=f.support.parentNode&&p&&11===p.nodeType&&p.childNodes.length===this.length?{fragment:p}:f.buildFragment(e,this,q);var r=p.fragment;if(d=1===r.childNodes.length?r=r.firstChild:r.firstChild){a=a&&f.nodeName(d,"tr");for(var O=0,A=this.length,B=A-1;O<A;O++)b.call(a?y(this[O],d):this[O],p.cacheable||1<A&&O<B?f.clone(r,!0,!0):r)}q.length&&f.each(q,
function(e,a){a.src?f.ajax({type:"GET",global:!1,url:a.src,async:!1,dataType:"script"}):f.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Cb,"/*$0*/"));a.parentNode&&a.parentNode.removeChild(a)})}return this}});f.buildFragment=function(e,a,b){var d,k,q,p=e[0];a&&a[0]&&(q=a[0].ownerDocument||a[0]);q.createDocumentFragment||(q=M);if(1===e.length&&"string"===typeof p&&512>p.length&&q===M&&"<"===p.charAt(0)&&!Ja.test(p)&&(f.support.checkClone||!ib.test(p))&&(f.support.html5Clone||!ga.test(p))){var r=
!0;(k=f.fragments[p])&&1!==k&&(d=k)}d||(d=q.createDocumentFragment(),f.clean(e,q,d,b));r&&(f.fragments[p]=k?d:1);return{fragment:d,cacheable:r}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){f.fn[e]=function(b){var d=[];b=f(b);var k=1===this.length&&this[0].parentNode;if(k&&11===k.nodeType&&1===k.childNodes.length&&1===b.length)return b[a](this[0]),this;for(var k=0,q=b.length;k<q;k++){var p=(0<k?this.clone(!0):
this).get();f(b[k])[a](p);d=d.concat(p)}return this.pushStack(d,e,b.selector)}});f.extend({clone:function(e,a,b){var d;if(f.support.html5Clone||f.isXMLDoc(e)||!ga.test("<"+e.nodeName+">"))var k=e.cloneNode(!0);else k=M.createElement("div"),ia.appendChild(k),k.innerHTML=e.outerHTML,k=k.firstChild;var q=k;if(!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e))){V(e,q);k=N(e);var p=N(q);for(d=0;k[d];++d)p[d]&&V(k[d],p[d])}if(a&&(T(e,q),b))for(k=N(e),p=N(q),
d=0;k[d];++d)T(k[d],p[d]);return q},clean:function(e,a,b,d){var k=[];a=a||M;"undefined"===typeof a.createElement&&(a=a.ownerDocument||a[0]&&a[0].ownerDocument||M);for(var q=0,p;null!=(p=e[q]);q++)if("number"===typeof p&&(p+=""),p){if("string"===typeof p)if(Ga.test(p)){p=p.replace(Jb,"<$1></$2>");var r=(ya.exec(p)||["",""])[1].toLowerCase();var O=X[r]||X._default,g=O[0],B=a.createElement("div"),A=ia.childNodes;a===M?ia.appendChild(B):J(a).appendChild(B);for(B.innerHTML=O[1]+p+O[2];g--;)B=B.lastChild;
if(!f.support.tbody)for(g=nb.test(p),O="table"!==r||g?"<table>"!==O[1]||g?[]:B.childNodes:B.firstChild&&B.firstChild.childNodes,r=O.length-1;0<=r;--r)f.nodeName(O[r],"tbody")&&!O[r].childNodes.length&&O[r].parentNode.removeChild(O[r]);!f.support.leadingWhitespace&&ub.test(p)&&B.insertBefore(a.createTextNode(ub.exec(p)[0]),B.firstChild);p=B.childNodes;B&&(B.parentNode.removeChild(B),0<A.length&&(B=A[A.length-1])&&B.parentNode&&B.parentNode.removeChild(B))}else p=a.createTextNode(p);var H;if(!f.support.appendChecked)if(p[0]&&
"number"===typeof(H=p.length))for(r=0;r<H;r++)E(p[r]);else E(p);p.nodeType?k.push(p):k=f.merge(k,p)}if(b)for(e=function(e){return!e.type||za.test(e.type)},q=0;k[q];q++)a=k[q],d&&f.nodeName(a,"script")&&(!a.type||za.test(a.type))?d.push(a.parentNode?a.parentNode.removeChild(a):a):(1===a.nodeType&&(p=f.grep(a.getElementsByTagName("script"),e),k.splice.apply(k,[q+1,0].concat(p))),b.appendChild(a));return k},cleanData:function(e){for(var a,b,d=f.cache,k=f.event.special,q=f.support.deleteExpando,p=0,r;null!=
(r=e[p]);p++)if(!r.nodeName||!f.noData[r.nodeName.toLowerCase()])if(b=r[f.expando]){if((a=d[b])&&a.events){for(var O in a.events)k[O]?f.event.remove(r,O):f.removeEvent(r,O,a.handle);a.handle&&(a.handle.elem=null)}q?delete r[f.expando]:r.removeAttribute&&r.removeAttribute(f.expando);delete d[b]}}});var Ta=/alpha\([^)]*\)/i,Db=/opacity=([^)]*)/,Ua=/([A-Z]|^ms)/g,Kb=/^[\-+]?(?:\d*\.)?\d+$/i,lb=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,ab=/^([\-+])=([\-+.\de]+)/,bb=/^margin/,Qb={position:"absolute",visibility:"hidden",
display:"block"},yb=["Top","Right","Bottom","Left"],Eb,pc;f.fn.css=function(e,a){return f.access(this,function(e,a,b){return b!==g?f.style(e,a,b):f.css(e,a)},e,a,1<arguments.length)};f.extend({cssHooks:{opacity:{get:function(e,a){if(a){var b=Gb(e,"opacity");return""===b?"1":b}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,a,b,d){if(e&&3!==
e.nodeType&&8!==e.nodeType&&e.style){var k,q=f.camelCase(a),p=e.style,r=f.cssHooks[q];a=f.cssProps[q]||q;if(b!==g){if(d=typeof b,"string"===d&&(k=ab.exec(b))&&(b=+(k[1]+1)*+k[2]+parseFloat(f.css(e,a)),d="number"),!(null==b||"number"===d&&isNaN(b)||("number"!==d||f.cssNumber[q]||(b+="px"),r&&"set"in r&&(b=r.set(e,b))===g)))try{p[a]=b}catch(Uc){}}else return r&&"get"in r&&(k=r.get(e,!1,d))!==g?k:p[a]}},css:function(e,a,b){var d;a=f.camelCase(a);var k=f.cssHooks[a];a=f.cssProps[a]||a;"cssFloat"===a&&
(a="float");if(k&&"get"in k&&(d=k.get(e,!0,b))!==g)return d;if(Gb)return Gb(e,a)},swap:function(e,a,b){var d={},k;for(k in a)d[k]=e.style[k],e.style[k]=a[k];b=b.call(e);for(k in a)e.style[k]=d[k];return b}});f.curCSS=f.css;M.defaultView&&M.defaultView.getComputedStyle&&(Eb=function(e,a){var b,d,k=e.style;a=a.replace(Ua,"-$1").toLowerCase();if((b=e.ownerDocument.defaultView)&&(d=b.getComputedStyle(e,null))){var q=d.getPropertyValue(a);""!==q||f.contains(e.ownerDocument.documentElement,e)||(q=f.style(e,
a))}!f.support.pixelMargin&&d&&bb.test(a)&&lb.test(q)&&(b=k.width,k.width=q,q=d.width,k.width=b);return q});M.documentElement.currentStyle&&(pc=function(e,a){var b,d,k=e.currentStyle&&e.currentStyle[a],f=e.style;null==k&&f&&(b=f[a])&&(k=b);if(lb.test(k)){b=f.left;if(d=e.runtimeStyle&&e.runtimeStyle.left)e.runtimeStyle.left=e.currentStyle.left;f.left="fontSize"===a?"1em":k;k=f.pixelLeft+"px";f.left=b;d&&(e.runtimeStyle.left=d)}return""===k?"auto":k});var Gb=Eb||pc;f.each(["height","width"],function(e,
a){f.cssHooks[a]={get:function(e,b,d){if(b)return 0!==e.offsetWidth?K(e,a,d):f.swap(e,Qb,function(){return K(e,a,d)})},set:function(e,a){return Kb.test(a)?a+"px":a}}});f.support.opacity||(f.cssHooks.opacity={get:function(e,a){return Db.test((a&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":a?"1":""},set:function(a,b){var e=a.style,d=a.currentStyle,k=f.isNumeric(b)?"alpha(opacity="+100*b+")":"",q=d&&d.filter||e.filter||"";e.zoom=1;if(1<=b&&""===f.trim(q.replace(Ta,
""))&&(e.removeAttribute("filter"),d&&!d.filter))return;e.filter=Ta.test(q)?q.replace(Ta,k):q+" "+k}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?Gb(a,"margin-right"):a.style.marginRight})}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var e=a.offsetHeight;return 0===a.offsetWidth&&0===e||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||f.css(a,"display"))},
f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(e){var d="string"===typeof e?e.split(" "):[e],k={};for(e=0;4>e;e++)k[a+yb[e]+b]=d[e]||d[e-2]||d[0];return k}}});var qc=/%20/g,gc=/\[\]$/,cc=/\r?\n/g,jc=/#.*$/,Rb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,sc=/^(?:GET|HEAD)$/,dc=/^\/\//,
ob=/\?/,Lb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Wb=/^(?:select|textarea)/i,Vb=/\s+/,Mb=/([?&])_=[^&]*/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,B=f.fn.load,ja={},H={};try{var Ea=ra.href}catch(e){Ea=M.createElement("a"),Ea.href="",Ea=Ea.href}var q=r.exec(Ea.toLowerCase())||[];f.fn.extend({load:function(a,b,d){if("string"!==typeof a&&B)return B.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(0<=e){var k=a.slice(e,a.length);a=a.slice(0,e)}e="GET";
b&&(f.isFunction(b)?(d=b,b=g):"object"===typeof b&&(b=f.param(b,f.ajaxSettings.traditional),e="POST"));var q=this;f.ajax({url:a,type:e,dataType:"html",data:b,complete:function(a,e,b){b=a.responseText;a.isResolved()&&(a.done(function(a){b=a}),q.html(k?f("<div>").append(b.replace(Lb,"")).find(k):b));d&&q.each(d,[b,e,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||Wb.test(this.nodeName)||rc.test(this.type))}).map(function(a,b){var e=f(this).val();return null==e?null:f.isArray(e)?f.map(e,function(a,e){return{name:b.name,value:a.replace(cc,"\r\n")}}):{name:b.name,value:e.replace(cc,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}});f.each(["get","post"],function(a,b){f[b]=function(a,e,d,k){f.isFunction(e)&&(k=k||d,d=e,e=
g);return f.ajax({type:b,url:a,data:e,success:d,dataType:k})}});f.extend({getScript:function(a,b){return f.get(a,g,b,"script")},getJSON:function(a,b,d){return f.get(a,b,d,"json")},ajaxSetup:function(a,b){b?sa(a,f.ajaxSettings):(b=a,a=f.ajaxSettings);sa(a,b);return a},ajaxSettings:{url:Ea,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(q[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",
html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:qa(ja),ajaxTransport:qa(H),ajax:function(a,b){function e(a,e,b,q){if(2!==F){F=2;Ea&&clearTimeout(Ea);A=g;E=q||"";ua.readyState=0<a?4:0;q=e;if(b){var r=d,H=ua,h=r.contents,l=r.dataTypes,
K=r.responseFields,ja,qa;for(z in K)z in b&&(H[K[z]]=b[z]);for(;"*"===l[0];)l.shift(),ja===g&&(ja=r.mimeType||H.getResponseHeader("content-type"));if(ja)for(z in h)if(h[z]&&h[z].test(ja)){l.unshift(z);break}if(l[0]in b)var u=l[0];else{for(z in b){if(!l[0]||r.converters[z+" "+l[0]]){u=z;break}qa||(qa=z)}u=u||qa}u?(u!==l[0]&&l.unshift(u),b=b[u]):b=void 0}else b=g;if(200<=a&&300>a||304===a){if(d.ifModified){if(ja=ua.getResponseHeader("Last-Modified"))f.lastModified[N]=ja;if(ja=ua.getResponseHeader("Etag"))f.etag[N]=
ja}if(304===a){q="notmodified";var C=!0}else try{ja=d;ja.dataFilter&&(b=ja.dataFilter(b,ja.dataType));var t=ja.dataTypes;var z={};var Sb,vb,ea=t.length,sa=t[0];for(Sb=1;Sb<ea;Sb++){if(1===Sb)for(vb in ja.converters)"string"===typeof vb&&(z[vb.toLowerCase()]=ja.converters[vb]);var T=sa;sa=t[Sb];if("*"===sa)sa=T;else if("*"!==T&&T!==sa){var Q=T+" "+sa;var y=z[Q]||z["* "+sa];if(!y){var R=g;for(fa in z){var sb=fa.split(" ");if(sb[0]===T||"*"===sb[0])if(R=z[sb[1]+" "+sa]){var fa=z[fa];!0===fa?y=R:!0===
R&&(y=fa);break}}}y||R||f.error("No conversion from "+Q.replace(" "," to "));!0!==y&&(b=y?y(b):R(fa(b)))}}var x=b;q="success";C=!0}catch(Dc){q="parsererror";var wa=Dc}}else if(wa=q,!q||a)q="error",0>a&&(a=0);ua.status=a;ua.statusText=""+(e||q);C?O.resolveWith(k,[x,q,ua]):O.rejectWith(k,[ua,q,wa]);ua.statusCode(n);n=g;W&&p.trigger("ajax"+(C?"Success":"Error"),[ua,d,C?x:wa]);B.fireWith(k,[ua,q]);W&&(p.trigger("ajaxComplete",[ua,d]),--f.active||f.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,
a=g);b=b||{};var d=f.ajaxSetup({},b),k=d.context||d,p=k!==d&&(k.nodeType||k instanceof f)?f(k):f.event,O=f.Deferred(),B=f.Callbacks("once memory"),n=d.statusCode||{},h={},l={},E,K,A,Ea,F=0,qa,ua={readyState:0,setRequestHeader:function(a,e){if(!F){var b=a.toLowerCase();a=l[b]=l[b]||a;h[a]=e}return this},getAllResponseHeaders:function(){return 2===F?E:null},getResponseHeader:function(a){var e;if(2===F){if(!K)for(K={};e=Rb.exec(E);)K[e[1].toLowerCase()]=e[2];e=K[a.toLowerCase()]}return e===g?null:e},
overrideMimeType:function(a){F||(d.mimeType=a);return this},abort:function(a){a=a||"abort";A&&A.abort(a);e(0,a);return this}};O.promise(ua);ua.success=ua.done;ua.error=ua.fail;ua.complete=B.add;ua.statusCode=function(a){if(a)if(2>F)for(e in a)n[e]=[n[e],a[e]];else{var e=a[ua.status];ua.then(e,e)}return this};d.url=((a||d.url)+"").replace(jc,"").replace(dc,q[1]+"//");d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(Vb);if(null==d.crossDomain){var u=r.exec(d.url.toLowerCase());d.crossDomain=
!(!u||u[1]==q[1]&&u[2]==q[2]&&(u[3]||("http:"===u[1]?80:443))==(q[3]||("http:"===q[1]?80:443)))}d.data&&d.processData&&"string"!==typeof d.data&&(d.data=f.param(d.data,d.traditional));C(ja,d,b,ua);if(2===F)return!1;var W=d.global;d.type=d.type.toUpperCase();d.hasContent=!sc.test(d.type);W&&0===f.active++&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(ob.test(d.url)?"&":"?")+d.data,delete d.data);var N=d.url;if(!1===d.cache){u=f.now();var t=d.url.replace(Mb,"$1_="+u);d.url=t+(t===
d.url?(ob.test(d.url)?"&":"?")+"_="+u:"")}}(d.data&&d.hasContent&&!1!==d.contentType||b.contentType)&&ua.setRequestHeader("Content-Type",d.contentType);d.ifModified&&(N=N||d.url,f.lastModified[N]&&ua.setRequestHeader("If-Modified-Since",f.lastModified[N]),f.etag[N]&&ua.setRequestHeader("If-None-Match",f.etag[N]));ua.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", */*; q=0.01":""):d.accepts["*"]);for(qa in d.headers)ua.setRequestHeader(qa,
d.headers[qa]);if(d.beforeSend&&(!1===d.beforeSend.call(k,ua,d)||2===F))return ua.abort(),!1;for(qa in{success:1,error:1,complete:1})ua[qa](d[qa]);if(A=C(H,d,b,ua)){ua.readyState=1;W&&p.trigger("ajaxSend",[ua,d]);d.async&&0<d.timeout&&(Ea=setTimeout(function(){ua.abort("timeout")},d.timeout));try{F=1,A.send(h,e)}catch(oc){if(2>F)e(-1,oc);else throw oc;}}else e(-1,"No Transport");return ua},param:function(a,b){var e=[],d=function(a,b){b=f.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};
b===g&&(b=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){d(this.name,this.value)});else for(var k in a)Na(k,a[k],b,d);return e.join("&").replace(qc,"+")}});f.extend({active:0,lastModified:{},etag:{}});var k=f.now(),O=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+k++}});f.ajaxPrefilter("json jsonp",function(a,d,k){d="string"===typeof a.data&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);
if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(O.test(a.url)||d&&O.test(a.data))){var e,q=a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,p=b[q],r=a.url,B=a.data,g="$1"+q+"$2";!1!==a.jsonp&&(r=r.replace(O,g),a.url===r&&(d&&(B=B.replace(O,g)),a.data===B&&(r+=(/\?/.test(r)?"&":"?")+a.jsonp+"="+q)));a.url=r;a.data=B;b[q]=function(a){e=[a]};k.always(function(){b[q]=p;if(e&&f.isFunction(p))b[q](e[0])});a.converters["script json"]=function(){e||f.error(q+" was not called");
return e[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){a.cache===g&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});f.ajaxTransport("script",function(a){if(a.crossDomain){var e,b=M.head||M.getElementsByTagName("head")[0]||M.documentElement;
return{send:function(d,k){e=M.createElement("script");e.async="async";a.scriptCharset&&(e.charset=a.scriptCharset);e.src=a.url;e.onload=e.onreadystatechange=function(a,d){if(d||!e.readyState||/loaded|complete/.test(e.readyState))e.onload=e.onreadystatechange=null,b&&e.parentNode&&b.removeChild(e),e=g,d||k(200,"success")};b.insertBefore(e,b.firstChild)},abort:function(){if(e)e.onload(0,1)}}}});var ua=b.ActiveXObject?function(){for(var a in vb)vb[a](0,1)}:!1,Sb=0,vb;f.ajaxSettings.xhr=b.ActiveXObject?
function(){var a;if(!(a=!this.isLocal&&pa()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(A){}a=void 0}return a}:pa;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var e;return{send:function(d,k){var q=a.xhr(),p;a.username?q.open(a.type,a.url,a.async,a.username,a.password):q.open(a.type,a.url,a.async);if(a.xhrFields)for(p in a.xhrFields)q[p]=a.xhrFields[p];
a.mimeType&&q.overrideMimeType&&q.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(p in d)q.setRequestHeader(p,d[p])}catch(yc){}q.send(a.hasContent&&a.data||null);e=function(b,d){var p;try{if(e&&(d||4===q.readyState))if(e=g,r&&(q.onreadystatechange=f.noop,ua&&delete vb[r]),d)4!==q.readyState&&q.abort();else{var O=q.status;var B=q.getAllResponseHeaders();var H={};(p=q.responseXML)&&p.documentElement&&(H.xml=p);try{H.text=q.responseText}catch(ic){}try{var h=
q.statusText}catch(ic){h=""}O||!a.isLocal||a.crossDomain?1223===O&&(O=204):O=H.text?200:404}}catch(ic){d||k(-1,ic)}H&&k(O,h,H,B)};if(a.async&&4!==q.readyState){var r=++Sb;ua&&(vb||(vb={},f(b).unload(ua)),vb[r]=e);q.onreadystatechange=e}else e()},abort:function(){e&&e(0,1)}}}});var Bd={},sb,bc,tc=/^(?:toggle|show|hide)$/,uc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,lc,nc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],
Hb;f.fn.extend({show:function(a,b,d){if(a||0===a)return this.animate(ba("show",3),a,b,d);d=0;for(var e=this.length;d<e;d++)a=this[d],a.style&&(b=a.style.display,f._data(a,"olddisplay")||"none"!==b||(b=a.style.display=""),(""===b&&"none"===f.css(a,"display")||!f.contains(a.ownerDocument.documentElement,a))&&f._data(a,"olddisplay",aa(a.nodeName)));for(d=0;d<e;d++)if(a=this[d],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=f._data(a,"olddisplay")||"";return this},hide:function(a,b,d){if(a||
0===a)return this.animate(ba("hide",3),a,b,d);d=0;for(var e=this.length;d<e;d++)a=this[d],a.style&&(b=f.css(a,"display"),"none"===b||f._data(a,"olddisplay")||f._data(a,"olddisplay",b));for(d=0;d<e;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,d){var e="boolean"===typeof a;f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):null==a||e?this.each(function(){var b=e?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ba("toggle",
3),a,b,d);return this},fadeTo:function(a,b,d,k){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,k)},animate:function(a,b,d,k){function e(){!1===q.queue&&f._mark(this);var e=f.extend({},q),b=1===this.nodeType,d=b&&f(this).is(":hidden"),k,p;e.animatedProperties={};for(p in a){var r=f.camelCase(p);p!==r&&(a[r]=a[p],delete a[p]);if((k=f.cssHooks[r])&&"expand"in k){var O=k.expand(a[r]);delete a[r];for(p in O)p in a||(a[p]=O[p])}}for(r in a){k=a[r];f.isArray(k)?(e.animatedProperties[r]=
k[1],k=a[r]=k[0]):e.animatedProperties[r]=e.specialEasing&&e.specialEasing[r]||e.easing||"swing";if("hide"===k&&d||"show"===k&&!d)return e.complete.call(this);!b||"height"!==r&&"width"!==r||(e.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===f.css(this,"display")&&"none"===f.css(this,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==aa(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=e.overflow&&(this.style.overflow="hidden");for(p in a)if(b=
new f.fx(this,e,p),k=a[p],tc.test(k))if(r=f._data(this,"toggle"+p)||("toggle"===k?d?"show":"hide":0))f._data(this,"toggle"+p,"show"===r?"hide":"show"),b[r]();else b[k]();else if(r=uc.exec(k),O=b.cur(),r){k=parseFloat(r[2]);var B=r[3]||(f.cssNumber[p]?"":"px");"px"!==B&&(f.style(this,p,(k||1)+B),O*=(k||1)/b.cur(),f.style(this,p,O+B));r[1]&&(k=("-="===r[1]?-1:1)*k+O);b.custom(O,k,B)}else b.custom(O,k,"");return!0}var q=f.speed(b,d,k);if(f.isEmptyObject(a))return this.each(q.complete,[!1]);a=f.extend({},
a);return!1===q.queue?this.each(e):this.queue(q.queue,e)},stop:function(a,b,d){"string"!==typeof a&&(d=b,b=a,a=g);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var e,b=!1,k=f.timers,q=f._data(this);d||f._unmark(!0,this);if(null==a)for(e in q){if(q[e]&&q[e].stop&&e.indexOf(".run")===e.length-4){var p=q[e];f.removeData(this,e,!0);p.stop(d)}}else q[e=a+".run"]&&q[e].stop&&(q=q[e],f.removeData(this,e,!0),q.stop(d));for(e=k.length;e--;)if(k[e].elem===this&&(null==a||k[e].queue===a)){if(d)k[e](!0);
else k[e].saveState();b=!0;k.splice(e,1)}d&&b||f.dequeue(this,a)})}});f.each({slideDown:ba("show",1),slideUp:ba("hide",1),slideToggle:ba("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,e,d){return this.animate(b,a,e,d)}});f.extend({speed:function(a,b,d){var e=a&&"object"===typeof a?f.extend({},a):{complete:d||!d&&b||f.isFunction(a)&&a,duration:a,easing:d&&b||b&&!f.isFunction(b)&&b};e.duration=f.fx.off?0:"number"===typeof e.duration?
e.duration:e.duration in f.fx.speeds?f.fx.speeds[e.duration]:f.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(a){f.isFunction(e.old)&&e.old.call(this);e.queue?f.dequeue(this,e.queue):!1!==a&&f._unmark(this)};return e},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;b.orig=b.orig||{}}});f.fx.prototype={update:function(){this.options.step&&
this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,b,d){function e(a){return k.step(a)}var k=this,q=f.fx;this.startTime=Hb||va();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=d||this.unit||(f.cssNumber[this.prop]?
"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){f._data(k.elem,"fxshow"+k.prop)===g&&(k.options.hide?f._data(k.elem,"fxshow"+k.prop,k.start):k.options.show&&f._data(k.elem,"fxshow"+k.prop,k.end))};e()&&f.timers.push(e)&&!lc&&(lc=setInterval(q.tick,q.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop);this.options.show=!0;a!==g?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===
this.prop?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var e,b=Hb||va(),d=!0,k=this.elem,q=this.options;if(a||b>=q.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();q.animatedProperties[this.prop]=!0;for(e in q.animatedProperties)!0!==q.animatedProperties[e]&&(d=!1);if(d){null==q.overflow||f.support.shrinkWrapBlocks||
f.each(["","X","Y"],function(a,e){k.style["overflow"+e]=q.overflow[a]});q.hide&&f(k).hide();if(q.hide||q.show)for(e in q.animatedProperties)f.style(k,e,q.orig[e]),f.removeData(k,"fxshow"+e,!0),f.removeData(k,"toggle"+e,!0);if(a=q.complete)q.complete=!1,a.call(k)}return!1}Infinity==q.duration?this.now=b:(a=b-this.startTime,this.state=a/q.duration,this.pos=f.easing[q.animatedProperties[this.prop]](this.state,a,0,1,q.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};
f.extend(f.fx,{tick:function(){for(var a,b=f.timers,d=0;d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(lc);lc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});f.each(nc.concat.apply([],nc),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,
b,Math.max(0,a.now)+a.unit)})});f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(e){return a===e.elem}).length});var Ec=/^t(?:able|d|h)$/i,vc=/^(?:body|html)$/i;var Fc="getBoundingClientRect"in M.documentElement?function(a,b,d,k){try{k=a.getBoundingClientRect()}catch(Va){}if(!k||!f.contains(d,a))return k?{top:k.top,left:k.left}:{top:0,left:0};a=b.body;b=Y(b);return{top:k.top+(b.pageYOffset||f.support.boxModel&&d.scrollTop||a.scrollTop)-(d.clientTop||a.clientTop||
0),left:k.left+(b.pageXOffset||f.support.boxModel&&d.scrollLeft||a.scrollLeft)-(d.clientLeft||a.clientLeft||0)}}:function(a,b,d){var e=a.offsetParent,k=b.body;var q=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var p=a.offsetTop,r=a.offsetLeft;(a=a.parentNode)&&a!==k&&a!==d&&(!f.support.fixedPosition||"fixed"!==q.position);)q=b?b.getComputedStyle(a,null):a.currentStyle,p-=a.scrollTop,r-=a.scrollLeft,a===e&&(p+=a.offsetTop,r+=a.offsetLeft,!f.support.doesNotAddBorder||f.support.doesAddBorderForTableAndCells&&
Ec.test(a.nodeName)||(p+=parseFloat(q.borderTopWidth)||0,r+=parseFloat(q.borderLeftWidth)||0),e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&"visible"!==q.overflow&&(p+=parseFloat(q.borderTopWidth)||0,r+=parseFloat(q.borderLeftWidth)||0);if("relative"===q.position||"static"===q.position)p+=k.offsetTop,r+=k.offsetLeft;f.support.fixedPosition&&"fixed"===q.position&&(p+=Math.max(d.scrollTop,k.scrollTop),r+=Math.max(d.scrollLeft,k.scrollLeft));return{top:p,left:r}};f.fn.offset=function(a){if(arguments.length)return a===
g?this:this.each(function(e){f.offset.setOffset(this,a,e)});var e=this[0],b=e&&e.ownerDocument;return b?e===b.body?f.offset.bodyOffset(e):Fc(e,b,b.documentElement):null};f.offset={bodyOffset:function(a){var e=a.offsetTop,b=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(f.css(a,"marginTop"))||0,b+=parseFloat(f.css(a,"marginLeft"))||0);return{top:e,left:b}},setOffset:function(a,b,d){var e=f.css(a,"position");"static"===e&&(a.style.position="relative");var k=f(a),q=k.offset(),
p=f.css(a,"top"),r=f.css(a,"left"),O={};("absolute"===e||"fixed"===e)&&-1<f.inArray("auto",[p,r])?(r=k.position(),e=r.top,r=r.left):(e=parseFloat(p)||0,r=parseFloat(r)||0);f.isFunction(b)&&(b=b.call(a,d,q));null!=b.top&&(O.top=b.top-q.top+e);null!=b.left&&(O.left=b.left-q.left+r);"using"in b?b.using.call(a,O):k.css(O)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),k=vc.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(f.css(a,
"marginTop"))||0;d.left-=parseFloat(f.css(a,"marginLeft"))||0;k.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;k.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:d.top-k.top,left:d.left-k.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||M.body;a&&!vc.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e=/Y/.test(b);f.fn[a]=function(d){return f.access(this,
function(a,d,k){var q=Y(a);if(k===g)return q?b in q?q[b]:f.support.boxModel&&q.document.documentElement[d]||q.document.body[d]:a[d];q?q.scrollTo(e?f(q).scrollLeft():k,e?k:f(q).scrollTop()):a[d]=k},a,d,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,b){var e="client"+a,d="scroll"+a,k="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,b,"padding")):this[b]():null};f.fn["outer"+a]=function(a){var e=this[0];return e?e.style?parseFloat(f.css(e,
b,a?"margin":"border")):this[b]():null};f.fn[b]=function(a){return f.access(this,function(a,b,q){if(f.isWindow(a))return b=a.document,a=b.documentElement[e],f.support.boxModel&&a||b.body&&b.body[e]||a;if(9===a.nodeType)return b=a.documentElement,b[e]>=b[d]?b[e]:Math.max(a.body[d],b[d],a.body[k],b[k]);if(q===g)return a=f.css(a,b),b=parseFloat(a),f.isNumeric(b)?b:a;f(a).css(b,q)},b,a,arguments.length,null)}});b.jQuery=b.$=f;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",
[],function(){return f})})(window);/*
 Hammer.JS - v2.0.8 - 2016-04-23
 http://hammerjs.github.io/

 Copyright (c) 2016 Jorik Tangelder;
 Licensed under the MIT license */
!function(b,g,a,n){function h(a,b,d){return setTimeout(u(a,d),b)}function t(a,b,d){return Array.isArray(a)?(z(a,d[b],d),!0):!1}function z(a,b,d){var k;if(a)if(a.forEach)a.forEach(b,d);else if(a.length!==n)for(k=0;k<a.length;)b.call(d,a[k],k,a),k++;else for(k in a)a.hasOwnProperty(k)&&b.call(d,a[k],k,a)}function x(a,d,f){var k="DEPRECATED METHOD: "+d+"\n"+f+" AT \n";return function(){var d=Error("get-stack-trace"),d=d&&d.stack?d.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@"):"Unknown Stack Trace",q=b.console&&(b.console.warn||b.console.log);return q&&q.call(b.console,k,d),a.apply(this,arguments)}}function l(a,b,d){var k=b.prototype;b=a.prototype=Object.create(k);b.constructor=a;b._super=k;d&&tb(b,d)}function u(a,b){return function(){return a.apply(b,arguments)}}function J(a,b){return typeof a==W?a.apply(b?b[0]||n:n,b):a}function y(a,b,d){z(N(b),function(b){a.addEventListener(b,d,!1)})}function T(a,b,d){z(N(b),function(b){a.removeEventListener(b,d,!1)})}
function V(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function N(a){return a.trim().split(/\s+/g)}function d(a,b,d){if(a.indexOf&&!d)return a.indexOf(b);for(var k=0;k<a.length;){if(d&&a[k][d]==b||!d&&a[k]===b)return k;k++}return-1}function E(a){return Array.prototype.slice.call(a,0)}function K(a,b,f){for(var k=[],q=[],p=0;p<a.length;){var r=b?a[p][b]:a[p];0>d(q,r)&&k.push(a[p]);q[p]=r;p++}return f&&(k=b?k.sort(function(a,d){return a[b]>d[b]}):k.sort()),k}function qa(a,b){for(var d,k,q=
b[0].toUpperCase()+b.slice(1),f=0;f<p.length;){if(d=p[f],k=d?d+q:b,k in a)return k;f++}return n}function C(a){a=a.ownerDocument||a;return a.defaultView||a.parentWindow||b}function sa(a,b){var d=this;this.manager=a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){J(a.options.enable,[a])&&d.handler(b)};this.init()}function Na(a){var b=a.options.inputClass;return new (b?b:ka?Z:ub?f:db?Oa:M)(a,pa)}function pa(a,b,d){var k=d.pointers.length;var f=d.changedPointers.length;
var q=b&ya&&0===k-f,k=b&(Ga|$a)&&0===k-f;d.isFirst=!!q;d.isFinal=!!k;q&&(a.session={});d.eventType=b;b=a.session;q=d.pointers;k=q.length;b.firstInput||(b.firstInput=va(d));1<k&&!b.firstMultiple?b.firstMultiple=va(d):1===k&&(b.firstMultiple=!1);f=b.firstInput;var p=(k=b.firstMultiple)?k.center:f.center;var r=d.center=ma(q);d.timeStamp=Aa();d.deltaTime=d.timeStamp-f.timeStamp;d.angle=Y(p,r);d.distance=aa(p,r);f=d.center;p=b.offsetDelta||{};var r=b.prevDelta||{},B=b.prevInput||{};d.eventType!==ya&&B.eventType!==
Ga||(r=b.prevDelta={x:B.deltaX||0,y:B.deltaY||0},p=b.offsetDelta={x:f.x,y:f.y});d.deltaX=r.x+(f.x-p.x);d.deltaY=r.y+(f.y-p.y);d.offsetDirection=ba(d.deltaX,d.deltaY);p=d.deltaTime;f=d.deltaX/p||0;p=d.deltaY/p||0;d.overallVelocityX=f;d.overallVelocityY=p;d.overallVelocity=wa(f)>wa(p)?f:p;k?(f=k.pointers,f=aa(q[0],q[1],Ua)/aa(f[0],f[1],Ua)):f=1;d.scale=f;k?(k=k.pointers,q=Y(q[1],q[0],Ua)+Y(k[1],k[0],Ua)):q=0;d.rotation=q;d.maxPointers=b.prevInput?d.pointers.length>b.prevInput.maxPointers?d.pointers.length:
b.prevInput.maxPointers:d.pointers.length;p=b.lastInterval||d;q=d.timeStamp-p.timeStamp;d.eventType!=$a&&(q>Jb||p.velocity===n)?(f=d.deltaX-p.deltaX,p=d.deltaY-p.deltaY,r=f/q||0,B=p/q||0,q=r,k=B,r=wa(r)>wa(B)?r:B,f=ba(f,p),b.lastInterval=d):(r=p.velocity,q=p.velocityX,k=p.velocityY,f=p.direction);d.velocity=r;d.velocityX=q;d.velocityY=k;d.direction=f;b=a.element;V(d.srcEvent.target,b)&&(b=d.srcEvent.target);d.target=b;a.emit("hammer.input",d);a.recognize(d);a.session.prevInput=d}function va(a){for(var b=
[],d=0;d<a.pointers.length;)b[d]={clientX:ea(a.pointers[d].clientX),clientY:ea(a.pointers[d].clientY)},d++;return{timeStamp:Aa(),pointers:b,center:ma(b),deltaX:a.deltaX,deltaY:a.deltaY}}function ma(a){var b=a.length;if(1===b)return{x:ea(a[0].clientX),y:ea(a[0].clientY)};for(var d=0,f=0,q=0;b>q;)d+=a[q].clientX,f+=a[q].clientY,q++;return{x:ea(d/b),y:ea(f/b)}}function ba(a,b){return a===b?Ja:wa(a)>=wa(b)?0>a?ga:ib:0>b?za:Cb}function aa(a,b,d){d||(d=Db);var k=b[d[0]]-a[d[0]];a=b[d[1]]-a[d[1]];return Math.sqrt(k*
k+a*a)}function Y(a,b,d){d||(d=Db);return 180*Math.atan2(b[d[1]]-a[d[1]],b[d[0]]-a[d[0]])/Math.PI}function M(){this.evEl=lb;this.evWin=ab;this.pressed=!1;sa.apply(this,arguments)}function Z(){this.evEl=yb;this.evWin=Eb;sa.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function ra(){this.evTarget=Gb;this.evWin=qc;this.started=!1;sa.apply(this,arguments)}function f(){this.evTarget=cc;this.targetIds={};sa.apply(this,arguments)}function Wa(a,b){var d=E(a.touches),k=this.targetIds;
if(b&(ya|nb)&&1===d.length)return k[d[0].identifier]=!0,[d,d];var f,q=E(a.changedTouches),p=[],r=this.target;if(f=d.filter(function(a){return V(a.target,r)}),b===ya)for(d=0;d<f.length;)k[f[d].identifier]=!0,d++;for(d=0;d<q.length;)k[q[d].identifier]&&p.push(q[d]),b&(Ga|$a)&&delete k[q[d].identifier],d++;return p.length?[K(f.concat(p),"identifier",!0),p]:void 0}function Oa(){sa.apply(this,arguments);var a=u(this.handler,this);this.touch=new f(this.manager,a);this.mouse=new M(this.manager,a);this.primaryTouch=
null;this.lastTouches=[]}function da(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var b={x:a.clientX,y:a.clientY};this.lastTouches.push(b);var d=this.lastTouches;setTimeout(function(){var a=d.indexOf(b);-1<a&&d.splice(a,1)},jc)}}function Ya(a,b){this.manager=a;this.set(b)}function Fa(a){if(-1<a.indexOf(ob))return ob;var b=-1<a.indexOf(Lb),d=-1<a.indexOf(Wb);return b&&d?ob:b||d?b?Lb:Wb:-1<a.indexOf(dc)?dc:sc}function ta(a){this.options=tb({},this.defaults,a||{});this.id=Sa++;this.manager=
null;a=this.options.enable;this.options.enable=a===n?!0:a;this.state=Mb;this.simultaneous={};this.requireFail=[]}function na(a){return a&Ea?"cancel":a&ja?"end":a&B?"move":a&r?"start":""}function Pa(a){return a==Cb?"down":a==za?"up":a==ga?"left":a==ib?"right":""}function Qa(a,b){var d=b.manager;return d?d.get(a):a}function Xa(){ta.apply(this,arguments)}function La(){Xa.apply(this,arguments);this.pY=this.pX=null}function G(){Xa.apply(this,arguments)}function Ra(){ta.apply(this,arguments);this._input=
this._timer=null}function eb(){Xa.apply(this,arguments)}function Za(){Xa.apply(this,arguments)}function ha(){ta.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function Da(a,b){b=b||{};var d=b.recognizers;return b.recognizers=d===n?Da.defaults.preset:d,new gb(a,b)}function gb(a,b){this.options=tb({},Da.defaults,b||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=
a;this.input=Na(this);this.touchAction=new Ya(this,this.options.touchAction);Ca(this,!0);z(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function Ca(a,b){var d=a.element;if(d.style){var k;z(a.options.cssProps,function(f,q){k=qa(d.style,q);b?(a.oldCssProps[k]=d.style[k],d.style[k]=f):d.style[k]=a.oldCssProps[k]||""});b||(a.oldCssProps={})}}function Ia(a,b){var d=g.createEvent("Event");d.initEvent(a,!0,!0);d.gesture=
b;b.target.dispatchEvent(d)}var p=" webkit Moz MS ms o".split(" "),F=g.createElement("div"),W="function",ea=Math.round,wa=Math.abs,Aa=Date.now;var tb="function"!=typeof Object.assign?function(a){if(a===n||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),d=1;d<arguments.length;d++){var f=arguments[d];if(f!==n&&null!==f)for(var q in f)f.hasOwnProperty(q)&&(b[q]=f[q])}return b}:Object.assign;var R=x(function(a,b,d){for(var k=Object.keys(b),f=0;f<k.length;)(!d||
d&&a[k[f]]===n)&&(a[k[f]]=b[k[f]]),f++;return a},"extend","Use `assign`."),qb=x(function(a,b){return R(a,b,!0)},"merge","Use `assign`."),Sa=1,mb=/mobile|tablet|ip(ad|hone|od)|android/i,db="ontouchstart"in b,ka=qa(b,"PointerEvent")!==n,ub=db&&mb.test(navigator.userAgent),Jb=25,ya=1,nb=2,Ga=4,$a=8,Ja=1,ga=2,ib=4,za=8,Cb=16,X=ga|ib,ia=za|Cb,Ta=X|ia,Db=["x","y"],Ua=["clientX","clientY"];sa.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler);this.evTarget&&
y(this.target,this.evTarget,this.domHandler);this.evWin&&y(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler);this.evTarget&&T(this.target,this.evTarget,this.domHandler);this.evWin&&T(C(this.element),this.evWin,this.domHandler)}};var Kb={mousedown:ya,mousemove:nb,mouseup:Ga},lb="mousedown",ab="mousemove mouseup";l(M,sa,{handler:function(a){var b=Kb[a.type];b&ya&&0===a.button&&(this.pressed=!0);b&nb&&1!==a.which&&(b=Ga);this.pressed&&
(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var bb={pointerdown:ya,pointermove:nb,pointerup:Ga,pointercancel:$a,pointerout:$a},Qb={2:"touch",3:"pen",4:"mouse",5:"kinect"},yb="pointerdown",Eb="pointermove pointerup pointercancel";b.MSPointerEvent&&!b.PointerEvent&&(yb="MSPointerDown",Eb="MSPointerMove MSPointerUp MSPointerCancel");l(Z,sa,{handler:function(a){var b=this.store,f=!1,q=a.type.toLowerCase().replace("ms",""),
q=bb[q],p=Qb[a.pointerType]||a.pointerType,r="touch"==p,B=d(b,a.pointerId,"pointerId");q&ya&&(0===a.button||r)?0>B&&(b.push(a),B=b.length-1):q&(Ga|$a)&&(f=!0);0>B||(b[B]=a,this.callback(this.manager,q,{pointers:b,changedPointers:[a],pointerType:p,srcEvent:a}),f&&b.splice(B,1))}});var pc={touchstart:ya,touchmove:nb,touchend:Ga,touchcancel:$a},Gb="touchstart",qc="touchstart touchmove touchend touchcancel";l(ra,sa,{handler:function(a){var b=pc[a.type];if(b===ya&&(this.started=!0),this.started){var d=
E(a.touches);var f=E(a.changedTouches);f=(b&(Ga|$a)&&(d=K(d.concat(f),"identifier",!0)),[d,f]);b&(Ga|$a)&&0===f[0].length-f[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:f[0],changedPointers:f[1],pointerType:"touch",srcEvent:a})}}});var gc={touchstart:ya,touchmove:nb,touchend:Ga,touchcancel:$a},cc="touchstart touchmove touchend touchcancel";l(f,sa,{handler:function(a){var b=gc[a.type],d=Wa.call(this,a,b);d&&this.callback(this.manager,b,{pointers:d[0],changedPointers:d[1],pointerType:"touch",
srcEvent:a})}});var jc=2500;l(Oa,sa,{handler:function(a,b,d){var k="touch"==d.pointerType,f="mouse"==d.pointerType;if(!(f&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(k)b&ya?(this.primaryTouch=d.changedPointers[0].identifier,da.call(this,d)):b&(Ga|$a)&&da.call(this,d);else{if(k=f)a:{for(var k=d.srcEvent.clientX,f=d.srcEvent.clientY,q=0;q<this.lastTouches.length;q++){var p=this.lastTouches[q],r=Math.abs(f-p.y);if(25>=Math.abs(k-p.x)&&25>=r){k=!0;break a}}k=!1}if(k)return}this.callback(a,
b,d)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var Rb=qa(F.style,"touchAction"),rc=Rb!==n,sc="auto",dc="manipulation",ob="none",Lb="pan-x",Wb="pan-y",Vb=function(){if(!rc)return!1;var a={},d=b.CSS&&b.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(k){a[k]=d?b.CSS.supports("touch-action",k):!0}),a}();Ya.prototype={set:function(a){"compute"==a&&(a=this.compute());rc&&this.manager.element.style&&Vb[a]&&(this.manager.element.style[Rb]=
a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return z(this.manager.recognizers,function(b){J(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),Fa(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,d=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var f=this.actions,q=-1<f.indexOf(ob)&&!Vb[ob],p=-1<f.indexOf(Wb)&&!Vb[Wb],f=-1<f.indexOf(Lb)&&!Vb[Lb];if(q){var r=2>a.distance,
B=250>a.deltaTime;if(1===a.pointers.length&&r&&B)return}return f&&p?void 0:q||p&&d&X||f&&d&ia?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var Mb=1,r=2,B=4,ja=8,H=ja,Ea=16;ta.prototype={defaults:{},set:function(a){return tb(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(t(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Qa(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),
this},dropRecognizeWith:function(a){return t(a,"dropRecognizeWith",this)?this:(a=Qa(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(t(a,"requireFailure",this))return this;var b=this.requireFail;return a=Qa(a,this),-1===d(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(t(a,"dropRequireFailure",this))return this;a=Qa(a,this);a=d(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},
canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){d.manager.emit(b,a)}var d=this,f=this.state;ja>f&&b(d.options.event+na(f));b(d.options.event);a.additionalEvent&&b(a.additionalEvent);f>=ja&&b(d.options.event+na(f))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|Mb)))return!1;a++}return!0},recognize:function(a){a=tb({},a);return J(this.options.enable,
[this,a])?(this.state&(H|Ea|32)&&(this.state=Mb),this.state=this.process(a),void(this.state&(r|B|ja|Ea)&&this.tryEmit(a))):(this.reset(),void(this.state=32))},process:function(a){},getTouchAction:function(){},reset:function(){}};l(Xa,ta,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,d=a.eventType,f=b&(r|B);a=this.attrTest(a);return f&&(d&$a||!a)?b|Ea:f||a?d&Ga?b|ja:b&r?b|B:r:32}});l(La,Xa,{defaults:{event:"pan",
threshold:10,pointers:1,direction:Ta},getTouchAction:function(){var a=this.options.direction,b=[];return a&X&&b.push(Wb),a&ia&&b.push(Lb),b},directionTest:function(a){var b=this.options,d=!0,f=a.distance,p=a.direction,r=a.deltaX,q=a.deltaY;return p&b.direction||(b.direction&X?(p=0===r?Ja:0>r?ga:ib,d=r!=this.pX,f=Math.abs(a.deltaX)):(p=0===q?Ja:0>q?za:Cb,d=q!=this.pY,f=Math.abs(a.deltaY))),a.direction=p,d&&f>b.threshold&&p&b.direction},attrTest:function(a){return Xa.prototype.attrTest.call(this,a)&&
(this.state&r||!(this.state&r)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=Pa(a.direction);b&&(a.additionalEvent=this.options.event+b);this._super.emit.call(this,a)}});l(G,Xa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ob]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&r)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?
"in":"out"));this._super.emit.call(this,a)}});l(Ra,ta,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[sc]},process:function(a){var b=this.options,d=a.pointers.length===b.pointers,f=a.distance<b.threshold,p=a.deltaTime>b.time;if(this._input=a,!f||!d||a.eventType&(Ga|$a)&&!p)this.reset();else if(a.eventType&ya)this.reset(),this._timer=h(function(){this.state=H;this.tryEmit()},b.time,this);else if(a.eventType&Ga)return H;return 32},reset:function(){clearTimeout(this._timer)},
emit:function(a){this.state===H&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=Aa(),this.manager.emit(this.options.event,this._input)))}});l(eb,Xa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ob]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&r)}});l(Za,Xa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|ia,pointers:1},getTouchAction:function(){return La.prototype.getTouchAction.call(this)},
attrTest:function(a){var b,d=this.options.direction;return d&(X|ia)?b=a.overallVelocity:d&X?b=a.overallVelocityX:d&ia&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&d&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&wa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=Pa(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});l(ha,ta,{defaults:{event:"tap",pointers:1,taps:1,interval:300,
time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[dc]},process:function(a){var b=this.options,d=a.pointers.length===b.pointers,f=a.distance<b.threshold,p=a.deltaTime<b.time;if(this.reset(),a.eventType&ya&&0===this.count)return this.failTimeout();if(f&&p&&d){if(a.eventType!=Ga)return this.failTimeout();d=this.pTime?a.timeStamp-this.pTime<b.interval:!0;f=!this.pCenter||aa(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;f&&d?this.count+=1:this.count=
1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=H;this.tryEmit()},b.interval,this),r):H}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==H&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});Da.VERSION="2.0.8";Da.defaults={domEvents:!1,touchAction:"compute",enable:!0,
inputTarget:null,inputClass:null,preset:[[eb,{enable:!1}],[G,{enable:!1},["rotate"]],[Za,{direction:X}],[La,{direction:X},["swipe"]],[ha],[ha,{event:"doubletap",taps:2},["tap"]],[Ra]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};gb.prototype={set:function(a){return tb(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),
this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var d=this.recognizers,f=b.curRecognizer;(!f||f&&f.state&H)&&(f=b.curRecognizer=null);for(var p=0;p<d.length;){var q=d[p];2===b.stopped||f&&q!=f&&!q.canRecognizeWith(f)?q.reset():q.recognize(a);!f&&q.state&(r|B|ja)&&(f=b.curRecognizer=q);p++}}},get:function(a){if(a instanceof ta)return a;for(var b=this.recognizers,d=0;d<b.length;d++)if(b[d].options.event==
a)return b[d];return null},add:function(a){if(t(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(t(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers;a=d(b,a);-1!==a&&(b.splice(a,1),this.touchAction.update())}return this},on:function(a,b){if(a!==n&&b!==n){var d=this.handlers;return z(N(a),function(a){d[a]=d[a]||[];d[a].push(b)}),this}},off:function(a,b){if(a!==
n){var f=this.handlers;return z(N(a),function(a){b?f[a]&&f[a].splice(d(f[a],b),1):delete f[a]}),this}},emit:function(a,b){this.options.domEvents&&Ia(a,b);var d=this.handlers[a]&&this.handlers[a].slice();if(d&&d.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};for(var f=0;f<d.length;)d[f](b),f++}},destroy:function(){this.element&&Ca(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};tb(Da,{INPUT_START:ya,INPUT_MOVE:nb,INPUT_END:Ga,INPUT_CANCEL:$a,
STATE_POSSIBLE:Mb,STATE_BEGAN:r,STATE_CHANGED:B,STATE_ENDED:ja,STATE_RECOGNIZED:H,STATE_CANCELLED:Ea,STATE_FAILED:32,DIRECTION_NONE:Ja,DIRECTION_LEFT:ga,DIRECTION_RIGHT:ib,DIRECTION_UP:za,DIRECTION_DOWN:Cb,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:ia,DIRECTION_ALL:Ta,Manager:gb,Input:sa,TouchAction:Ya,TouchInput:f,MouseInput:M,PointerEventInput:Z,TouchMouseInput:Oa,SingleTouchInput:ra,Recognizer:ta,AttrRecognizer:Xa,Tap:ha,Pan:La,Swipe:Za,Pinch:G,Rotate:eb,Press:Ra,on:y,off:T,each:z,merge:qb,extend:R,
assign:tb,inherit:l,bindFn:u,prefixed:qa});("undefined"!=typeof b?b:"undefined"!=typeof self?self:{}).Hammer=Da;"function"==typeof define&&define.amd?define(function(){return Da}):"undefined"!=typeof module&&module.exports?module.exports=Da:b[a]=Da}(window,document,"Hammer");!function(){var b=window.MutationObserver||window.WebKitMutationObserver,g="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;if(void 0===document.documentElement.style["touch-action"]&&!document.documentElement.style["-ms-touch-action"]&&g&&b){window.Hammer=window.Hammer||{};var a=/touch-action[:][\s]*(none)[^;'"]*/,n=/touch-action[:][\s]*(manipulation)[^;'"]*/,h=/touch-action/,g=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,t=function(){try{var a=document.createElement("canvas");
return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(x){return!1}}()&&g;window.Hammer.time={getTouchAction:function(a){return this.checkStyleString(a.getAttribute("style"))},checkStyleString:function(b){return h.test(b)?a.test(b)?"none":n.test(b)?"manipulation":!0:void 0},shouldHammer:function(a){var b=this.hasParent(a.target);return b&&(!t||125>Date.now()-a.target.lastStart)?b:!1},touchHandler:function(a){var b=a.target.getBoundingClientRect(),
b=b.top!==this.pos.top||b.left!==this.pos.left,g=this.shouldHammer(a);("none"===g||!1===b&&"manipulation"===g)&&("touchend"===a.type&&(a.target.focus(),setTimeout(function(){a.target.click()},0)),a.preventDefault());this.scrolled=!1;delete a.target.lastStart},touchStart:function(a){this.pos=a.target.getBoundingClientRect();t&&this.hasParent(a.target)&&(a.target.lastStart=Date.now())},styleWatcher:function(a){a.forEach(this.styleUpdater,this)},styleUpdater:function(a){if(a.target.updateNext)return void(a.target.updateNext=
!1);var b=this.getTouchAction(a.target);return b?void("none"!==b&&(a.target.hadTouchNone=!1)):void(!b&&(a.oldValue&&this.checkStyleString(a.oldValue)||a.target.hadTouchNone)&&(a.target.hadTouchNone=!0,a.target.updateNext=!1,a.target.setAttribute("style",a.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(a){for(var b=a;b&&b.parentNode;b=b.parentNode)if(a=this.getTouchAction(b))return a;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this));
document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0);document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=(new b(this.styleWatcher.bind(this))).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents();this.installStartEvents();this.installObserver()}};
window.Hammer.time.install()}}();/*
 VERSION: 1.19.1
 DATE: 2017-01-17
 UPDATES AND DOCS AT: http://greensock.com

 Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin

 @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 This work is subject to the terms at http://greensock.com/standard-license or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com
*/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(b,g,a){var n=function(a){var b,g=[],h=a.length;for(b=0;b!==h;g.push(a[b++]));return g},h=function(a,b,g){var d,h=a.cycle;for(d in h){var n=h[d];a[d]="function"==typeof n?n(g,b[g]):n[g%n.length]}delete a.cycle},t=function(b,d,g){a.call(this,b,d,g);this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||
0;this._dirty=!0;this.render=t.prototype.render},z=a._internals,x=z.isSelector,l=z.isArray,u=t.prototype=a.to({},.1,{}),J=[];t.version="1.19.1";u.constructor=t;u.kill()._gc=!1;t.killTweensOf=t.killDelayedCallsTo=a.killTweensOf;t.getTweensOf=a.getTweensOf;t.lagSmoothing=a.lagSmoothing;t.ticker=a.ticker;t.render=a.render;u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)};
u.updateTo=function(b,d){var g=this.ratio,h=this.vars.immediateRender||b.immediateRender;d&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in b)this.vars[n]=b[n];if(this._initted||h)if(d)this._initted=!1,h&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&a._onPluginEvent("_onDisable",this),.998<this._time/
this._duration){var n=this._totalTime;this.render(0,!0,!1);this._initted=!1;this.render(n,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||h)for(g=1/(1-g),h=this._firstPT;h;)n=h.s+h.c,h.c*=g,h.s=n-h.c,h=h._next;return this};u.render=function(a,b,g){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,h,n,l,E,u,t,N=this._dirty?this.totalDuration():this._totalDuration,T=this._time,y=this._totalTime,J=this._cycle,V=this._duration,x=this._rawPrevTime;if(a>=N-1E-7&&0<=
a?(this._totalTime=N,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=V,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,h="onComplete",g=g||this._timeline.autoRemoveChildren),0===V&&(this._initted||!this.vars.lazy||g)&&(this._startTime===this._timeline._duration&&(a=0),(0>x||0>=a&&-1E-7<=a||1E-10===x&&"isPause"!==this.data)&&x!==a&&(g=!0,1E-10<x&&(h="onReverseComplete")),this._rawPrevTime=
t=!b||a||x===a?a:1E-10)):1E-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==y||0===V&&0<x)&&(h="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===V&&(this._initted||!this.vars.lazy||g)&&(0<=x&&(g=!0),this._rawPrevTime=t=!b||a||x===a?a:1E-10)),this._initted||(g=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(n=V+this._repeatDelay,this._cycle=this._totalTime/n>>0,0!==this._cycle&&this._cycle===this._totalTime/n&&a>=y&&this._cycle--,
this._time=this._totalTime-this._cycle*n,this._yoyo&&0!==(1&this._cycle)&&(this._time=V-this._time),this._time>V?this._time=V:0>this._time&&(this._time=0)),this._easeType?(l=this._time/V,E=this._easeType,u=this._easePower,(1===E||3===E&&.5<=l)&&(l=1-l),3===E&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),1===E?this.ratio=1-l:2===E?this.ratio=l:.5>this._time/V?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/V)),T===this._time&&!g&&J===this._cycle)return void(y!==
this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!g&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=T,this._totalTime=y,this._rawPrevTime=x,this._cycle=J,z.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/V):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=
!1);this._active||!this._paused&&this._time!==T&&0<=a&&(this._active=!0);0!==y||(2===this._initted&&0<a&&this._init(),this._startAt&&(0<=a?this._startAt.render(a,b,g):h||(h="_dummyGS")),!this.vars.onStart||0===this._totalTime&&0!==V||!b&&this._callback("onStart"));for(n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,g),b||(this._totalTime!==y||h)&&this._callback("onUpdate"));this._cycle!==
J&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat"));h&&(!this._gc||g)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,g),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h),0===V&&1E-10===this._rawPrevTime&&1E-10!==t&&(this._rawPrevTime=0))};t.to=function(a,b,g){return new t(a,b,g)};t.from=function(a,b,g){return g.runBackwards=!0,g.immediateRender=0!=g.immediateRender,new t(a,b,g)};t.fromTo=
function(a,b,g,h){return h.startAt=g,h.immediateRender=0!=h.immediateRender&&0!=g.immediateRender,new t(a,b,h)};t.staggerTo=t.allTo=function(b,d,g,K,u,C,z){K=K||0;var E,qa,T=0,y=[],N=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments);u.apply(z||g.callbackScope||this,C||J)},sa=g.cycle,V=g.startAt&&g.startAt.cycle;l(b)||("string"==typeof b&&(b=a.selector(b)||b),x(b)&&(b=n(b)));b=b||[];0>K&&(b=n(b),b.reverse(),K*=-1);var M=b.length-1;for(E=0;M>=E;E++){var Z={};for(qa in g)Z[qa]=
g[qa];if(sa&&(h(Z,b,E),null!=Z.duration&&(d=Z.duration,delete Z.duration)),V){V=Z.startAt={};for(qa in g.startAt)V[qa]=g.startAt[qa];h(Z.startAt,b,E)}Z.delay=T+(Z.delay||0);E===M&&u&&(Z.onComplete=N);y[E]=new t(b[E],d,Z);T+=K}return y};t.staggerFrom=t.allFrom=function(a,b,g,h,n,l,u){return g.runBackwards=!0,g.immediateRender=0!=g.immediateRender,t.staggerTo(a,b,g,h,n,l,u)};t.staggerFromTo=t.allFromTo=function(a,b,g,h,n,l,u,z){return h.startAt=g,h.immediateRender=0!=h.immediateRender&&0!=g.immediateRender,
t.staggerTo(a,b,h,n,l,u,z)};t.delayedCall=function(a,b,g,h,n){return new t(b,0,{delay:a,onComplete:b,onCompleteParams:g,callbackScope:h,onReverseComplete:b,onReverseCompleteParams:g,immediateRender:!1,useFrames:n,overwrite:0})};t.set=function(a,b){return new t(a,0,b)};t.isTweening=function(b){return 0<a.getTweensOf(b,!0).length};var y=function(b,d){for(var g=[],h=0,n=b._first;n;)n instanceof a?g[h++]=n:(d&&(g[h++]=n),g=g.concat(y(n,d)),h=g.length),n=n._next;return g},T=t.getAllTweens=function(a){return y(b._rootTimeline,
a).concat(y(b._rootFramesTimeline,a))};t.killAll=function(a,b,h,n){null==b&&(b=!0);null==h&&(h=!0);var d,l,E=T(0!=n),K=E.length,u=b&&h&&n;for(l=0;K>l;l++)n=E[l],(u||n instanceof g||(d=n.target===n.vars.onComplete)&&h||b&&!d)&&(a?n.totalTime(n._reversed?0:n.totalDuration()):n._enabled(!1,!1))};t.killChildTweensOf=function(b,d){if(null!=b){var g,h=z.tweenLookup;if("string"==typeof b&&(b=a.selector(b)||b),x(b)&&(b=n(b)),l(b))for(g=b.length;-1<--g;)t.killChildTweensOf(b[g],d);else{var u=[];for(C in h)for(g=
h[C].target.parentNode;g;)g===b&&(u=u.concat(h[C].tweens)),g=g.parentNode;var C=u.length;for(g=0;C>g;g++)d&&u[g].totalTime(u[g].totalDuration()),u[g]._enabled(!1,!1)}}};var V=function(a,b,h,n){b=!1!==b;h=!1!==h;n=!1!==n;for(var d,l=T(n),u=b&&h&&n,K=l.length;-1<--K;)n=l[K],(u||n instanceof g||(d=n.target===n.vars.onComplete)&&h||b&&!d)&&n.paused(a)};return t.pauseAll=function(a,b,g){V(!0,a,b,g)},t.resumeAll=function(a,b,g){V(!1,a,b,g)},t.globalTimeScale=function(g){var d=b._rootTimeline,h=a.ticker.time;
return arguments.length?(g=g||1E-10,d._startTime=h-(h-d._startTime)*d._timeScale/g,d=b._rootFramesTimeline,h=a.ticker.frame,d._startTime=h-(h-d._startTime)*d._timeScale/g,d._timeScale=b._rootTimeline._timeScale=g,g):d._timeScale},u.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},u.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*
a,b):this._totalTime/this.totalDuration()},u.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},u.duration=function(a){return arguments.length?b.prototype.duration.call(this,a):this._duration},u.totalDuration=function(a){return arguments.length?
-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},u.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},u.yoyo=function(a){return arguments.length?
(this._yoyo=a,this):this._yoyo},t},!0);_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(b,g,a){var n=function(a){g.call(this,a);this._labels={};this.autoRemoveChildren=!0===this.vars.autoRemoveChildren;this.smoothChildTiming=!0===this.vars.smoothChildTiming;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var b,d=this.vars;for(b in d)a=d[b],x(a)&&-1!==a.join("").indexOf("{self}")&&(d[b]=this._swapSelfInParams(a));x(d.tweens)&&this.add(d.tweens,
0,d.align,d.stagger)},h=a._internals,t=n._internals={},z=h.isSelector,x=h.isArray,l=h.lazyTweens,u=h.lazyRender,J=_gsScope._gsDefine.globals,y=function(a){var b,d={};for(b in a)d[b]=a[b];return d},T=function(a,b,g){var d,h=a.cycle;for(d in h){var n=h[d];a[d]="function"==typeof n?n(g,b[g]):n[g%n.length]}delete a.cycle},V=t.pauseCallback=function(){},N=function(a){var b,d=[],g=a.length;for(b=0;b!==g;d.push(a[b++]));return d},h=n.prototype=new g;return n.version="1.19.1",h.constructor=n,h.kill()._gc=
h._forcingPlayhead=h._hasPause=!1,h.to=function(b,g,h,n){var d=h.repeat&&J.TweenMax||a;return g?this.add(new d(b,g,h),n):this.set(b,h,n)},h.from=function(b,g,h,n){return this.add((h.repeat&&J.TweenMax||a).from(b,g,h),n)},h.fromTo=function(b,g,h,n,l){var d=n.repeat&&J.TweenMax||a;return g?this.add(d.fromTo(b,g,h,n),l):this.set(b,n,l)},h.staggerTo=function(b,g,h,l,u,t,V,J){J=new n({onComplete:t,onCompleteParams:V,callbackScope:J,smoothChildTiming:this.smoothChildTiming});var d=h.cycle;"string"==typeof b&&
(b=a.selector(b)||b);b=b||[];z(b)&&(b=N(b));l=l||0;0>l&&(b=N(b),b.reverse(),l*=-1);for(V=0;V<b.length;V++)t=y(h),t.startAt&&(t.startAt=y(t.startAt),t.startAt.cycle&&T(t.startAt,b,V)),d&&(T(t,b,V),null!=t.duration&&(g=t.duration,delete t.duration)),J.to(b[V],g,t,V*l);return this.add(J,u)},h.staggerFrom=function(a,b,g,h,n,l,u,t){return g.immediateRender=0!=g.immediateRender,g.runBackwards=!0,this.staggerTo(a,b,g,h,n,l,u,t)},h.staggerFromTo=function(a,b,g,h,n,l,u,t,z){return h.startAt=g,h.immediateRender=
0!=h.immediateRender&&0!=g.immediateRender,this.staggerTo(a,b,h,n,l,u,t,z)},h.call=function(b,g,h,n){return this.add(a.delayedCall(0,b,g,h),n)},h.set=function(b,g,h){return h=this._parseTimeOrLabel(h,0,!0),null==g.immediateRender&&(g.immediateRender=h===this._time&&!this._paused),this.add(new a(b,0,g),h)},n.exportRoot=function(b,g){b=b||{};null==b.smoothChildTiming&&(b.smoothChildTiming=!0);var d,h=new n(b),l=h._timeline;null==g&&(g=!0);l._remove(h,!0);h._startTime=0;h._rawPrevTime=h._time=h._totalTime=
l._time;for(d=l._first;d;){var u=d._next;g&&d instanceof a&&d.target===d.vars.onComplete||h.add(d,d._startTime-d._delay);d=u}return l.add(h,0),h},h.add=function(d,h,l,u){var t,E;if("number"!=typeof h&&(h=this._parseTimeOrLabel(h,0,!0,d)),!(d instanceof b)){if(d instanceof Array||d&&d.push&&x(d)){l=l||"normal";u=u||0;var K=d.length;for(t=0;K>t;t++)x(E=d[t])&&(E=new n({tweens:E})),this.add(E,h),"string"!=typeof E&&"function"!=typeof E&&("sequence"===l?h=E._startTime+E.totalDuration()/E._timeScale:"start"===
l&&(E._startTime-=E.delay())),h+=u;return this._uncache(!0)}if("string"==typeof d)return this.addLabel(d,h);if("function"!=typeof d)throw"Cannot add "+d+" into the timeline; it is not a tween, timeline, function, or string.";d=a.delayedCall(0,d)}if(g.prototype.add.call(this,d,h),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(l=this,d=l.rawTime()>d._startTime;l._timeline;)d&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,
!1),l=l._timeline;return this},h.remove=function(a){if(a instanceof b){this._remove(a,!1);var d=a._timeline=a.vars.useFrames?b._rootFramesTimeline:b._rootTimeline;return a._startTime=(a._paused?a._pauseTime:d._time)-(a._reversed?a.totalDuration()-a._totalTime:a._totalTime)/a._timeScale,this}if(a instanceof Array||a&&a.push&&x(a)){for(d=a.length;-1<--d;)this.remove(a[d]);return this}return"string"==typeof a?this.removeLabel(a):this.kill(null,a)},h._remove=function(a,b){g.prototype._remove.call(this,
a,b);return this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},h.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},h.insert=h.insertMultiple=function(a,b,g,h){return this.add(a,b||0,g,h)},h.appendMultiple=function(a,b,g,h){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),g,h)},h.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),
this},h.addPause=function(b,g,h,n){h=a.delayedCall(0,V,h,n||this);return h.vars.onComplete=h.vars.onReverseComplete=g,h.data="isPause",this._hasPause=!0,this.add(h,b)},h.removeLabel=function(a){return delete this._labels[a],this},h.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},h._parseTimeOrLabel=function(a,g,h,n){var d;if(n instanceof b&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&x(n)))for(d=n.length;-1<--d;)n[d]instanceof b&&n[d].timeline===
this&&this.remove(n[d]);if("string"==typeof g)return this._parseTimeOrLabel(g,h&&"number"==typeof a&&null==this._labels[g]?a-this.duration():0,h);if(g=g||0,"string"!=typeof a||!isNaN(a)&&null==this._labels[a])null==a&&(a=this.duration());else{if(d=a.indexOf("="),-1===d)return null==this._labels[a]?h?this._labels[a]=this.duration()+g:g:this._labels[a]+g;g=parseInt(a.charAt(d-1)+"1",10)*Number(a.substr(d+1));a=1<d?this._parseTimeOrLabel(a.substr(0,d-1),0,h):this.duration()}return Number(a)+g},h.seek=
function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),!1!==b)},h.stop=function(){return this.paused(!0)},h.gotoAndPlay=function(a,b){return this.play(a,b)},h.gotoAndStop=function(a,b){return this.pause(a,b)},h.render=function(a,b,g){this._gc&&this._enabled(!0,!1);var d,h,n,t,K,E,z,T=this._dirty?this.totalDuration():this._totalDuration,y=this._time,V=this._startTime,N=this._timeScale,J=this._paused;if(a>=T-1E-7&&0<=a)this._totalTime=this._time=T,this._reversed||this._hasPausedChild()||
(h=!0,t="onComplete",K=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&-1E-7<=a||0>this._rawPrevTime||1E-10===this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(K=!0,1E-10<this._rawPrevTime&&(t="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10,a=T+1E-4;else if(1E-7>a)if(this._totalTime=this._time=0,(0!==y||0===this._duration&&1E-10!==this._rawPrevTime&&(0<this._rawPrevTime||0>a&&0<=this._rawPrevTime))&&(t="onReverseComplete",h=this._reversed),
0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(K=h=!0,t="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(K=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10,0===a&&h)for(d=this._first;d&&0===d._startTime;)d._duration||(h=!1),d=d._next;a=0;this._initted||(K=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=y)for(d=this._first;d&&d._startTime<=a&&!E;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&
0===this._rawPrevTime||(E=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!E;)d._duration||"isPause"===d.data&&0<d._rawPrevTime&&(E=d),d=d._prev;E&&(this._time=a=E._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==y&&this._first||g||K||E){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==y&&0<a&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._time&&this._duration||
b||this._callback("onStart")),z=this._time,z>=y)for(d=this._first;d&&(n=d._next,z===this._time&&(!this._paused||J));)(d._active||d._startTime<=z&&!d._paused&&!d._gc)&&(E===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,g):d.render((a-d._startTime)*d._timeScale,b,g)),d=n;else for(d=this._last;d&&(n=d._prev,z===this._time&&(!this._paused||J));){if(d._active||d._startTime<=y&&!d._paused&&!d._gc){if(E===d){for(E=d._prev;E&&E.endTime()>
this._time;)E.render(E._reversed?E.totalDuration()-(a-E._startTime)*E._timeScale:(a-E._startTime)*E._timeScale,b,g),E=E._prev;E=null;this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,g):d.render((a-d._startTime)*d._timeScale,b,g)}d=n}this._onUpdate&&(b||(l.length&&u(),this._callback("onUpdate")));t&&(this._gc||(V===this._startTime||N!==this._timeScale)&&(0===this._time||T>=this.totalDuration())&&(h&&(l.length&&u(),this._timeline.autoRemoveChildren&&
this._enabled(!1,!1),this._active=!1),!b&&this.vars[t]&&this._callback(t)))}},h._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof n&&a._hasPausedChild())return!0;a=a._next}return!1},h.getChildren=function(b,g,h,n){n=n||-9999999999;for(var d=[],l=this._first,u=0;l;)l._startTime<n||(l instanceof a?!1!==g&&(d[u++]=l):(!1!==h&&(d[u++]=l),!1!==b&&(d=d.concat(l.getChildren(!0,g,h)),u=d.length))),l=l._next;return d},h.getTweensOf=function(b,g){var d,h=this._gc,n=[],l=0;h&&this._enabled(!0,
!0);var u=a.getTweensOf(b);for(d=u.length;-1<--d;)(u[d].timeline===this||g&&this._contains(u[d]))&&(n[l++]=u[d]);return h&&this._enabled(!1,!0),n},h.recent=function(){return this._recent},h._contains=function(a){for(a=a.timeline;a;){if(a===this)return!0;a=a.timeline}return!1},h.shiftChildren=function(a,b,g){g=g||0;for(var d,h=this._first,n=this._labels;h;)h._startTime>=g&&(h._startTime+=a),h=h._next;if(b)for(d in n)n[d]>=g&&(n[d]+=a);return this._uncache(!0)},h._kill=function(a,b){if(!a&&!b)return this._enabled(!1,
!1);for(var d=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),g=d.length,h=!1;-1<--g;)d[g]._kill(a,b)&&(h=!0);return h},h.clear=function(a){var b=this.getChildren(!1,!0,!0),d=b.length;for(this._time=this._totalTime=0;-1<--d;)b[d]._enabled(!1,!1);return!1!==a&&(this._labels={}),this._uncache(!0)},h.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return b.prototype.invalidate.call(this)},h._enabled=function(a,b){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;
return g.prototype._enabled.call(this,a,b)},h.totalTime=function(a,g,h){this._forcingPlayhead=!0;var d=b.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,d},h.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},h.totalDuration=function(a){if(!arguments.length){if(this._dirty){var b=0;var d=this._last;for(var g=999999999999;d;){var h=d._prev;d._dirty&&d.totalDuration();
d._startTime>g&&this._sortChildren&&!d._paused?this.add(d,d._startTime-d._delay):g=d._startTime;0>d._startTime&&!d._paused&&(b-=d._startTime,this._timeline.smoothChildTiming&&(this._startTime+=d._startTime/this._timeScale),this.shiftChildren(-d._startTime,!1,-9999999999),g=0);d=d._startTime+d._totalDuration/d._timeScale;d>b&&(b=d);d=h}this._duration=this._totalDuration=b;this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},h.paused=function(a){if(!a)for(var d=
this._first,g=this._time;d;)d._startTime===g&&"isPause"===d.data&&(d._rawPrevTime=0),d=d._next;return b.prototype.paused.apply(this,arguments)},h.usesFrames=function(){for(var a=this._timeline;a._timeline;)a=a._timeline;return a===b._rootFramesTimeline},h.rawTime=function(a){return a&&(this._paused||this._repeat&&0<this.time()&&1>this.totalProgress())?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},n},!0);
_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(b,g,a){var n=function(a){b.call(this,a);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._dirty=!0},h=g._internals,t=h.lazyTweens,z=h.lazyRender,x=_gsScope._gsDefine.globals,l=new a(null,null,1,0);a=n.prototype=new b;return a.constructor=n,a.kill()._gc=!1,n.version="1.19.1",a.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=
this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),b.prototype.invalidate.call(this)},a.addCallback=function(a,b,h,n){return this.add(g.delayedCall(0,a,h,n),b)},a.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var g=this.getTweensOf(a,!1),h=g.length,n=this._parseTimeOrLabel(b);-1<--h;)g[h]._startTime===n&&g[h]._enabled(!1,!1);return this},a.removePause=function(a){return this.removeCallback(b._internals.pauseCallback,a)},a.tweenTo=function(a,
b){b=b||{};var h,n,u,t={ease:l,useFrames:this.usesFrames(),immediateRender:!1},d=b.repeat&&x.TweenMax||g;for(n in b)t[n]=b[n];return t.time=this._parseTimeOrLabel(a),h=Math.abs(Number(t.time)-this._time)/this._timeScale||.001,u=new d(this,h,t),t.onStart=function(){u.target.paused(!0);u.vars.time!==u.target.time()&&h===u.duration()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale);b.onStart&&b.onStart.apply(b.onStartScope||b.callbackScope||u,b.onStartParams||[])},u},a.tweenFromTo=
function(a,b,g){g=g||{};a=this._parseTimeOrLabel(a);g.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this};g.immediateRender=!1!==g.immediateRender;b=this.tweenTo(b,g);return b.duration(Math.abs(b.vars.time-a)/this._timeScale||.001)},a.render=function(a,b,g){this._gc&&this._enabled(!0,!1);var h,n,l,d,u,K,y,C=this._dirty?this.totalDuration():this._totalDuration,x=this._duration,J=this._time,pa=this._totalTime,va=this._startTime,ma=this._timeScale,ba=this._rawPrevTime,aa=this._paused,
Y=this._cycle;if(a>=C-1E-7&&0<=a)this._locked||(this._totalTime=C,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,d="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&-1E-7<=a||0>ba||1E-10===ba)&&ba!==a&&this._first&&(u=!0,1E-10<ba&&(d="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=x,a=x+1E-4);else if(1E-7>a)if(this._locked||(this._totalTime=
this._cycle=0),this._time=0,(0!==J||0===x&&1E-10!==ba&&(0<ba||0>a&&0<=ba)&&!this._locked)&&(d="onReverseComplete",n=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=n=!0,d="onReverseComplete"):0<=ba&&this._first&&(u=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=x||!b||a||this._rawPrevTime===a?a:1E-10,0===a&&n)for(h=this._first;h&&0===h._startTime;)h._duration||(n=!1),h=h._next;a=0;this._initted||(u=!0)}else if(0===x&&0>ba&&(u=!0),this._time=this._rawPrevTime=
a,this._locked||(this._totalTime=a,0!==this._repeat&&(h=x+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&a>=pa&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=x-this._time),this._time>x?(this._time=x,a=x+1E-4):0>this._time?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b&&x>a){if(a=this._time,a>=J||this._repeat&&Y!==this._cycle)for(h=this._first;h&&h._startTime<=a&&!K;)h._duration||
"isPause"!==h.data||h.ratio||0===h._startTime&&0===this._rawPrevTime||(K=h),h=h._next;else for(h=this._last;h&&h._startTime>=a&&!K;)h._duration||"isPause"===h.data&&0<h._rawPrevTime&&(K=h),h=h._prev;K&&(this._time=a=K._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==Y&&!this._locked){h=this._yoyo&&0!==(1&Y);var M=h===(this._yoyo&&0!==(1&this._cycle)),Z=this._totalTime,ra=this._cycle,f=this._rawPrevTime,Wa=this._time;if((this._totalTime=Y*x,this._cycle<
Y?h=!h:this._totalTime+=x,this._time=J,this._rawPrevTime=0===x?ba-1E-4:ba,this._cycle=Y,this._locked=!0,J=h?0:x,this.render(J,b,0===x),b||this._gc||this.vars.onRepeat&&(this._cycle=ra,this._locked=!1,this._callback("onRepeat")),J!==this._time)||(M&&(this._cycle=Y,this._locked=!0,J=h?x+1E-4:-1E-4,this.render(J,!0,!1)),this._locked=!1,this._paused&&!aa))return;this._time=Wa;this._totalTime=Z;this._cycle=ra;this._rawPrevTime=f}if(!(this._time!==J&&this._first||g||u||K))return void(pa!==this._totalTime&&
this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==pa&&0<a&&(this._active=!0),0===pa&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),y=this._time,y>=J)for(h=this._first;h&&(l=h._next,y===this._time&&(!this._paused||aa));)(h._active||h._startTime<=this._time&&!h._paused&&!h._gc)&&(K===h&&this.pause(),h._reversed?h.render((h._dirty?h.totalDuration():h._totalDuration)-(a-h._startTime)*
h._timeScale,b,g):h.render((a-h._startTime)*h._timeScale,b,g)),h=l;else for(h=this._last;h&&(l=h._prev,y===this._time&&(!this._paused||aa));){if(h._active||h._startTime<=J&&!h._paused&&!h._gc){if(K===h){for(K=h._prev;K&&K.endTime()>this._time;)K.render(K._reversed?K.totalDuration()-(a-K._startTime)*K._timeScale:(a-K._startTime)*K._timeScale,b,g),K=K._prev;K=null;this.pause()}h._reversed?h.render((h._dirty?h.totalDuration():h._totalDuration)-(a-h._startTime)*h._timeScale,b,g):h.render((a-h._startTime)*
h._timeScale,b,g)}h=l}this._onUpdate&&(b||(t.length&&z(),this._callback("onUpdate")));d&&(this._locked||this._gc||(va===this._startTime||ma!==this._timeScale)&&(0===this._time||C>=this.totalDuration())&&(n&&(t.length&&z(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[d]&&this._callback(d)))},a.getActive=function(a,b,g){null==a&&(a=!0);null==b&&(b=!0);null==g&&(g=!1);var h=[];g=this.getChildren(a,b,g);var n=0,l=g.length;for(a=0;l>a;a++)b=g[a],b.isActive()&&
(h[n++]=b);return h},a.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,g=this.getLabelsArray(),h=g.length;for(b=0;h>b;b++)if(g[b].time>a)return g[b].name;return null},a.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),g=b.length;-1<--g;)if(b[g].time<a)return b[g].name;return null},a.getLabelsArray=function(){var a,b=[],g=0;for(a in this._labels)b[g++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},a.invalidate=function(){return this._locked=
!1,b.prototype.invalidate.call(this)},a.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},a.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},a.totalDuration=function(a){return arguments.length?-1!==this._repeat&&a?this.timeScale(this.totalDuration()/a):this:(this._dirty&&(b.prototype.totalDuration.call(this),
this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},a.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},a.repeat=function(a){return arguments.length?(this._repeat=
a,this._uncache(!0)):this._repeat},a.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},a.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},a.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1E-8)},n},!0);(function(){var b=180/Math.PI,g=[],a=[],n=[],h={},t=_gsScope._gsDefine.globals,z=function(a,b,g,h){g===h&&(g=h-(h-b)/1E6);a===b&&(b=a+(g-a)/1E6);this.a=a;this.b=b;this.c=
g;this.d=h;this.da=h-a;this.ca=g-a;this.ba=b-a},x=function(a,b,g,h){var d={a:a},n={},l={},t={c:h},u=(a+b)/2,z=(b+g)/2;g=(g+h)/2;b=(u+z)/2;var z=(z+g)/2,y=(z-b)/8;return d.b=u+(a-u)/4,n.b=b+y,d.c=n.a=(d.b+n.b)/2,n.c=l.a=(b+z)/2,l.b=z-y,t.b=g+(h-g)/4,l.c=t.a=(l.b+t.b)/2,[d,n,l,t]},l=function(b,l,t,u,d,E){var K,y,C={},N=[],T=E||b[0];d="string"==typeof d?","+d+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==l&&(l=1);for(y in b[0])N.push(y);if(1<b.length){var V=b[b.length-1];var J=!0;for(K=N.length;-1<--K;)if(y=N[K],.05<Math.abs(T[y]-V[y])){J=!1;break}J&&(b=b.concat(),E&&b.unshift(E),b.push(b[1]),E=b[b.length-3])}g.length=a.length=n.length=0;for(K=N.length;-1<--K;){y=N[K];h[y]=-1!==d.indexOf(","+y+",");V=y;var ma=void 0,T=void 0,ba,aa=void 0,Y=b,M=y,Z=h[y];var ra=E;var f=[];if(ra)for(Y=[ra].concat(Y),ba=Y.length;-1<--ba;)"string"==typeof(ma=Y[ba][M])&&"="===ma.charAt(1)&&(Y[ba][M]=ra[M]+Number(ma.charAt(0)+
ma.substr(2)));if(aa=Y.length-2,0>aa)T=(f[0]=new z(Y[0][M],0,0,Y[-1>aa?0:1][M]),f);else{for(ba=0;aa>ba;ba++)ra=Y[ba][M],ma=Y[ba+1][M],f[ba]=new z(ra,0,0,ma),Z&&(T=Y[ba+2][M],g[ba]=(g[ba]||0)+(ma-ra)*(ma-ra),a[ba]=(a[ba]||0)+(T-ma)*(T-ma));T=(f[ba]=new z(Y[ba][M],0,0,Y[ba+1][M]),f)}C[V]=T}for(K=g.length;-1<--K;)g[K]=Math.sqrt(g[K]),a[K]=Math.sqrt(a[K]);if(!u){for(K=N.length;-1<--K;)if(h[y])for(b=C[N[K]],V=b.length-1,d=0;V>d;d++)E=b[d+1].da/a[d]+b[d].da/g[d]||0,n[d]=(n[d]||0)+E*E;for(K=n.length;-1<
--K;)n[K]=Math.sqrt(n[K])}K=N.length;for(d=t?4:1;-1<--K;){y=N[K];b=C[y];ba=T=V=E=void 0;var M=Y=aa=void 0,Wa,Z=b,f=l,ma=t;ra=u;var Oa=h[y],da=Z.length-1,Ya=0,Fa=Z[0].a;for(Wa=0;da>Wa;Wa++){y=Z[Ya];var ta=y.a;var na=y.d;var Pa=Z[Ya+1].d;Oa?(T=g[Wa],V=a[Wa],E=(V+T)*f*.25/(ra?.5:n[Wa]||.5),M=na-(na-ta)*(ra?.5*f:0!==T?E/T:0),Y=na+(Pa-na)*(ra?.5*f:0!==V?E/V:0),aa=na-(M+((Y-M)*(3*T/(T+V)+.5)/4||0))):(M=na-(na-ta)*f*.5,Y=na+(Pa-na)*f*.5,aa=na-(M+Y)/2);M+=aa;Y+=aa;y.c=Pa=M;0!==Wa?y.b=Fa:y.b=Fa=y.a+.6*(y.c-
y.a);y.da=na-ta;y.ca=Pa-ta;y.ba=Fa-ta;ma?(ba=x(ta,Fa,Pa,na),Z.splice(Ya,1,ba[0],ba[1],ba[2],ba[3]),Ya+=4):Ya++;Fa=Y}y=Z[Ya];y.b=Fa;y.c=Fa+.4*(y.d-Fa);y.da=y.d-y.a;y.ca=y.c-y.a;y.ba=Fa-y.a;ma&&(ba=x(y.a,Fa,y.c,y.d),Z.splice(Ya,1,ba[0],ba[1],ba[2],ba[3]));J&&(b.splice(0,d),b.splice(b.length-d,d))}return C},u=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(a,b,g){this._target=a;b instanceof Array&&(b={values:b});this._func={};this._mod={};this._props=
[];this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var h,d,n,t=b.values||[],u={};var y=t[0];this._autoRotate=(h=b.autoRotate||g.vars.orientToBezier)?h instanceof Array?h:[["x","y","rotation",!0===h?0:Number(h)||0]]:null;for(x in y)this._props.push(x);for(y=this._props.length;-1<--y;){var x=this._props[y];this._overwriteProps.push(x);h=this._func[x]="function"==typeof a[x];u[x]=h?a[x.indexOf("set")||"function"!=typeof a["get"+x.substr(3)]?x:"get"+x.substr(3)]():parseFloat(a[x]);
n||u[x]!==t[0][x]&&(n=u)}if("cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type)u=l(t,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,n);else{y=t;var t=(t=b.type)||"soft",V,T,J;b={};n="cubic"===t?3:2;var ma="soft"===t,ba=[];if(ma&&u&&(y=[u].concat(y)),null==y||y.length<n+1)throw"invalid Bezier data";for(aa in y[0])ba.push(aa);for(T=ba.length;-1<--T;){var aa=ba[T];b[aa]=h=[];var Y=0;var M=y.length;for(J=0;M>J;J++)t=null==u?y[J][aa]:"string"==typeof(V=y[J][aa])&&"="===V.charAt(1)?
u[aa]+Number(V.charAt(0)+V.substr(2)):Number(V),ma&&1<J&&M-1>J&&(h[Y++]=(t+h[Y-2])/2),h[Y++]=t;M=Y-n+1;for(J=Y=0;M>J;J+=n){t=h[J];aa=h[J+1];V=h[J+2];var Z=2===n?0:h[J+3];h[Y++]=V=3===n?new z(t,aa,V,Z):new z(t,(2*aa+t)/3,(2*aa+V)/3,V)}h.length=Y}u=b}if(this._beziers=u,this._segCount=this._beziers[x].length,this._timeRes){h=this._beziers;x=this._timeRes;x=x>>0||6;u=[];aa=[];y=V=0;b=x-1;n=[];t=[];for(d in h)for(M=h[d],Y=u,ma=x,ba=1/ma,Z=M.length;-1<--Z;){var ra=M[Z];var f=ra.a;J=ra.d-f;T=ra.c-f;f=ra.b-
f;var Wa=0;for(ra=1;ma>=ra;ra++){var Oa=ba*ra;var da=1-Oa;Oa=Wa-(Wa=(Oa*Oa*J+3*da*(Oa*T+da*f))*Oa);da=Z*ma+ra-1;Y[da]=(Y[da]||0)+Oa*Oa}}h=u.length;for(d=0;h>d;d++)V+=Math.sqrt(u[d]),T=d%x,t[T]=V,T===b&&(y+=V,T=d/x>>0,n[T]=t,aa[T]=y,V=0,t=[]);this._length=y;this._lengths=aa;this._segments=n;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof
Array||(this._autoRotate=h=[h]),y=h.length;-1<--y;){for(d=0;3>d;d++)x=h[y][d],this._func[x]="function"==typeof a[x]?a[x.indexOf("set")||"function"!=typeof a["get"+x.substr(3)]?x:"get"+x.substr(3)]:!1;x=h[y][2];this._initialRotations[y]=(this._func[x]?this._func[x].call(this._target):this._target[x])||0;this._overwriteProps.push(x)}return this._startRatio=g.vars.runBackwards?1:0,!0},set:function(a){var h,g,n;var d=this._segCount;var l=this._func,t=this._target,u=a!==this._startRatio;if(this._timeRes){if(h=
this._lengths,n=this._curSeg,a*=this._length,g=this._li,a>this._l2&&d-1>g){for(--d;d>g&&(this._l2=h[++g])<=a;);this._l1=h[g-1];this._li=g;this._curSeg=n=this._segments[g];this._s2=n[this._s1=this._si=0]}else if(a<this._l1&&0<g){for(;0<g&&(this._l1=h[--g])>=a;);0===g&&a<this._l1?this._l1=0:g++;this._l2=h[g];this._li=g;this._curSeg=n=this._segments[g];this._s1=n[(this._si=n.length-1)-1]||0;this._s2=n[this._si]}if(h=g,a-=this._l1,g=this._si,a>this._s2&&g<n.length-1){for(d=n.length-1;d>g&&(this._s2=n[++g])<=
a;);this._s1=n[g-1];this._si=g}else if(a<this._s1&&0<g){for(;0<g&&(this._s1=n[--g])>=a;);0===g&&a<this._s1?this._s1=0:g++;this._s2=n[g];this._si=g}d=(g+(a-this._s1)/(this._s2-this._s1))*this._prec||0}else h=0>a?0:1<=a?d-1:d*a>>0,d*=a-1/d*h;var z=1-d;for(g=this._props.length;-1<--g;){a=this._props[g];n=this._beziers[a][h];var x=(d*d*n.da+3*z*(d*n.ca+z*n.ba))*d+n.a;this._mod[a]&&(x=this._mod[a](x,t));l[a]?t[a](x):t[a]=x}if(this._autoRotate){var y,J,va,ma,ba=this._autoRotate;for(g=ba.length;-1<--g;){a=
ba[g][2];var aa=ba[g][3]||0;var Y=!0===ba[g][4]?1:b;n=this._beziers[ba[g][0]];z=this._beziers[ba[g][1]];n&&z&&(n=n[h],z=z[h],y=n.a+(n.b-n.a)*d,va=n.b+(n.c-n.b)*d,y+=(va-y)*d,va+=(n.c+(n.d-n.c)*d-va)*d,J=z.a+(z.b-z.a)*d,ma=z.b+(z.c-z.b)*d,J+=(ma-J)*d,ma+=(z.c+(z.d-z.c)*d-ma)*d,x=u?Math.atan2(ma-J,va-y)*Y+aa:this._initialRotations[g],this._mod[a]&&(x=this._mod[a](x,t)),l[a]?t[a](x):t[a]=x)}}}}),J=u.prototype;u.bezierThrough=l;u.cubicToQuadratic=x;u._autoCSS=!0;u.quadraticToCubic=function(a,b,g){return new z(a,
(2*b+a)/3,(2*b+g)/3,g)};u._cssRegister=function(){var a=t.CSSPlugin;if(a){var a=a._internals,b=a._parseToProxy,g=a._setPluginRatio,h=a.CSSPropTween;a._registerComplexSpecialProp("bezier",{parser:function(a,n,l,t,z,x){n instanceof Array&&(n={values:n});x=new u;var d,E=n.values,y=E.length-1,K=[],C={};if(0>y)return z;for(l=0;y>=l;l++){var J=b(a,E[l],t,z,x,y!==l);K[l]=J.end}for(d in n)C[d]=n[d];return C.values=K,z=new h(a,"bezier",0,0,J.pt,2),z.data=J,z.plugin=x,z.setRatio=g,0===C.autoRotate&&(C.autoRotate=
!0),!C.autoRotate||C.autoRotate instanceof Array||(l=!0===C.autoRotate?0:Number(C.autoRotate),C.autoRotate=null!=J.end.left?[["left","top","rotation",l,!1]]:null!=J.end.x?[["x","y","rotation",l,!1]]:!1),C.autoRotate&&(t._transform||t._enableTransforms(!1),J.autoRotate=t._target._gsTransform,J.proxy.rotation=J.autoRotate.rotation||0,t._overwriteProps.push("rotation")),x._onInitTween(J.proxy,C,t._tween),z}})}};J._mod=function(a){for(var b,g=this._overwriteProps,h=g.length;-1<--h;)(b=a[g[h]])&&"function"==
typeof b&&(this._mod[g[h]]=b)};J._kill=function(a){var b,g,h=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],g=h.length;-1<--g;)h[g]===b&&h.splice(g,1);if(h=this._autoRotate)for(g=h.length;-1<--g;)a[h[g][2]]&&h.splice(g,1);return this._super._kill.call(this,a)}})();_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(b,g){var a,n,h,t,z=function(){b.call(this,"css");this._overwriteProps.length=0;this.setRatio=z.prototype.setRatio},
x=_gsScope._gsDefine.globals,l={},u=z.prototype=new b("css");u.constructor=z;z.version="1.19.1";z.API=2;z.defaultTransformPerspective=0;z.defaultSkewType="compensated";z.defaultSmoothOrigin=!0;u="px";z.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var J,y,T,V,N,d,E,K,qa=/(?:\-|\.|\b)(\d|\.|e\-)+/g,C=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,sa=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,Na=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
pa=/(?:\d|\-|\+|=|#|\.)*/g,va=/opacity *= *([^)]*)/i,ma=/opacity:([^;]*)/i,ba=/alpha\(opacity *=.+?\)/i,aa=/^(rgb|hsl)/,Y=/([A-Z])/g,M=/-([a-z])/gi,Z=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,ra=function(a,b){return b.toUpperCase()},f=/(?:Left|Right|Width)/i,Wa=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,Oa=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,da=/,(?=[^\)]*(?:\(|$))/gi,Ya=/[\s,\(]/i,Fa=Math.PI/180,ta=180/Math.PI,na={},Pa={style:{}},Qa=_gsScope.document||{createElement:function(){return Pa}},
Xa=function(a,b){return Qa.createElementNS?Qa.createElementNS(b||"http://www.w3.org/1999/xhtml",a):Qa.createElement(a)},La=Xa("div"),G=Xa("img"),Ra=z._internals={_specialProps:l},eb=(_gsScope.navigator||{}).userAgent||"",Za=function(){var a=eb.indexOf("Android"),b=Xa("a");return T=-1!==eb.indexOf("Safari")&&-1===eb.indexOf("Chrome")&&(-1===a||3<parseFloat(eb.substr(a+8,2))),N=T&&6>parseFloat(eb.substr(eb.indexOf("Version/")+8,2)),V=-1!==eb.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(eb)||
/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(eb))&&(d=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),ha=function(a){return va.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Da="",gb="",Ca=function(a,b){b=b||La;var d,f=b.style;if(void 0!==f[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);var p=["O","Moz","ms","Ms","Webkit"];for(d=5;-1<--d&&void 0===f[p[d]+a];);return 0<=d?(gb=
3===d?"ms":p[d],Da="-"+gb.toLowerCase()+"-",gb+a):null},Ia=Qa.defaultView?Qa.defaultView.getComputedStyle:function(){},p=z.getStyle=function(a,b,d,f,p){var g;return Za||"opacity"!==b?(!f&&a.style[b]?g=a.style[b]:(d=d||Ia(a))?g=d[b]||d.getPropertyValue(b)||d.getPropertyValue(b.replace(Y,"-$1").toLowerCase()):a.currentStyle&&(g=a.currentStyle[b]),null==p||g&&"none"!==g&&"auto"!==g&&"auto auto"!==g?g:p):ha(a)},F=Ra.convertToPixels=function(a,b,d,h,n){if("px"===h||!h)return d;if("auto"===h||!d)return 0;
var r,k,l=f.test(b),B=a;var H=La.style;var Ea=0>d,ja=1===d;if(Ea&&(d=-d),ja&&(d*=100),"%"===h&&-1!==b.indexOf("border"))H=d/100*(l?a.clientWidth:a.clientHeight);else{if(H.cssText="border:0 solid red;position:"+p(a,"position")+";line-height:0;","%"!==h&&B.appendChild&&"v"!==h.charAt(0)&&"rem"!==h)H[l?"borderLeftWidth":"borderTopWidth"]=d+h;else{if(B=a.parentNode||Qa.body,r=B._gsCache,k=g.ticker.frame,r&&l&&r.time===k)return r.width*d/100;H[l?"width":"height"]=d+h}B.appendChild(La);H=parseFloat(La[l?
"offsetWidth":"offsetHeight"]);B.removeChild(La);l&&"%"===h&&!1!==z.cacheWidths&&(r=B._gsCache=B._gsCache||{},r.time=k,r.width=H/d*100);0!==H||n||(H=F(a,b,d,h,!0))}return ja&&(H/=100),Ea?-H:H},W=Ra.calculateOffset=function(a,b,d){if("absolute"!==p(a,"position",d))return 0;var f="left"===b?"Left":"Top";d=p(a,"margin"+f,d);return a["offset"+f]-(F(a,b,parseFloat(d),d.replace(pa,""))||0)},ea=function(a,b){var d,f,p={};if(b=b||Ia(a,null))if(d=b.length)for(;-1<--d;){var g=b[d];-1!==g.indexOf("-transform")&&
Kb!==g||(p[g.replace(M,ra)]=b.getPropertyValue(g))}else for(d in b)-1!==d.indexOf("Transform")&&Ua!==d||(p[d]=b[d]);else if(b=a.currentStyle||a.style)for(d in b)"string"==typeof d&&void 0===p[d]&&(p[d.replace(M,ra)]=b[d]);return Za||(p.opacity=ha(a)),f=Rb(a,b,!1),p.rotation=f.rotation,p.skewX=f.skewX,p.scaleX=f.scaleX,p.scaleY=f.scaleY,p.x=f.x,p.y=f.y,ab&&(p.z=f.z,p.rotationX=f.rotationX,p.rotationY=f.rotationY,p.scaleZ=f.scaleZ),p.filters&&delete p.filters,p},wa=function(a,b,d,f,p){var g,k,h,r={},
n=a.style;for(k in d)"cssText"!==k&&"length"!==k&&isNaN(k)&&(b[k]!==(g=d[k])||p&&p[k])&&-1===k.indexOf("Origin")&&("number"==typeof g||"string"==typeof g)&&(r[k]="auto"!==g||"left"!==k&&"top"!==k?""!==g&&"auto"!==g&&"none"!==g||"string"!=typeof b[k]||""===b[k].replace(Na,"")?g:0:W(a,k),void 0!==n[k]&&(h=new $a(n,k,n[k],h)));if(f)for(k in f)"className"!==k&&(r[k]=f[k]);return{difs:r,firstMPT:h}},Aa={width:["Left","Right"],height:["Top","Bottom"]},tb=["marginLeft","marginRight","marginTop","marginBottom"],
R=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";null!=a&&""!==a||(a="0 0");var d=a.split(" ");var f=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0];var p=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(3<d.length&&!b){d=a.split(", ").join(",").split(",");a=[];for(f=0;f<d.length;f++)a.push(R(d[f]));return a.join(",")}return null==p?p="center"===f?"50%":"0":"center"===p&&(p="50%"),("center"===f||isNaN(parseFloat(f))&&-1===(f+"").indexOf("="))&&
(f="50%"),a=f+" "+p+(2<d.length?" "+d[2]:""),b&&(b.oxp=-1!==f.indexOf("%"),b.oyp=-1!==p.indexOf("%"),b.oxr="="===f.charAt(1),b.oyr="="===p.charAt(1),b.ox=parseFloat(f.replace(Na,"")),b.oy=parseFloat(p.replace(Na,"")),b.v=a),b||a},qb=function(a,b){return"function"==typeof a&&(a=a(K,E)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},Sa=function(a,b){return"function"==typeof a&&(a=a(K,E)),null==a?b:"string"==typeof a&&"="===
a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},mb=function(a,b,d,f){var p,g,k,h;return"function"==typeof a&&(a=a(K,E)),null==a?k=b:"number"==typeof a?k=a:(p=a.split("_"),h="="===a.charAt(1),g=(h?parseInt(a.charAt(0)+"1",10)*parseFloat(p[0].substr(2)):parseFloat(p[0]))*(-1===a.indexOf("rad")?1:ta)-(h?0:b),p.length&&(f&&(f[d]=b+g),-1!==a.indexOf("short")&&(g%=360,g!==g%180&&(g=0>g?g+360:g-360)),-1!==a.indexOf("_cw")&&0>g?g=(g+3599999999640)%360-360*(g/360|0):-1!==
a.indexOf("ccw")&&0<g&&(g=(g-3599999999640)%360-360*(g/360|0))),k=b+g),1E-6>k&&-1E-6<k&&(k=0),k},db={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ka=function(a,b,d){return a=0>a?a+1:1<a?
a-1:a,255*(1>6*a?b+(d-b)*a*6:.5>a?d:2>3*a?b+(d-b)*(2/3-a)*6:b)+.5|0},ub=z.parseColor=function(a,b){var d,f,p,g,k,h,n;if(a)if("number"==typeof a)var r=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),db[a])r=db[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),f=a.charAt(2),p=a.charAt(3),a="#"+d+d+f+f+p+p),a=parseInt(a.substr(1),16),r=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(r=n=a.match(qa),b){if(-1!==a.indexOf("="))return a.match(C)}else{var l=
Number(r[0])%360/360;var B=Number(r[1])/100;var t=Number(r[2])/100;f=.5>=t?t*(B+1):t+B-t*B;d=2*t-f;3<r.length&&(r[3]=Number(a[3]));r[0]=ka(l+1/3,d,f);r[1]=ka(l,d,f);r[2]=ka(l-1/3,d,f)}else r=a.match(qa)||db.transparent;r[0]=Number(r[0]);r[1]=Number(r[1]);r[2]=Number(r[2]);3<r.length&&(r[3]=Number(r[3]))}else r=db.black;return b&&!n&&(d=r[0]/255,f=r[1]/255,p=r[2]/255,g=Math.max(d,f,p),k=Math.min(d,f,p),t=(g+k)/2,g===k?l=B=0:(h=g-k,B=.5<t?h/(2-g-k):h/(g+k),l=g===d?(f-p)/h+(p>f?6:0):g===f?(p-d)/h+2:
(d-f)/h+4,l*=60),r[0]=l+.5|0,r[1]=100*B+.5|0,r[2]=100*t+.5|0),r},Jb=function(a,b){var d,f=a.match(ya)||[],p=0,g=f.length?"":a;for(d=0;d<f.length;d++){var k=f[d];var h=a.substr(p,a.indexOf(k,p)-p);p+=h.length+k.length;k=ub(k,b);3===k.length&&k.push(1);g+=h+(b?"hsla("+k[0]+","+k[1]+"%,"+k[2]+"%,"+k[3]:"rgba("+k.join(","))+")"}return g+a.substr(p)},ya="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in db)ya+="|"+u+"\\b";ya=new RegExp(ya+")","gi");z.colorStringFilter=function(a){var b,
d=a[0]+a[1];ya.test(d)&&(b=-1!==d.indexOf("hsl(")||-1!==d.indexOf("hsla("),a[0]=Jb(a[0],b),a[1]=Jb(a[1],b));ya.lastIndex=0};g.defaultStringFilter||(g.defaultStringFilter=z.colorStringFilter);var nb=function(a,b,d,f){if(null==a)return function(a){return a};var p,g=b?(a.match(ya)||[""])[0]:"",k=a.split(g).join("").match(sa)||[],h=a.substr(0,a.indexOf(k[0])),n=")"===a.charAt(a.length-1)?")":"",r=-1!==a.indexOf(" ")?" ":",",l=k.length,B=0<l?k[0].replace(qa,""):"";return l?p=b?function(a){var b,q,H;if("number"==
typeof a)a+=B;else if(f&&da.test(a)){a=a.replace(da,"|").split("|");for(H=0;H<a.length;H++)a[H]=p(a[H]);return a.join(",")}if(b=(a.match(ya)||[g])[0],q=a.split(b).join("").match(sa)||[],H=q.length,l>H--)for(;++H<l;)q[H]=d?q[(H-1)/2|0]:k[H];return h+q.join(r)+r+b+n+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,g;if("number"==typeof a)a+=B;else if(f&&da.test(a)){a=a.replace(da,"|").split("|");for(g=0;g<a.length;g++)a[g]=p(a[g]);return a.join(",")}if(b=a.match(sa)||[],g=b.length,l>g--)for(;++g<
l;)b[g]=d?b[(g-1)/2|0]:k[g];return h+b.join(r)+n}:function(a){return a}},Ga=function(a){return a=a.split(","),function(b,d,f,p,g,k,h){f=(d+"").split(" ");h={};for(d=0;4>d;d++)h[a[d]]=f[d]=f[d]||f[(d-1)/2>>0];return p.parse(b,h,g,k)}},$a=(Ra._setPluginRatio=function(a){this.plugin.setRatio(a);var b;var d=this.data;for(var f=d.proxy,p=d.firstMPT;p;){var g=f[p.v];p.r?g=Math.round(g):1E-6>g&&-1E-6<g&&(g=0);p.t[p.p]=g;p=p._next}if(d.autoRotate&&(d.autoRotate.rotation=d.mod?d.mod(f.rotation,this.t):f.rotation),
1===a||0===a)for(p=d.firstMPT,d=1===a?"e":"b";p;){if(b=p.t,b.type){if(1===b.type){g=b.xs0+b.s+b.xs1;for(a=1;a<b.l;a++)g+=b["xn"+a]+b["xs"+(a+1)];b[d]=g}}else b[d]=b.s+b.xs0;p=p._next}},function(a,b,d,f,p){this.t=a;this.p=b;this.v=d;this.r=p;f&&(f._prev=this,this._next=f)}),Ja=(Ra._parseToProxy=function(a,b,d,f,p,g){var k,h,n=f,r={},q={};var l=d._transform;var B=na;d._transform=null;na=b;f=a=d.parse(a,b,f,p);na=B;for(g&&(d._transform=l,n&&(n._prev=null,n._prev&&(n._prev._next=null)));f&&f!==n;){if(1>=
f.type&&(k=f.p,q[k]=f.s+f.c,r[k]=f.s,g||(h=new $a(f,"s",k,h,f.r),f.c=0),1===f.type))for(d=f.l;0<--d;)l="xn"+d,k=f.p+"_"+l,q[k]=f.data[l],r[k]=f[l],g||(h=new $a(f,l,k,h,f.rxp[l]));f=f._next}return{proxy:r,end:q,firstMPT:h,pt:a}},Ra.CSSPropTween=function(b,d,f,p,g,h,k,n,l,F,u){this.t=b;this.p=d;this.s=f;this.c=p;this.n=k||d;b instanceof Ja||t.push(this.n);this.r=n;this.type=h||0;l&&(this.pr=l,a=!0);this.b=void 0===F?f:F;this.e=void 0===u?f+p:u;g&&(this._next=g,g._prev=this)}),ga=function(a,b,d,f,p,
g){a=new Ja(a,b,d,f-d,p,-1,g);return a.b=d,a.e=a.xs0=f,a},ib=z.parseComplex=function(a,b,d,f,p,g,k,h,n,l){d=d||g||"";"function"==typeof f&&(f=f(K,E));k=new Ja(a,b,0,0,k,l?2:1,null,!1,h,d,f);f+="";p&&ya.test(f+d)&&(f=[d,f],z.colorStringFilter(f),d=f[0],f=f[1]);var r,q,B;a=d.split(", ").join(",").split(" ");b=f.split(", ").join(",").split(" ");h=a.length;var H=!1!==J;(-1!==f.indexOf(",")||-1!==d.indexOf(","))&&(a=a.join(" ").replace(da,", ").split(" "),b=b.join(" ").replace(da,", ").split(" "),h=a.length);
h!==b.length&&(a=(g||"").split(" "),h=a.length);k.plugin=n;k.setRatio=l;for(d=ya.lastIndex=0;h>d;d++)if(r=a[d],n=b[d],B=parseFloat(r),B||0===B)k.appendXtra("",B,qb(n,B),n.replace(C,""),H&&-1!==n.indexOf("px"),!0);else if(p&&ya.test(r)){l=n.indexOf(")")+1;l=")"+(l?n.substr(l):"");var t=-1!==n.indexOf("hsl")&&Za;r=ub(r,t);n=ub(n,t);(g=6<r.length+n.length)&&!Za&&0===n[3]?(k["xs"+k.l]+=k.l?" transparent":"transparent",k.e=k.e.split(b[d]).join("transparent")):(Za||(g=!1),t?k.appendXtra(g?"hsla(":"hsl(",
r[0],qb(n[0],r[0]),",",!1,!0).appendXtra("",r[1],qb(n[1],r[1]),"%,",!1).appendXtra("",r[2],qb(n[2],r[2]),g?"%,":"%"+l,!1):k.appendXtra(g?"rgba(":"rgb(",r[0],n[0]-r[0],",",!0,!0).appendXtra("",r[1],n[1]-r[1],",",!0).appendXtra("",r[2],n[2]-r[2],g?",":l,!0),g&&(r=4>r.length?1:r[3],k.appendXtra("",r,(4>n.length?1:n[3])-r,l,!1)));ya.lastIndex=0}else if(g=r.match(qa)){if(q=n.match(C),!q||q.length!==g.length)return k;for(n=l=0;n<g.length;n++){var F=g[n];t=r.indexOf(F,l);k.appendXtra(r.substr(l,t-l),Number(F),
qb(q[n],F),"",H&&"px"===r.substr(t+F.length,2),0===n);l=t+F.length}k["xs"+k.l]+=r.substr(l)}else k["xs"+k.l]+=k.l||k["xs"+k.l]?" "+n:n;if(-1!==f.indexOf("=")&&k.data){l=k.xs0+k.data.s;for(d=1;d<k.l;d++)l+=k["xs"+d]+k.data["xn"+d];k.e=l+k["xs"+d]}return k.l||(k.type=-1,k.xs0=k.e),k.xfirst||k},za=9,u=Ja.prototype;for(u.l=u.pr=0;0<--za;)u["xn"+za]=0,u["xs"+za]="";u.xs0="";u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null;u.appendXtra=function(a,b,d,f,p,g){var k=this.l;return this["xs"+k]+=
g&&(k||this["xs"+k])?" "+a:a||"",d||0===k||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=f||"",0<k?(this.data["xn"+k]=b+d,this.rxp["xn"+k]=p,this["xn"+k]=b,this.plugin||(this.xfirst=new Ja(this,"xn"+k,b,d,this.xfirst||this,0,this.n,p,this.pr),this.xfirst.xs0=0),this):(this.data={s:b+d},this.rxp={},this.s=b,this.c=d,this.r=p,this)):(this["xs"+k]+=b+(f||""),this)};var Cb=function(a,b){b=b||{};this.p=b.prefix?Ca(a)||a:a;l[a]=l[this.p]=this;this.format=b.formatter||nb(b.defaultValue,
b.color,b.collapsible,b.multi);b.parser&&(this.parse=b.parser);this.clrs=b.color;this.multi=b.multi;this.keyword=b.keyword;this.dflt=b.defaultValue;this.pr=b.priority||0},X=Ra._registerComplexSpecialProp=function(a,b,d){"object"!=typeof b&&(b={parser:d});var f=a.split(","),p=b.defaultValue;d=d||[p];for(a=0;a<f.length;a++)b.prefix=0===a&&b.prefix,b.defaultValue=d[a]||p,new Cb(f[a],b)},ia=Ra._registerPluginProp=function(a){if(!l[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";X(a,{parser:function(a,
d,f,p,k,g,h){var n=x.com.greensock.plugins[b];n?a=(n._cssRegister(),l[f].parse(a,d,f,p,k,g,h)):(_gsScope.console&&console.log("Error: "+b+" js file not loaded."),a=k);return a}})}},u=Cb.prototype;u.parseComplex=function(a,b,d,f,p,g){var k,h,n,r,l,q=this.keyword;if(this.multi&&(da.test(d)||da.test(b)?(h=b.replace(da,"|").split("|"),n=d.replace(da,"|").split("|")):q&&(h=[b],n=[d])),n){var B=n.length>h.length?n.length:h.length;for(k=0;B>k;k++)b=h[k]=h[k]||this.dflt,d=n[k]=n[k]||this.dflt,q&&(r=b.indexOf(q),
l=d.indexOf(q),r!==l&&(-1===l?h[k]=h[k].split(q).join(""):-1===r&&(h[k]+=" "+q)));b=h.join(", ");d=n.join(", ")}return ib(a,this.p,b,d,this.clrs,this.dflt,f,this.pr,p,g)};u.parse=function(a,b,d,f,g,n,k){return this.parseComplex(a.style,this.format(p(a,this.p,h,!1,this.dflt)),this.format(b),g,n)};z.registerSpecialProp=function(a,b,d){X(a,{parser:function(a,f,p,k,g,h,n){g=new Ja(a,p,0,0,g,2,p,!1,d);return g.plugin=h,g.setRatio=b(a,f,k._tween,p),g},priority:d})};z.useSVGTransformAttr=!0;var Ta,Db="scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "),
Ua=Ca("transform"),Kb=Da+"transform",lb=Ca("transformOrigin"),ab=null!==Ca("perspective"),bb=Ra.Transform=function(){this.perspective=parseFloat(z.defaultTransformPerspective)||0;this.force3D=!1!==z.defaultForce3D&&ab?z.defaultForce3D||"auto":!1},Qb=_gsScope.SVGElement,yb=function(a,b,d){var f;a=Qa.createElementNS("http://www.w3.org/2000/svg",a);var p=/([a-z])([A-Z])/g;for(f in d)a.setAttributeNS(null,f.replace(p,"$1-$2").toLowerCase(),d[f]);return b.appendChild(a),a},Eb=Qa.documentElement||{},pc=
function(){var a,b,f,p=d||/Android/i.test(eb)&&!_gsScope.chrome;return Qa.createElementNS&&!p&&(a=yb("svg",Eb),b=yb("rect",a,{width:100,height:50,x:100}),f=b.getBoundingClientRect().width,b.style[lb]="50% 50%",b.style[Ua]="scaleX(0.5)",p=f===b.getBoundingClientRect().width&&!(V&&ab),Eb.removeChild(a)),p}(),Gb=function(a,b,d,f,p,g){var k,h,n,r,l,q,B,t,H,F,u,W,Ea,ea=a._gsTransform,E=jc(a,!0);ea&&(W=ea.xOrigin,Ea=ea.yOrigin);(!f||2>(k=f.split(" ")).length)&&(q=a.getBBox(),0===q.x&&0===q.y&&0===q.width+
q.height&&(q={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=R(b).split(" "),k=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*q.width:parseFloat(b[0]))+q.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*q.height:parseFloat(b[1]))+q.y]);d.xOrigin=b=parseFloat(k[0]);d.yOrigin=r=parseFloat(k[1]);f&&E!==cc&&(l=E[0],q=E[1],B=E[2],t=
E[3],H=E[4],F=E[5],u=l*t-q*B,u&&(h=t/u*b+-B/u*r+(B*F-t*H)/u,n=-q/u*b+l/u*r-(l*F-q*H)/u,b=d.xOrigin=k[0]=h,r=d.yOrigin=k[1]=n));ea&&(g&&(d.xOffset=ea.xOffset,d.yOffset=ea.yOffset,ea=d),p||!1!==p&&!1!==z.defaultSmoothOrigin?(h=b-W,n=r-Ea,ea.xOffset+=h*E[0]+n*E[2]-h,ea.yOffset+=h*E[1]+n*E[3]-n):ea.xOffset=ea.yOffset=0);g||a.setAttribute("data-svg-origin",k.join(" "))},qc=function(a){var b=Xa("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,f=this.nextSibling,
p=this.style.cssText;if(Eb.appendChild(b),b.appendChild(this),this.style.display="block",a)try{var g=this.getBBox();this._originalGetBBox=this.getBBox;this.getBBox=qc}catch(k){}else this._originalGetBBox&&(g=this._originalGetBBox());return f?d.insertBefore(this,f):d.appendChild(this),Eb.removeChild(b),this.style.cssText=p,g},gc=function(a){var b;if(b=Qb&&a.getCTM)try{b=a.getBBox()}catch(ja){b=qc.call(a,!0)}return!(!b||a.parentNode&&!a.ownerSVGElement)},cc=[1,0,0,1,0,0],jc=function(a,b){var d,f,g,
h,k,n,l=a._gsTransform||new bb,r=a.style;if(Ua?f=p(a,Kb,null,!0):a.currentStyle&&(f=a.currentStyle.filter.match(Wa),f=f&&4===f.length?[f[0].substr(4),Number(f[2].substr(4)),Number(f[1].substr(4)),f[3].substr(4),l.x||0,l.y||0].join():""),d=!f||"none"===f||"matrix(1, 0, 0, 1, 0, 0)"===f,d&&Ua&&((n="none"===Ia(a).display)||!a.parentNode)&&(n&&(h=r.display,r.display="block"),a.parentNode||(k=1,Eb.appendChild(a)),f=p(a,Kb,null,!0),d=!f||"none"===f||"matrix(1, 0, 0, 1, 0, 0)"===f,h?r.display=h:n&&ob(r,
"display"),k&&Eb.removeChild(a)),(l.svg||a.getCTM&&gc(a))&&(d&&-1!==(r[Ua]+"").indexOf("matrix")&&(f=r[Ua],d=0),g=a.getAttribute("transform"),d&&g&&(-1!==g.indexOf("matrix")?(f=g,d=0):-1!==g.indexOf("translate")&&(f="matrix(1,0,0,1,"+g.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",d=0))),d)return cc;g=(f||"").match(qa)||[];for(za=g.length;-1<--za;)h=Number(g[za]),g[za]=(k=h-(h|=0))?(1E5*k+(0>k?-.5:.5)|0)/1E5+h:h;return b&&6<g.length?[g[0],g[1],g[4],g[5],g[12],g[13]]:g},Rb=Ra.getTransform=function(a,
b,d,f){if(a._gsTransform&&d&&!f)return a._gsTransform;var h,n,k,l=d?a._gsTransform||new bb:new bb,r=0>l.scaleX,t=ab?parseFloat(p(a,lb,b,!1,"0 0 0").split(" ")[2])||l.zOrigin||0:0,B=parseFloat(z.defaultTransformPerspective)||0;if(l.svg=!(!a.getCTM||!gc(a)),l.svg&&(Gb(a,p(a,lb,b,!1,"50% 50%")+"",l,a.getAttribute("data-svg-origin")),Ta=z.useSVGTransformAttr||pc),h=jc(a),h!==cc){if(16===h.length){var F,u,H,W,B=h[0];b=h[1];f=h[2];var ea=h[3],E=h[4],x=h[5],R=h[6],y=h[7],ja=h[8],K=h[9],e=h[10],A=h[12],C=
h[13],wa=h[14],J=h[11],G=Math.atan2(R,e);l.zOrigin&&(wa=-l.zOrigin,A=ja*wa-h[12],C=K*wa-h[13],wa=e*wa+l.zOrigin-h[14]);l.rotationX=G*ta;G&&(W=Math.cos(-G),k=Math.sin(-G),F=E*W+ja*k,u=x*W+K*k,H=R*W+e*k,ja=E*-k+ja*W,K=x*-k+K*W,e=R*-k+e*W,J=y*-k+J*W,E=F,x=u,R=H);G=Math.atan2(-f,e);l.rotationY=G*ta;G&&(W=Math.cos(-G),k=Math.sin(-G),F=B*W-ja*k,u=b*W-K*k,H=f*W-e*k,K=b*k+K*W,e=f*k+e*W,J=ea*k+J*W,B=F,b=u,f=H);G=Math.atan2(b,B);l.rotation=G*ta;G&&(W=Math.cos(-G),k=Math.sin(-G),B=B*W+E*k,u=b*W+x*k,x=b*-k+x*
W,R=f*-k+R*W,b=u);l.rotationX&&359.9<Math.abs(l.rotationX)+Math.abs(l.rotation)&&(l.rotationX=l.rotation=0,l.rotationY=180-l.rotationY);l.scaleX=(1E5*Math.sqrt(B*B+b*b)+.5|0)/1E5;l.scaleY=(1E5*Math.sqrt(x*x+K*K)+.5|0)/1E5;l.scaleZ=(1E5*Math.sqrt(R*R+e*e)+.5|0)/1E5;l.rotationX||l.rotationY?l.skewX=0:(l.skewX=E||x?Math.atan2(E,x)*ta+l.rotation:l.skewX||0,90<Math.abs(l.skewX)&&270>Math.abs(l.skewX)&&(r?(l.scaleX*=-1,l.skewX+=0>=l.rotation?180:-180,l.rotation+=0>=l.rotation?180:-180):(l.scaleY*=-1,l.skewX+=
0>=l.skewX?180:-180)));l.perspective=J?1/(0>J?-J:J):0;l.x=A;l.y=C;l.z=wa;l.svg&&(l.x-=l.xOrigin-(l.xOrigin*B-l.yOrigin*E),l.y-=l.yOrigin-(l.yOrigin*b-l.xOrigin*x))}else ab&&!f&&h.length&&l.x===h[4]&&l.y===h[5]&&(l.rotationX||l.rotationY)||(F=(W=6<=h.length)?h[0]:1,u=h[1]||0,H=h[2]||0,W=W?h[3]:1,l.x=h[4]||0,l.y=h[5]||0,h=Math.sqrt(F*F+u*u),k=Math.sqrt(W*W+H*H),b=F||u?Math.atan2(u,F)*ta:l.rotation||0,f=H||W?Math.atan2(H,W)*ta+b:l.skewX||0,90<Math.abs(f)&&270>Math.abs(f)&&(r?(h*=-1,f+=0>=b?180:-180,
b+=0>=b?180:-180):(k*=-1,f+=0>=f?180:-180)),l.scaleX=h,l.scaleY=k,l.rotation=b,l.skewX=f,ab&&(l.rotationX=l.rotationY=l.z=0,l.perspective=B,l.scaleZ=1),l.svg&&(l.x-=l.xOrigin-(l.xOrigin*F+l.yOrigin*H),l.y-=l.yOrigin-(l.xOrigin*u+l.yOrigin*W)));l.zOrigin=t;for(n in l)2E-5>l[n]&&-2E-5<l[n]&&(l[n]=0)}return d&&(a._gsTransform=l,l.svg&&(Ta&&a.style[Ua]?g.delayedCall(.001,function(){ob(a.style,Ua)}):!Ta&&a.getAttribute("transform")&&g.delayedCall(.001,function(){a.removeAttribute("transform")}))),l},rc=
function(a){var b=this.data,f=-b.rotation*Fa,p=f+b.skewX*Fa,g=(Math.cos(f)*b.scaleX*1E5|0)/1E5,h=(Math.sin(f)*b.scaleX*1E5|0)/1E5,k=(Math.sin(p)*-b.scaleY*1E5|0)/1E5,n=(Math.cos(p)*b.scaleY*1E5|0)/1E5,p=this.t.style;if(f=this.t.currentStyle){var l=h;h=-k;k=-l;var r=f.filter;p.filter="";var t,u;l=this.t.offsetWidth;var W=this.t.offsetHeight,z="absolute"!==f.position,ea="progid:DXImageTransform.Microsoft.Matrix(M11="+g+", M12="+h+", M21="+k+", M22="+n,E=b.x+l*b.xPercent/100,x=b.y+W*b.yPercent/100;if(null!=
b.ox&&(t=(b.oxp?l*b.ox*.01:b.ox)-l/2,u=(b.oyp?W*b.oy*.01:b.oy)-W/2,E+=t-(t*g+u*h),x+=u-(t*k+u*n)),z?(t=l/2,u=W/2,ea+=", Dx="+(t-(t*g+u*h)+E)+", Dy="+(u-(t*k+u*n)+x)+")"):ea+=", sizingMethod='auto expand')",-1!==r.indexOf("DXImageTransform.Microsoft.Matrix(")?p.filter=r.replace(Oa,ea):p.filter=ea+" "+r,(0===a||1===a)&&1===g&&0===h&&0===k&&1===n&&(z&&-1===ea.indexOf("Dx=0, Dy=0")||va.test(r)&&100!==parseFloat(RegExp.$1)||-1===r.indexOf(r.indexOf("Alpha"))&&p.removeAttribute("filter")),!z)for(a=8>d?
1:-1,t=b.ieOffsetX||0,u=b.ieOffsetY||0,b.ieOffsetX=Math.round((l-((0>g?-g:g)*l+(0>h?-h:h)*W))/2+E),b.ieOffsetY=Math.round((W-((0>n?-n:n)*W+(0>k?-k:k)*l))/2+x),za=0;4>za;za++)g=tb[za],h=f[g],l=-1!==h.indexOf("px")?parseFloat(h):F(this.t,g,parseFloat(h),h.replace(pa,""))||0,h=l!==b[g]?2>za?-b.ieOffsetX:-b.ieOffsetY:2>za?t-b.ieOffsetX:u-b.ieOffsetY,p[g]=(b[g]=Math.round(l-h*(0===za||2===za?1:a)))+"px"}},sc=Ra.set3DTransformRatio=Ra.setTransformRatio=function(a){var b,d,f,p,g,k,h,n,l,r,t,F=this.data,
u=this.t.style,W=F.rotation,z=F.rotationX,ea=F.rotationY,E=F.scaleX,x=F.scaleY,R=F.scaleZ,K=F.x,y=F.y,e=F.z,A=F.svg,C=F.perspective;var wa=F.force3D;var G=F.skewY;var J=F.skewX;if(G&&(J+=G,W+=G),!((1!==a&&0!==a||"auto"!==wa||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&wa||e||C||ea||z)&&1===R||Ta&&A||!ab)return void(W||J||A?(W*=Fa,k=J*Fa,d=Math.cos(W)*E,p=Math.sin(W)*E,f=Math.sin(W-k)*-x,g=Math.cos(W-k)*x,k&&"simple"===F.skewType&&(b=Math.tan(k-G*Fa),b=Math.sqrt(1+b*
b),f*=b,g*=b,G&&(b=Math.tan(G*Fa),b=Math.sqrt(1+b*b),d*=b,p*=b)),A&&(K+=F.xOrigin-(F.xOrigin*d+F.yOrigin*f)+F.xOffset,y+=F.yOrigin-(F.xOrigin*p+F.yOrigin*g)+F.yOffset,Ta&&(F.xPercent||F.yPercent)&&(r=this.t.getBBox(),K+=.01*F.xPercent*r.width,y+=.01*F.yPercent*r.height),r=1E-6,r>K&&K>-r&&(K=0),r>y&&y>-r&&(y=0)),l=(1E5*d|0)/1E5+","+(1E5*p|0)/1E5+","+(1E5*f|0)/1E5+","+(1E5*g|0)/1E5+","+K+","+y+")",A&&Ta?this.t.setAttribute("transform","matrix("+l):u[Ua]=(F.xPercent||F.yPercent?"translate("+F.xPercent+
"%,"+F.yPercent+"%) matrix(":"matrix(")+l):u[Ua]=(F.xPercent||F.yPercent?"translate("+F.xPercent+"%,"+F.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+x+","+K+","+y+")");if(V&&(r=1E-4,r>E&&E>-r&&(E=R=2E-5),r>x&&x>-r&&(x=R=2E-5),!C||F.z||F.rotationX||F.rotationY||(C=0)),W||J){W*=Fa;var Aa=d=Math.cos(W);var ha=p=Math.sin(W);J&&(W-=J*Fa,Aa=Math.cos(W),ha=Math.sin(W),"simple"===F.skewType&&(b=Math.tan((J-G)*Fa),b=Math.sqrt(1+b*b),Aa*=b,ha*=b,F.skewY&&(b=Math.tan(G*Fa),b=Math.sqrt(1+b*b),d*=b,p*=b)));f=-ha;
g=Aa}else{if(!(ea||z||1!==R||C||A))return void(u[Ua]=(F.xPercent||F.yPercent?"translate("+F.xPercent+"%,"+F.yPercent+"%) translate3d(":"translate3d(")+K+"px,"+y+"px,"+e+"px)"+(1!==E||1!==x?" scale("+E+","+x+")":""));d=g=1;f=p=0}J=1;a=k=wa=G=h=n=0;var M=C?-1/C:0;l=F.zOrigin;r=1E-6;(W=ea*Fa)&&(Aa=Math.cos(W),ha=Math.sin(W),wa=-ha,h=M*-ha,a=d*ha,k=p*ha,J=Aa,M*=Aa,d*=Aa,p*=Aa);(W=z*Fa)&&(Aa=Math.cos(W),ha=Math.sin(W),b=f*Aa+a*ha,t=g*Aa+k*ha,G=J*ha,n=M*ha,a=f*-ha+a*Aa,k=g*-ha+k*Aa,J*=Aa,M*=Aa,f=b,g=t);
1!==R&&(a*=R,k*=R,J*=R,M*=R);1!==x&&(f*=x,g*=x,G*=x,n*=x);1!==E&&(d*=E,p*=E,wa*=E,h*=E);(l||A)&&(l&&(K+=a*-l,y+=k*-l,e+=J*-l+l),A&&(K+=F.xOrigin-(F.xOrigin*d+F.yOrigin*f)+F.xOffset,y+=F.yOrigin-(F.xOrigin*p+F.yOrigin*g)+F.yOffset),r>K&&K>-r&&(K="0"),r>y&&y>-r&&(y="0"),r>e&&e>-r&&(e=0));l=F.xPercent||F.yPercent?"translate("+F.xPercent+"%,"+F.yPercent+"%) matrix3d(":"matrix3d(";l=l+((r>d&&d>-r?"0":d)+","+(r>p&&p>-r?"0":p)+","+(r>wa&&wa>-r?"0":wa))+(","+(r>h&&h>-r?"0":h)+","+(r>f&&f>-r?"0":f)+","+(r>
g&&g>-r?"0":g));z||ea||1!==R?(l+=","+(r>G&&G>-r?"0":G)+","+(r>n&&n>-r?"0":n)+","+(r>a&&a>-r?"0":a),l+=","+(r>k&&k>-r?"0":k)+","+(r>J&&J>-r?"0":J)+","+(r>M&&M>-r?"0":M)+","):l+=",0,0,0,0,1,0,";l+=K+","+y+","+e+","+(C?1+-e/C:1)+")";u[Ua]=l},u=bb.prototype;u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0;u.scaleX=u.scaleY=u.scaleZ=1;X("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",
{parser:function(a,b,d,f,g,n,k){if(f._lastParsedTransform===k)return g;f._lastParsedTransform=k;var l,r=k.scale&&"function"==typeof k.scale?k.scale:0;"function"==typeof k[d]&&(l=k[d],k[d]=b);r&&(k.scale=r(K,a));var q,F,t,u,W;b=a._gsTransform;var B=a.style,H=Db.length,ea={},x=Rb(a,h,!0,k.parseTransform),y=k.transform&&("function"==typeof k.transform?k.transform(K,E):k.transform);if(f._transform=x,y&&"string"==typeof y&&Ua){var C=La.style;C[Ua]=y;C.display="block";C.position="absolute";Qa.body.appendChild(La);
var G=Rb(La,null,!1);x.svg&&(t=x.xOrigin,u=x.yOrigin,G.x-=x.xOffset,G.y-=x.yOffset,(k.transformOrigin||k.svgOrigin)&&(y={},Gb(a,R(k.transformOrigin),y,k.svgOrigin,k.smoothOrigin,!0),t=y.xOrigin,u=y.yOrigin,G.x-=y.xOffset-x.xOffset,G.y-=y.yOffset-x.yOffset),(t||u)&&(W=jc(La,!0),G.x-=t-(t*W[0]+u*W[2]),G.y-=u-(t*W[1]+u*W[3])));Qa.body.removeChild(La);G.perspective||(G.perspective=x.perspective);null!=k.xPercent&&(G.xPercent=Sa(k.xPercent,x.xPercent));null!=k.yPercent&&(G.yPercent=Sa(k.yPercent,x.yPercent))}else if("object"==
typeof k){if(G={scaleX:Sa(null!=k.scaleX?k.scaleX:k.scale,x.scaleX),scaleY:Sa(null!=k.scaleY?k.scaleY:k.scale,x.scaleY),scaleZ:Sa(k.scaleZ,x.scaleZ),x:Sa(k.x,x.x),y:Sa(k.y,x.y),z:Sa(k.z,x.z),xPercent:Sa(k.xPercent,x.xPercent),yPercent:Sa(k.yPercent,x.yPercent),perspective:Sa(k.transformPerspective,x.perspective)},q=k.directionalRotation,null!=q)if("object"==typeof q)for(C in q)k[C]=q[C];else k.rotation=q;"string"==typeof k.x&&-1!==k.x.indexOf("%")&&(G.x=0,G.xPercent=Sa(k.x,x.xPercent));"string"==
typeof k.y&&-1!==k.y.indexOf("%")&&(G.y=0,G.yPercent=Sa(k.y,x.yPercent));G.rotation=mb("rotation"in k?k.rotation:"shortRotation"in k?k.shortRotation+"_short":"rotationZ"in k?k.rotationZ:x.rotation,x.rotation,"rotation",ea);ab&&(G.rotationX=mb("rotationX"in k?k.rotationX:"shortRotationX"in k?k.shortRotationX+"_short":x.rotationX||0,x.rotationX,"rotationX",ea),G.rotationY=mb("rotationY"in k?k.rotationY:"shortRotationY"in k?k.shortRotationY+"_short":x.rotationY||0,x.rotationY,"rotationY",ea));G.skewX=
mb(k.skewX,x.skewX);G.skewY=mb(k.skewY,x.skewY)}ab&&null!=k.force3D&&(x.force3D=k.force3D,F=!0);x.skewType=k.skewType||x.skewType||z.defaultSkewType;for((q=x.force3D||x.z||x.rotationX||x.rotationY||G.z||G.rotationX||G.rotationY||G.perspective)||null==k.scale||(G.scaleZ=1);-1<--H;){var J=Db[H];y=G[J]-x[J];(1E-6<y||-1E-6>y||null!=k[J]||null!=na[J])&&(F=!0,g=new Ja(x,J,x[J],y,g),J in ea&&(g.e=ea[J]),g.xs0=0,g.plugin=n,f._overwriteProps.push(g.n))}return y=k.transformOrigin,x.svg&&(y||k.svgOrigin)&&(t=
x.xOffset,u=x.yOffset,Gb(a,R(y),G,k.svgOrigin,k.smoothOrigin),g=ga(x,"xOrigin",(b?x:G).xOrigin,G.xOrigin,g,"transformOrigin"),g=ga(x,"yOrigin",(b?x:G).yOrigin,G.yOrigin,g,"transformOrigin"),(t!==x.xOffset||u!==x.yOffset)&&(g=ga(x,"xOffset",b?t:x.xOffset,x.xOffset,g,"transformOrigin"),g=ga(x,"yOffset",b?u:x.yOffset,x.yOffset,g,"transformOrigin")),y="0px 0px"),(y||ab&&q&&x.zOrigin)&&(Ua?(F=!0,J=lb,y=(y||p(a,J,h,!1,"50% 50%"))+"",g=new Ja(B,J,0,0,g,-1,"transformOrigin"),g.b=B[J],g.plugin=n,ab?(C=x.zOrigin,
y=y.split(" "),x.zOrigin=(2<y.length&&(0===C||"0px"!==y[2])?parseFloat(y[2]):C)||0,g.xs0=g.e=y[0]+" "+(y[1]||"50%")+" 0px",g=new Ja(x,"zOrigin",0,0,g,-1,g.n),g.b=C,g.xs0=g.e=x.zOrigin):g.xs0=g.e=y):R(y+"",x)),F&&(f._transformType=x.svg&&Ta||!q&&3!==this._transformType?2:3),l&&(k[d]=l),r&&(k.scale=r),g},prefix:!0});X("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"});X("borderRadius",{defaultValue:"0px",parser:function(a,b,d,f,g,l){b=this.format(b);var k,
r,q,t,u,W,B,H,x,z=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],ea=a.style;f=parseFloat(a.offsetWidth);l=parseFloat(a.offsetHeight);b=b.split(" ");for(k=0;k<z.length;k++){this.p.indexOf("border")&&(z[k]=Ca(z[k]));var E=q=p(a,z[k],h,!1,"0px");-1!==E.indexOf(" ")&&(q=E.split(" "),E=q[0],q=q[1]);var y=r=b[k];var R=parseFloat(E);var G=E.substr((R+"").length);(W="="===y.charAt(1))?(t=parseInt(y.charAt(0)+"1",10),y=y.substr(2),t*=parseFloat(y),u=y.substr((t+
"").length-(0>t?1:0))||""):(t=parseFloat(y),u=y.substr((t+"").length));""===u&&(u=n[d]||G);u!==G&&(B=F(a,"borderLeft",R,G),H=F(a,"borderTop",R,G),"%"===u?(E=B/f*100+"%",q=H/l*100+"%"):"em"===u?(x=F(a,"borderLeft",1,"em"),E=B/x+"em",q=H/x+"em"):(E=B+"px",q=H+"px"),W&&(y=parseFloat(E)+t+u,r=parseFloat(q)+t+u));g=ib(ea,z[k],E+" "+q,y+" "+r,!1,"0px",g)}return g},prefix:!0,formatter:nb("0px 0px 0px 0px",!1,!0)});X("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",
{defaultValue:"0px",parser:function(a,b,d,f,g,n){return ib(a.style,d,this.format(p(a,d,h,!1,"0px 0px")),this.format(b),!1,"0px",g)},prefix:!0,formatter:nb("0px 0px",!1,!0)});X("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,f,g,n,l){var k,r;f=h||Ia(a,null);f=this.format((f?d?f.getPropertyValue("background-position-x")+" "+f.getPropertyValue("background-position-y"):f.getPropertyValue("background-position"):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0");
var q=this.format(b);if(-1!==f.indexOf("%")!=(-1!==q.indexOf("%"))&&2>q.split(",").length&&(k=p(a,"backgroundImage").replace(Z,""),k&&"none"!==k)){b=f.split(" ");g=q.split(" ");G.setAttribute("src",k);for(k=2;-1<--k;){f=b[k];var F=-1!==f.indexOf("%");F!==(-1!==g[k].indexOf("%"))&&(r=0===k?a.offsetWidth-G.width:a.offsetHeight-G.height,b[k]=F?parseFloat(f)/100*r+"px":parseFloat(f)/r*100+"%")}f=b.join(" ")}return this.parseComplex(a.style,f,q,n,l)},formatter:R});X("backgroundSize",{defaultValue:"0 0",
formatter:function(a){return a+="",R(-1===a.indexOf(" ")?a+" "+a:a)}});X("perspective",{defaultValue:"0px",prefix:!0});X("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});X("transformStyle",{prefix:!0});X("backfaceVisibility",{prefix:!0});X("userSelect",{prefix:!0});X("margin",{parser:Ga("marginTop,marginRight,marginBottom,marginLeft")});X("padding",{parser:Ga("paddingTop,paddingRight,paddingBottom,paddingLeft")});X("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,f,g,n,l){var k,
r,q;return 9>d?(r=a.currentStyle,q=8>d?" ":",",k="rect("+r.clipTop+q+r.clipRight+q+r.clipBottom+q+r.clipLeft+")",b=this.format(b).split(",").join(q)):(k=this.format(p(a,this.p,h,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,k,b,n,l)}});X("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});X("autoRound,strictUnits",{parser:function(a,b,d,f,g){return g}});X("border",{defaultValue:"0px solid #000",parser:function(a,b,d,f,g,n){d=p(a,"borderTopWidth",h,!1,"0px");b=this.format(b).split(" ");
f=b[0].replace(pa,"");return"px"!==f&&(d=parseFloat(d)/F(a,"borderTopWidth",1,f)+f),this.parseComplex(a.style,this.format(d+" "+p(a,"borderTopStyle",h,!1,"solid")+" "+p(a,"borderTopColor",h,!1,"#000")),b.join(" "),g,n)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ya)||["#000"])[0]}});X("borderWidth",{parser:Ga("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")});X("float,cssFloat,styleFloat",{parser:function(a,b,d,f,g,p){a=a.style;
f="cssFloat"in a?"cssFloat":"styleFloat";return new Ja(a,f,0,0,g,-1,d,!1,0,a[f],b)}});var dc=function(a){var b,d=this.t,f=d.filter||p(this.data,"filter")||"";a=this.s+this.c*a|0;100===a&&(-1===f.indexOf("atrix(")&&-1===f.indexOf("radient(")&&-1===f.indexOf("oader(")?(d.removeAttribute("filter"),b=!p(this.data,"filter")):(d.filter=f.replace(ba,""),b=!0));b||(this.xn1&&(d.filter=f=f||"alpha(opacity="+a+")"),-1===f.indexOf("pacity")?0===a&&this.xn1||(d.filter=f+" alpha(opacity="+a+")"):d.filter=f.replace(va,
"opacity="+a))};X("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,d,f,g,n){var k=parseFloat(p(a,"opacity",h,!1,"1")),l=a.style,q="autoAlpha"===d;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+k),q&&1===k&&"hidden"===p(a,"visibility",h)&&0!==b&&(k=0),Za?g=new Ja(l,"opacity",k,b-k,g):(g=new Ja(l,"opacity",100*k,100*(b-k),g),g.xn1=q?1:0,l.zoom=1,g.type=2,g.b="alpha(opacity="+g.s+")",g.e="alpha(opacity="+(g.s+g.c)+")",g.data=a,g.plugin=
n,g.setRatio=dc),q&&(g=new Ja(l,"visibility",0,0,g,-1,null,!1,0,0!==k?"inherit":"hidden",0===b?"hidden":"inherit"),g.xs0="inherit",f._overwriteProps.push(g.n),f._overwriteProps.push(d)),g}});var ob=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(Y,"-$1").toLowerCase())):a.removeAttribute(b))},Lb=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,d=this.t.style;b;)b.v?
d[b.p]=b.v:ob(d,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};X("className",{parser:function(b,d,f,g,p,n,k){var l,q,r,F=b.getAttribute("class")||"",t=b.style.cssText;if(p=g._classNamePT=new Ja(b,f,0,0,p,2),p.setRatio=Lb,p.pr=-11,a=!0,p.b=F,f=ea(b,h),q=b._gsClassPT){var u={};for(r=q.data;r;)u[r.p]=1,r=r._next;q.setRatio(1)}return b._gsClassPT=p,p.e="="!==d.charAt(1)?d:F.replace(new RegExp("(?:\\s|^)"+
d.substr(2)+"(?![\\w-])"),"")+("+"===d.charAt(0)?" "+d.substr(2):""),b.setAttribute("class",p.e),l=wa(b,f,ea(b),k,u),b.setAttribute("class",F),p.data=l.firstMPT,b.style.cssText=t,p.xfirst=g.parse(b,l.difs,p,n)}});var Wb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,d,f=this.t.style,g=l.transform.parse;if("all"===this.e){f.cssText="";var p=!0}else for(a=this.e.split(" ").join("").split(","),b=a.length;-1<--b;){var k=a[b];l[k]&&
(l[k].parse===g?p=!0:k="transformOrigin"===k?lb:l[k].p);ob(f,k)}p&&(ob(f,Ua),d=this.t._gsTransform,d&&(d.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};X("clearProps",{parser:function(b,d,f,g,p){return p=new Ja(b,f,0,0,p,2),p.setRatio=Wb,p.e=d,p.pr=-10,p.data=g._tween,a=!0,p}});u=["bezier","throwProps","physicsProps","physics2D"];for(za=u.length;za--;)ia(u[za]);u=z.prototype;u._firstPT=u._lastParsedTransform=u._transform=null;u._onInitTween=
function(b,d,f,g){if(!b.nodeType)return!1;this._target=E=b;this._tween=f;this._vars=d;K=g;J=d.autoRound;a=!1;n=d.suffixMap||z.suffixMap;h=Ia(b,"");t=this._overwriteProps;var r,q,k,F,u;g=b.style;if(y&&""===g.zIndex&&(r=p(b,"zIndex",h),("auto"===r||""===r)&&this._addLazySet(g,"zIndex",0)),"string"==typeof d&&(F=g.cssText,r=ea(b,h),g.cssText=F+";"+d,r=wa(b,r,ea(b)).difs,!Za&&ma.test(d)&&(r.opacity=parseFloat(RegExp.$1)),d=r,g.cssText=F),d.className?this._firstPT=q=l.className.parse(b,d.className,"className",
this,null,null,d):this._firstPT=q=this.parse(b,d,null),this._transformType){d=3===this._transformType;Ua?T&&(y=!0,""===g.zIndex&&(k=p(b,"zIndex",h),("auto"===k||""===k)&&this._addLazySet(g,"zIndex",0)),N&&this._addLazySet(g,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(d?"visible":"hidden"))):g.zoom=1;for(k=q;k&&k._next;)k=k._next;d=new Ja(b,"transform",0,0,null,2);this._linkCSSP(d,null,k);d.setRatio=Ua?sc:rc;d.data=this._transform||Rb(b,h,!0);d.tween=f;d.pr=-1;t.pop()}if(a){for(;q;){b=
q._next;for(k=F;k&&k.pr>q.pr;)k=k._next;(q._prev=k?k._prev:u)?q._prev._next=q:F=q;(q._next=k)?k._prev=q:u=q;q=b}this._firstPT=F}return!0};u.parse=function(a,b,d,f){var g,q,k,r,t,u=a.style;for(g in b){var x=b[g];"function"==typeof x&&(x=x(K,E));if(q=l[g])d=q.parse(a,x,g,this,d,f,b);else{q=p(a,g,h)+"";var z="string"==typeof x;if("color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||z&&aa.test(x))z||(x=ub(x),x=(3<x.length?"rgba(":"rgb(")+x.join(",")+")"),d=ib(u,g,q,x,!0,"transparent",d,0,f);
else if(z&&Ya.test(x))d=ib(u,g,q,x,!0,null,d,0,f);else{var ea=(k=parseFloat(q))||0===k?q.substr((k+"").length):"";if(""===q||"auto"===q)if("width"===g||"height"===g){k=a;var H=g;ea=h;if("svg"===(k.nodeName+"").toLowerCase())k=(ea||Ia(k))[H]||0;else if(k.getCTM&&gc(k))k=k.getBBox()[H]||0;else{var y=parseFloat("width"===H?k.offsetWidth:k.offsetHeight);var H=Aa[H],B=H.length;for(ea=ea||Ia(k,null);-1<--B;)y-=parseFloat(p(k,"padding"+H[B],ea,!0))||0,y-=parseFloat(p(k,"border"+H[B]+"Width",ea,!0))||0;k=
y}ea="px"}else"left"===g||"top"===g?(k=W(a,g,h),ea="px"):(k="opacity"!==g?0:1,ea="");(y=z&&"="===x.charAt(1))?(r=parseInt(x.charAt(0)+"1",10),x=x.substr(2),r*=parseFloat(x),t=x.replace(pa,"")):(r=parseFloat(x),t=z?x.replace(pa,""):"");""===t&&(t=g in n?n[g]:ea);x=r||0===r?(y?r+k:r)+t:b[g];ea!==t&&""!==t&&(r||0===r)&&k&&(k=F(a,g,k,ea),"%"===t?(k/=F(a,g,100,"%")/100,!0!==b.strictUnits&&(q=k+"%")):"em"===t||"rem"===t||"vw"===t||"vh"===t?k/=F(a,g,1,t):"px"!==t&&(r=F(a,g,r,t),t="px"),y&&(r||0===r)&&(x=
r+k+t));y&&(r+=k);!k&&0!==k||!r&&0!==r?void 0!==u[g]&&(x||"NaN"!=x+""&&null!=x)?(d=new Ja(u,g,r||k||0,0,d,-1,g,!1,0,q,x),d.xs0="none"!==x||"display"!==g&&-1===g.indexOf("Style")?x:q):_gsScope.console&&console.log("invalid "+g+" tween value: "+b[g]):(d=new Ja(u,g,k,r-k,d,0,g,!1!==J&&("px"===t||"zIndex"===g),0,q,x),d.xs0=t)}}f&&d&&!d.plugin&&(d.plugin=f)}return d};u.setRatio=function(a){var b,d,f=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==
this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;f;){if(b=f.c*a+f.s,f.r?b=Math.round(b):1E-6>b&&-1E-6<b&&(b=0),f.type)if(1===f.type)if(d=f.l,2===d)f.t[f.p]=f.xs0+b+f.xs1+f.xn1+f.xs2;else if(3===d)f.t[f.p]=f.xs0+b+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3;else if(4===d)f.t[f.p]=f.xs0+b+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3+f.xn3+f.xs4;else if(5===d)f.t[f.p]=f.xs0+b+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3+f.xn3+f.xs4+f.xn4+f.xs5;else{var g=f.xs0+b+f.xs1;for(d=1;d<f.l;d++)g+=f["xn"+d]+f["xs"+(d+
1)];f.t[f.p]=g}else-1===f.type?f.t[f.p]=f.xs0:f.setRatio&&f.setRatio(a);else f.t[f.p]=b+f.xs0;f=f._next}else for(;f;)2!==f.type?f.t[f.p]=f.b:f.setRatio(a),f=f._next;else for(;f;){if(2!==f.type)if(f.r&&-1!==f.type)if(b=Math.round(f.s+f.c),f.type){if(1===f.type){g=f.xs0+b+f.xs1;for(d=1;d<f.l;d++)g+=f["xn"+d]+f["xs"+(d+1)];f.t[f.p]=g}}else f.t[f.p]=b+f.xs0;else f.t[f.p]=f.e;else f.setRatio(a);f=f._next}};u._enableTransforms=function(a){this._transform=this._transform||Rb(this._target,h,!0);this._transformType=
this._transform.svg&&Ta||!a&&3!==this._transformType?2:3};var Vb=function(a){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(a,b,d){a=this._firstPT=new Ja(a,b,0,0,this._firstPT,2);a.e=d;a.setRatio=Vb;a.data=this};u._linkCSSP=function(a,b,d,f){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,f=!0),d?d._next=a:f||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=d),a};
u._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next};u._kill=function(a){var d,f,g,p=a;if(a.autoAlpha||a.alpha){p={};for(f in a)p[f]=a[f];p.opacity=1;p.autoAlpha&&(p.visibility=1)}a.className&&(d=this._classNamePT)&&(g=d.xfirst,g&&g._prev?this._linkCSSP(g._prev,d._next,g._prev._prev):g===this._firstPT&&(this._firstPT=d._next),d._next&&this._linkCSSP(d._next,d._next._next,g._prev),this._classNamePT=null);for(d=this._firstPT;d;)d.plugin&&d.plugin!==
f&&d.plugin._kill&&(d.plugin._kill(a),f=d.plugin),d=d._next;return b.prototype._kill.call(this,p)};var Mb=function(a,b,d){var f;if(a.slice)for(f=a.length;-1<--f;)Mb(a[f],b,d);else for(a=a.childNodes,f=a.length;-1<--f;){var g=a[f];var p=g.type;g.style&&(b.push(ea(g)),d&&d.push(g));1!==p&&9!==p&&11!==p||!g.childNodes.length||Mb(g,b,d)}};return z.cascadeTo=function(a,b,d){var f,p;var h=g.to(a,b,d);var k=[h],n=[],l=[],r=[],F=g._internals.reservedProps;a=h._targets||h.target;Mb(a,n,r);h.render(b,!0,!0);
Mb(a,l);h.render(0,!0,!0);h._enabled(!0);for(a=r.length;-1<--a;)if(f=wa(r[a],n[a],l[a]),f.firstMPT){f=f.difs;for(p in d)F[p]&&(f[p]=d[p]);h={};for(p in f)h[p]=n[a][p];k.push(g.fromTo(r[a],b,h,f))}return k},b.activate([z]),z},!0);(function(){var b=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(b,a,n){return this._tween=n,!0}}).prototype;b._onInitAllProps=function(){for(var b,a,n,h=this._tween,t=h.vars.roundProps.join?h.vars.roundProps:h.vars.roundProps.split(","),
z=t.length,x={},l=h._propLookup.roundProps;-1<--z;)x[t[z]]=Math.round;for(z=t.length;-1<--z;)for(b=t[z],a=h._firstPT;a;){n=a._next;if(a.pg)a.t._mod(x);else if(a.n===b)if(2===a.f&&a.t)for(a=a.t._firstPT;a;)a.f||a.blob||(a.m=Math.round),a=a._next;else this._add(a.t,b,a.s,a.c),n&&(n._prev=a._prev),a._prev?a._prev._next=n:h._firstPT===a&&(h._firstPT=n),a._next=a._prev=null,h._propLookup[b]=l;a=n}return!1};b._add=function(b,a,n,h){this._addTween(b,a,n,n+h,a,Math.round);this._overwriteProps.push(a)}})();
(function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(b,g,a,n){var h;if("function"!=typeof b.setAttribute)return!1;for(h in g)a=g[h],"function"==typeof a&&(a=a(n,b)),this._addTween(b,"setAttribute",b.getAttribute(h)+"",a+"",h,!1,h),this._overwriteProps.push(h);return!0}})})();_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(b,g,a,n){"object"!=typeof g&&(g={rotation:g});this.finals={};var h,t,z,x,l,u;a=!0===g.useRadians?
2*Math.PI:360;for(h in g)"useRadians"!==h&&(x=g[h],"function"==typeof x&&(x=x(n,b)),u=(x+"").split("_"),t=u[0],z=parseFloat("function"!=typeof b[h]?b[h]:b[h.indexOf("set")||"function"!=typeof b["get"+h.substr(3)]?h:"get"+h.substr(3)]()),x=this.finals[h]="string"==typeof t&&"="===t.charAt(1)?z+parseInt(t.charAt(0)+"1",10)*Number(t.substr(2)):Number(t)||0,l=x-z,u.length&&(t=u.join("_"),-1!==t.indexOf("short")&&(l%=a,l!==l%(a/2)&&(l=0>l?l+a:l-a)),-1!==t.indexOf("_cw")&&0>l?l=(l+9999999999*a)%a-(l/a|
0)*a:-1!==t.indexOf("ccw")&&0<l&&(l=(l-9999999999*a)%a-(l/a|0)*a)),(1E-6<l||-1E-6>l)&&(this._addTween(b,h,z,z+l,h),this._overwriteProps.push(h)));return!0},set:function(b){if(1!==b)this._super.setRatio.call(this,b);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0;_gsScope._gsDefine("easing.Back",["easing.Ease"],function(b){var g,a,n,h=_gsScope.GreenSockGlobals||_gsScope,t=2*Math.PI,z=Math.PI/2,x=h.com.greensock._class,l=function(a,g){var d=
x("easing."+a,function(){},!0),h=d.prototype=new b;return h.constructor=d,h.getRatio=g,d},u=b.register||function(){},J=function(a,b,g,h,n){b=x("easing."+a,{easeOut:new b,easeIn:new g,easeInOut:new h},!0);return u(b,a),b},y=function(a,b,g){this.t=a;this.v=b;g&&(this.next=g,g.prev=this,this.c=g.v-b,this.gap=g.t-a)},T=function(a,g){var d=x("easing."+a,function(a){this._p1=a||0===a?a:1.70158;this._p2=1.525*this._p1},!0),h=d.prototype=new b;return h.constructor=d,h.getRatio=g,h.config=function(a){return new d(a)},
d},T=J("Back",T("BackOut",function(a){return--a*a*((this._p1+1)*a+this._p1)+1}),T("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),T("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),V=x("easing.SlowMo",function(a,b,g){null==a?a=.7:1<a&&(a=1);this._p=1!==a?b||0===b?b:.7:0;this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=!0===g},!0),N=V.prototype=new b;return N.constructor=V,N.getRatio=function(a){var b=
a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},V.ease=new V(.7,.7),N.config=V.config=function(a,b,g){return new V(a,b,g)},g=x("easing.SteppedEase",function(a){a=a||1;this._p1=1/a;this._p2=a+1},!0),N=g.prototype=new b,N.constructor=g,N.getRatio=function(a){return 0>a?a=0:1<=a&&(a=.999999999),(this._p2*a>>0)*this._p1},N.config=g.config=function(a){return new g(a)},
a=x("easing.RoughEase",function(a){a=a||{};for(var d,g,h,n,l=a.taper||"none",t=[],u=0,x=n=0|(a.points||20),z=!1!==a.randomize,J=!0===a.clamp,T=a.template instanceof b?a.template:null,V="number"==typeof a.strength?.4*a.strength:.4;-1<--x;)a=z?Math.random():1/n*x,d=T?T.getRatio(a):a,"none"===l?g=V:"out"===l?(h=1-a,g=h*h*V):"in"===l?g=a*a*V:.5>a?(h=2*a,g=h*h*.5*V):(h=2*(1-a),g=h*h*.5*V),z?d+=Math.random()*g-.5*g:x%2?d+=.5*g:d-=.5*g,J&&(1<d?d=1:0>d&&(d=0)),t[u++]={x:a,y:d};t.sort(function(a,b){return a.x-
b.x});g=new y(1,1,null);for(x=n;-1<--x;)n=t[x],g=new y(n.x,n.y,g);this._prev=new y(0,0,0!==g.t?g:g.next)},!0),N=a.prototype=new b,N.constructor=a,N.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},N.config=function(b){return new a(b)},a.ease=new a,J("Bounce",l("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:
7.5625*(a-=2.625/2.75)*a+.984375}),l("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),l("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),J("Circ",l("CircOut",function(a){return Math.sqrt(1- --a*a)}),l("CircIn",
function(a){return-(Math.sqrt(1-a*a)-1)}),l("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),n=function(a,g,h){var d=x("easing."+a,function(a,b){this._p1=1<=a?a:1;this._p2=(b||h)/(1>a?a:1);this._p3=this._p2/t*(Math.asin(1/this._p1)||0);this._p2=t/this._p2},!0);a=d.prototype=new b;return a.constructor=d,a.getRatio=g,a.config=function(a,b){return new d(a,b)},d},J("Elastic",n("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*
this._p2)+1},.3),n("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2))},.3),n("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2):this._p1*Math.pow(2,-10*--a)*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),J("Expo",l("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),l("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),l("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,
-10*(a-1)))})),J("Sine",l("SineOut",function(a){return Math.sin(a*z)}),l("SineIn",function(a){return-Math.cos(a*z)+1}),l("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),x("easing.EaseLookup",{find:function(a){return b.map[a]}},!0),u(h.SlowMo,"SlowMo","ease,"),u(a,"RoughEase","ease,"),u(g,"SteppedEase","ease,"),T},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function(b,g){var a={},n=b.document,h=b.GreenSockGlobals=b.GreenSockGlobals||b;if(!h.TweenLite){var t,z=function(a){var b=a.split("."),d=h;for(a=0;a<b.length;a++)d[b[a]]=d=d[b[a]]||{};return d},x=z("com.greensock"),l=function(a){var b,d=[],f=a.length;for(b=0;b!==f;d.push(a[b++]));return d},u=function(){},J=function(){var a=Object.prototype.toString,b=a.call([]);return function(d){return null!=d&&(d instanceof Array||"object"==typeof d&&!!d.push&&a.call(d)===b)}}(),y={},T=function(d,f,n,l){this.sc=
y[d]?y[d].sc:[];y[d]=this;this.gsClass=null;this.func=n;var p=[];this.check=function(t){for(var F,u,W,x,ea,G=f.length,E=G;-1<--G;)(F=y[f[G]]||new T(f[G],[])).gsClass?(p[G]=F.gsClass,E--):t&&F.sc.push(this);if(0===E&&n){if(u=("com.greensock."+d).split("."),W=u.pop(),x=z(u.join("."))[W]=this.gsClass=n.apply(n,p),l)if(h[W]=a[W]=x,ea="undefined"!=typeof module&&module.exports,!ea&&"function"==typeof define&&define.amd)define((b.GreenSockAMDPath?b.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return x});
else if(ea)if(d===g)for(G in module.exports=a[g]=x,a)x[G]=a[G];else a[g]&&(a[g][W]=x);for(G=0;G<this.sc.length;G++)this.sc[G].check()}};this.check(!0)},V=b._gsDefine=function(a,b,d,f){return new T(a,b,d,f)},N=x._class=function(a,b,d){return b=b||function(){},V(a,[],function(){return b},d),b};V.globals=h;var d=[0,0,1,1],E=N("easing.Ease",function(a,b,f,g){this._func=a;this._type=f||0;this._power=g||0;this._params=b?d.concat(b):d},!0),K=E.map={},qa=E.register=function(a,b,d,f){var g;b=b.split(",");
for(var p=b.length,h=(d||"easeIn,easeOut,easeInOut").split(",");-1<--p;){var n=b[p];d=f?N("easing."+n,null,!0):x.easing[n]||{};for(g=h.length;-1<--g;){var l=h[g];K[n+"."+l]=K[l+n]=d[l]=a.getRatio?a:a[l]||new a}}};var C=E.prototype;C._calcEnd=!1;C.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,d=this._power,f=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===d?f*=f:2===d?f*=f*f:3===d?f*=f*f*f:4===d&&(f*=f*f*f*f),1===b?1-f:2===b?f:.5>a?f/
2:1-f/2};var sa=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(t=sa.length;-1<--t;)C=sa[t]+",Power"+t,qa(new E(null,null,1,t),C,"easeOut",!0),qa(new E(null,null,2,t),C,"easeIn"+(0===t?",easeNone":"")),qa(new E(null,null,3,t),C,"easeInOut");K.linear=x.easing.Linear.easeIn;K.swing=x.easing.Quad.easeInOut;var Na=N("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});C=Na.prototype;C.addEventListener=function(a,b,d,f,g){g=g||0;var p,h=this._listeners[a],n=0;this!==
Y||Ia||Y.wake();null==h&&(this._listeners[a]=h=[]);for(p=h.length;-1<--p;)a=h[p],a.c===b&&a.s===d?h.splice(p,1):0===n&&a.pr<g&&(n=p+1);h.splice(n,0,{c:b,s:d,up:f,pr:g})};C.removeEventListener=function(a,b){var d,f=this._listeners[a];if(f)for(d=f.length;-1<--d;)if(f[d].c===b)return void f.splice(d,1)};C.dispatchEvent=function(a){var b,d,f=this._listeners[a];if(f){var g=f.length;1<g&&(f=f.slice(0));for(b=this._eventTarget;-1<--g;)(d=f[g])&&(d.up?d.c.call(d.s||b,{type:a,target:b}):d.c.call(d.s||b))}};
var pa=b.requestAnimationFrame,va=b.cancelAnimationFrame,ma=Date.now||function(){return(new Date).getTime()},ba=ma();sa=["ms","moz","webkit","o"];for(t=sa.length;-1<--t&&!pa;)pa=b[sa[t]+"RequestAnimationFrame"],va=b[sa[t]+"CancelAnimationFrame"]||b[sa[t]+"CancelRequestAnimationFrame"];N("Ticker",function(a,b){var d,f,g,p,h,l=this,t=ma(),F=!1!==b&&pa?"auto":!1,x=500,z=33,y=function(a){var b;var n=ma()-ba;n>x&&(t+=n-z);ba+=n;l.time=(ba-t)/1E3;n=l.time-h;(!d||0<n||!0===a)&&(l.frame++,h+=n+(n>=p?.004:
p-n),b=!0);!0!==a&&(g=f(y));b&&l.dispatchEvent("tick")};Na.call(l);l.time=l.frame=0;l.tick=function(){y(!0)};l.lagSmoothing=function(a,b){x=a||1E10;z=Math.min(b,x,0)};l.sleep=function(){null!=g&&(F&&va?va(g):clearTimeout(g),f=u,g=null,l===Y&&(Ia=!1))};l.wake=function(a){null!==g?l.sleep():a?t+=-ba+(ba=ma()):10<l.frame&&(ba=ma()-x+5);f=0===d?u:F&&pa?pa:function(a){return setTimeout(a,1E3*(h-l.time)+1|0)};l===Y&&(Ia=!0);y(2)};l.fps=function(a){return arguments.length?(d=a,p=1/(d||60),h=this.time+p,
void l.wake()):d};l.useRAF=function(a){return arguments.length?(l.sleep(),F=a,void l.fps(d)):F};l.fps(a);setTimeout(function(){"auto"===F&&5>l.frame&&"hidden"!==n.visibilityState&&l.useRAF(!1)},1500)});C=x.Ticker.prototype=new x.events.EventDispatcher;C.constructor=x.Ticker;var aa=N("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,
G){Ia||Y.wake();var d=this.vars.useFrames?La:G;d.add(this,d._time);this.vars.paused&&this.paused(!0)}});var Y=aa.ticker=new x.Ticker;C=aa.prototype;C._dirty=C._gc=C._initted=C._paused=!1;C._totalTime=C._time=0;C._rawPrevTime=-1;C._next=C._last=C._onUpdate=C._timeline=C.timeline=null;C._paused=!1;var M=function(){Ia&&2E3<ma()-ba&&Y.wake();setTimeout(M,2E3)};M();C.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)};C.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)};
C.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)};C.seek=function(a,b){return this.totalTime(Number(a),!1!==b)};C.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)};C.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)};C.render=function(a,b,d){};C.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&
this._enabled(!0),this};C.isActive=function(){var a,b=this._timeline,d=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=d&&a<d+this.totalDuration()/this._timeScale};C._enabled=function(a,b){return Ia||Y.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1};C._kill=function(a,b){return this._enabled(!1,!1)};C.kill=function(a,b){return this._kill(a,
b),this};C._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};C._swapSelfInParams=function(a){for(var b=a.length,d=a.concat();-1<--b;)"{self}"===a[b]&&(d[b]=this);return d};C._callback=function(a){var b=this.vars,d=b[a],f=b[a+"Params"];a=b[a+"Scope"]||b.callbackScope||this;switch(f?f.length:0){case 0:d.call(a);break;case 1:d.call(a,f[0]);break;case 2:d.call(a,f[0],f[1]);break;default:d.apply(a,f)}};C.eventCallback=function(a,b,d,f){if("on"===(a||"").substr(0,
2)){var g=this.vars;if(1===arguments.length)return g[a];null==b?delete g[a]:(g[a]=b,g[a+"Params"]=J(d)&&-1!==d.join("").indexOf("{self}")?this._swapSelfInParams(d):d,g[a+"Scope"]=f);"onUpdate"===a&&(this._onUpdate=b)}return this};C.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay};C.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&
0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(a/this._duration*this._totalTime,!0),this):(this._dirty=!1,this._duration)};C.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration};C.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time};C.totalTime=function(a,b,d){if(Ia||Y.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&
!d&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var g=this._totalDuration,h=this._timeline;if(a>g&&!d&&(a=g),this._startTime=(this._paused?this._pauseTime:h._time)-(this._reversed?g-a:a)/this._timeScale,h._dirty||this._uncache(!1),h._timeline)for(;h._timeline;)h._timeline._time!==(h._startTime+h._totalTime)/h._timeScale&&h.totalTime(h._totalTime,!0),h=h._timeline}this._gc&&this._enabled(!0,!1);(this._totalTime!==a||0===this._duration)&&(f.length&&
eb(),this.render(a,b,!1),f.length&&eb())}return this};C.progress=C.totalProgress=function(a,b){var d=this.duration();return arguments.length?this.totalTime(d*a,b):d?this._time/d:this.ratio};C.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime};C.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale};C.timeScale=
function(a){if(!arguments.length)return this._timeScale;if(a=a||1E-10,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,b=b||0===b?b:this._timeline.totalTime();this._startTime=b-(b-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)};C.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed};
C.paused=function(a){if(!arguments.length)return this._paused;var b,d,f=this._timeline;return a!=this._paused&&f&&(Ia||a||Y.wake(),b=f.rawTime(),d=b-this._pauseTime,!a&&f.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&(b=f.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};sa=N("core.SimpleTimeline",
function(a){aa.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});C=sa.prototype=new aa;C.constructor=sa;C.kill()._gc=!1;C._first=C._last=C._recent=null;C._sortChildren=!1;C.add=C.insert=function(a,b,d,f){if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),b=this._last,this._sortChildren)for(d=a._startTime;b&&
b._startTime>d;)b=b._prev;return b?(a._next=b._next,b._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=b,this._recent=a,this._timeline&&this._uncache(!0),this};C._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&
this._uncache(!0)),this};C.render=function(a,b,d){var f=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;f;){var g=f._next;(f._active||a>=f._startTime&&!f._paused)&&(f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(a-f._startTime)*f._timeScale,b,d):f.render((a-f._startTime)*f._timeScale,b,d));f=g}};C.rawTime=function(){return Ia||Y.wake(),this._totalTime};var Z=N("TweenLite",function(a,d,f){if(aa.call(this,d,f),this.render=Z.prototype.render,null==a)throw"Cannot tween a null target.";
this.target=a="string"!=typeof a?a:Z.selector(a)||a;var g;var h=a.jquery||a.length&&a!==b&&a[0]&&(a[0]===b||a[0].nodeType&&a[0].style&&!a.nodeType);f=this.vars.overwrite;if(this._overwrite=f=null==f?Xa[Z.defaultOverwrite]:"number"==typeof f?f>>0:Xa[f],(h||a instanceof Array||a.push&&J(a))&&"number"!=typeof a[0])for(this._targets=g=l(a),this._propLookup=[],this._siblings=[],a=0;a<g.length;a++)(h=g[a])?"string"!=typeof h?h.length&&h!==b&&h[0]&&(h[0]===b||h[0].nodeType&&h[0].style&&!h.nodeType)?(g.splice(a--,
1),this._targets=g=g.concat(l(h))):(this._siblings[a]=Za(h,this,!1),1===f&&1<this._siblings[a].length&&Da(h,this,null,1,this._siblings[a])):(h=g[a--]=Z.selector(h),"string"==typeof h&&g.splice(a+1,1)):g.splice(a--,1);else this._propLookup={},this._siblings=Za(a,this,!1),1===f&&1<this._siblings.length&&Da(a,this,null,1,this._siblings);(this.vars.immediateRender||0===d&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1E-10,this.render(Math.min(0,-this._delay)))},!0),ra=function(a){return a&&
a.length&&a!==b&&a[0]&&(a[0]===b||a[0].nodeType&&a[0].style&&!a.nodeType)};C=Z.prototype=new aa;C.constructor=Z;C.kill()._gc=!1;C.ratio=0;C._firstPT=C._targets=C._overwrittenProps=C._startAt=null;C._notifyPluginsOfEnabled=C._lazy=!1;Z.version="1.19.1";Z.defaultEase=C._ease=new E(null,null,1,1);Z.defaultOverwrite="auto";Z.ticker=Y;Z.autoSleep=120;Z.lagSmoothing=function(a,b){Y.lagSmoothing(a,b)};Z.selector=b.$||b.jQuery||function(a){var d=b.$||b.jQuery;return d?(Z.selector=d,d(a)):"undefined"==typeof n?
a:n.querySelectorAll?n.querySelectorAll(a):n.getElementById("#"===a.charAt(0)?a.substr(1):a)};var f=[],Wa={},Oa=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,da=function(a){for(var b,d=this._firstPT;d;)b=d.blob?1===a?this.end:a?this.join(""):this.start:d.c*a+d.s,d.m?b=d.m(b,this._target||d.t):1E-6>b&&-1E-6<b&&!d.blob&&(b=0),d.f?d.fp?d.t[d.p](d.fp,b):d.t[d.p](b):d.t[d.p]=b,d=d._next},Ya=function(a,b,d,f){var g,h=[],l=0,n="",p=0;h.start=a;h.end=b;a=h[0]=a+"";b=h[1]=b+"";d&&(d(h),a=h[0],b=h[1]);h.length=
0;a=a.match(Oa)||[];d=b.match(Oa)||[];f&&(f._next=null,f.blob=1,h._firstPT=h._applyPT=f);var t=d.length;for(f=0;t>f;f++){var u=d[f];var x=b.substr(l,b.indexOf(u,l)-l);n+=x||!f?x:",";l+=x.length;p?p=(p+1)%5:"rgba("===x.substr(-5)&&(p=1);u===a[f]||a.length<=f?n+=u:(n&&(h.push(n),n=""),g=parseFloat(a[f]),h.push(g),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:g,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-g)||0,f:0,m:p&&4>p?Math.round:0});l+=u.length}return n+=
b.substr(l),n&&h.push(n),h.setRatio=da,h},Fa=function(a,b,d,f,g,h,n,l,t){"function"==typeof f&&(f=f(t||0,a));var p;t=typeof a[b];var u="function"!==t?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3);d="get"!==d?d:u?n?a[u](n):a[u]():a[b];u="string"==typeof f&&"="===f.charAt(1);a={t:a,p:b,s:d,f:"function"===t,pg:0,n:g||b,m:h?"function"==typeof h?h:Math.round:0,pr:0,c:u?parseInt(f.charAt(0)+"1",10)*parseFloat(f.substr(2)):parseFloat(f)-d||0};return("number"!=typeof d||
"number"!=typeof f&&!u)&&(n||isNaN(d)||!u&&isNaN(f)||"boolean"==typeof d||"boolean"==typeof f?(a.fp=n,p=Ya(d,u?a.s+a.c:f,l||Z.defaultStringFilter,a),a={t:p,p:"setRatio",s:0,c:1,f:2,pg:0,n:g||b,pr:0,m:0}):(a.s=parseFloat(d),u||(a.c=parseFloat(f)-a.s||0))),a.c?((a._next=this._firstPT)&&(a._next._prev=a),this._firstPT=a,a):void 0};t=Z._internals={isArray:J,isSelector:ra,lazyTweens:f,blobDif:Ya};var ta=Z._plugins={},na=t.tweenLookup={},Pa=0,Qa=t.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,
onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Xa={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,
"false":0},La=aa._rootFramesTimeline=new sa,G=aa._rootTimeline=new sa,Ra=30,eb=t.lazyRender=function(){var a,b=f.length;for(Wa={};-1<--b;)(a=f[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);f.length=0};G._startTime=Y.time;La._startTime=Y.frame;G._active=La._active=!0;setTimeout(eb,1);aa._updateRoot=Z.render=function(){var a,b;if(f.length&&eb(),G.render((Y.time-G._startTime)*G._timeScale,!1,!1),La.render((Y.frame-La._startTime)*La._timeScale,!1,!1),f.length&&eb(),Y.frame>=Ra){Ra=
Y.frame+(parseInt(Z.autoSleep,10)||120);for(b in na){var d=na[b].tweens;for(a=d.length;-1<--a;)d[a]._gc&&d.splice(a,1);0===d.length&&delete na[b]}if(b=G._first,(!b||b._paused)&&Z.autoSleep&&!La._first&&1===Y._listeners.tick.length){for(;b&&b._paused;)b=b._next;b||Y.sleep()}}};Y.addEventListener("tick",aa._updateRoot);var Za=function(a,b,d){var f,g,h=a._gsTweenID;if(na[h||(a._gsTweenID=h="t"+Pa++)]||(na[h]={target:a,tweens:[]}),b&&(f=na[h].tweens,f[g=f.length]=b,d))for(;-1<--g;)f[g]===b&&f.splice(g,
1);return na[h].tweens},ha=function(a,b,d,f){var g,h,n=a.vars.onOverwrite;return n&&(g=n(a,b,d,f)),n=Z.onOverwrite,n&&(h=n(a,b,d,f)),!1!==g&&!1!==h},Da=function(a,b,d,f,g){var h,n,l;if(1===f||4<=f){d=g.length;for(h=0;d>h;h++)if((l=g[h])!==b)l._gc||l._kill(null,a,b)&&(n=!0);else if(5===f)break;return n}var p,t=b._startTime+1E-10,u=[],x=0,z=0===b._duration;for(h=g.length;-1<--h;)(l=g[h])===b||l._gc||l._paused||(l._timeline!==b._timeline?(p=p||gb(b,0,z),0===gb(l,p,z)&&(u[x++]=l)):l._startTime<=t&&l._startTime+
l.totalDuration()/l._timeScale>t&&((z||!l._initted)&&2E-10>=t-l._startTime||(u[x++]=l)));for(h=x;-1<--h;)(l=u[h],2===f&&l._kill(d,a,b)&&(n=!0),2!==f||!l._firstPT&&l._initted)&&(2===f||ha(l,b))&&l._enabled(!1,!1)&&(n=!0);return n},gb=function(a,b,d){for(var f=a._timeline,g=f._timeScale,h=a._startTime;f._timeline;){if(h+=f._startTime,g*=f._timeScale,f._paused)return-100;f=f._timeline}return h/=g,h>b?h-b:d&&h===b||!a._initted&&2E-10>h-b?1E-10:(h+=a.totalDuration()/a._timeScale/g)>b+1E-10?0:h-b-1E-10};
C._init=function(){var a,b,d=this.vars,f=this._overwrittenProps,g=this._duration;var h=!!d.immediateRender;var l=d.ease;if(d.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());var n={};for(a in d.startAt)n[a]=d.startAt[a];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==d.lazy,n.startAt=n.delay=null,this._startAt=Z.to(this.target,0,n),h)if(0<this._time)this._startAt=null;else if(0!==g)return}else if(d.runBackwards&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),
this._startAt=null;else{0!==this._time&&(h=!1);n={};for(a in d)Qa[a]&&"autoCSS"!==a||(n[a]=d[a]);if(n.overwrite=0,n.data="isFromStart",n.lazy=h&&!1!==d.lazy,n.immediateRender=h,this._startAt=Z.to(this.target,0,n),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof E?l:"function"==typeof l?new E(l,d.easeParams):K[l]||Z.defaultEase:Z.defaultEase,d.easeParams instanceof Array&&l.config&&(this._ease=
l.config.apply(l,d.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(h=this._targets.length,a=0;h>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],f?f[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,f,0);if(b&&Z._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),d.runBackwards)for(n=this._firstPT;n;)n.s+=
n.c,n.c=-n.c,n=n._next;this._onUpdate=d.onUpdate;this._initted=!0};C._initProps=function(a,d,f,g,h){var n,l,p,t;if(null==a)return!1;Wa[a._gsTweenID]&&eb();if(!this.vars.css&&a.style&&a!==b&&a.nodeType&&ta.css&&!1!==this.vars.autoCSS){var u=this.vars;var x={};for(t in u)Qa[t]||t in a&&"transform"!==t&&"x"!==t&&"y"!==t&&"width"!==t&&"height"!==t&&"className"!==t&&"border"!==t||!(!ta[t]||ta[t]&&ta[t]._autoCSS)||(x[t]=u[t],delete u[t]);u.css=x}for(n in this.vars)if(u=this.vars[n],Qa[n])u&&(u instanceof
Array||u.push&&J(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[n]=this._swapSelfInParams(u,this));else if(ta[n]&&(p=new ta[n])._onInitTween(a,this.vars[n],this,h)){this._firstPT=t={_next:this._firstPT,t:p,p:"setRatio",s:0,c:1,f:1,n:n,pg:1,pr:p._priority,m:0};for(u=p._overwriteProps.length;-1<--u;)d[p._overwriteProps[u]]=this._firstPT;(p._priority||p._onInitAllProps)&&(l=!0);(p._onDisable||p._onEnable)&&(this._notifyPluginsOfEnabled=!0);t._next&&(t._next._prev=t)}else d[n]=Fa.call(this,a,n,"get",
u,n,0,null,this.vars.stringFilter,h);return g&&this._kill(g,a)?this._initProps(a,d,f,g,h):1<this._overwrite&&this._firstPT&&1<f.length&&Da(a,this,d,this._overwrite,f)?(this._kill(d,a),this._initProps(a,d,f,g,h)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(Wa[a._gsTweenID]=!0),l)};C.render=function(a,b,d){var g,h,n,l=this._time,p=this._duration;var t=this._rawPrevTime;if(a>=p-1E-7&&0<=a)this._totalTime=this._time=p,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):
1,this._reversed||(g=!0,h="onComplete",d=d||this._timeline.autoRemoveChildren),0===p&&(this._initted||!this.vars.lazy||d)&&(this._startTime===this._timeline._duration&&(a=0),(0>t||0>=a&&-1E-7<=a||1E-10===t&&"isPause"!==this.data)&&t!==a&&(d=!0,1E-10<t&&(h="onReverseComplete")),this._rawPrevTime=n=!b||a||t===a?a:1E-10);else if(1E-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===p&&0<t)&&(h="onReverseComplete",g=this._reversed),0>a&&(this._active=
!1,0===p&&(this._initted||!this.vars.lazy||d)&&(0<=t&&(1E-10!==t||"isPause"!==this.data)&&(d=!0),this._rawPrevTime=n=!b||a||t===a?a:1E-10)),this._initted||(d=!0);else if(this._totalTime=this._time=a,this._easeType){var u=a/p,x=this._easeType,z=this._easePower;(1===x||3===x&&.5<=u)&&(u=1-u);3===x&&(u*=2);1===z?u*=u:2===z?u*=u*u:3===z?u*=u*u*u:4===z&&(u*=u*u*u*u);1===x?this.ratio=1-u:2===x?this.ratio=u:.5>a/p?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(a/p);if(this._time!==l||
d){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!d&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=t,f.push(this),void(this._lazy=[a,b]);this._time&&!g?this.ratio=this._ease.getRatio(this._time/p):g&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==l&&0<=a&&(this._active=!0);0!==l||
(this._startAt&&(0<=a?this._startAt.render(a,b,d):h||(h="_dummyGS")),!this.vars.onStart||0===this._time&&0!==p||!b&&this._callback("onStart"));for(t=this._firstPT;t;)t.f?t.t[t.p](t.c*this.ratio+t.s):t.t[t.p]=t.c*this.ratio+t.s,t=t._next;this._onUpdate&&(0>a&&this._startAt&&-1E-4!==a&&this._startAt.render(a,b,d),b||(this._time!==l||g||d)&&this._callback("onUpdate"));h&&(!this._gc||d)&&(0>a&&this._startAt&&!this._onUpdate&&-1E-4!==a&&this._startAt.render(a,b,d),g&&(this._timeline.autoRemoveChildren&&
this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h),0===p&&1E-10===this._rawPrevTime&&1E-10!==n&&(this._rawPrevTime=0))}};C._kill=function(a,b,d){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:Z.selector(b)||b;var f,g,h,n,l,p,t=d&&this._time&&d._startTime===this._startTime&&this._timeline===d._timeline;if((J(b)||ra(b))&&"number"!=typeof b[0])for(f=b.length;-1<--f;)this._kill(a,
b[f],d)&&(n=!0);else{if(this._targets)for(f=this._targets.length;-1<--f;){if(b===this._targets[f]){var u=this._propLookup[f]||{};this._overwrittenProps=this._overwrittenProps||[];var x=this._overwrittenProps[f]=a?this._overwrittenProps[f]||{}:"all";break}}else{if(b!==this.target)return!1;u=this._propLookup;x=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(u){if(f=a||u,l=a!==x&&"all"!==x&&a!==u&&("object"!=typeof a||!a._tempKill),d&&(Z.onOverwrite||this.vars.onOverwrite)){for(g in f)u[g]&&
(p||(p=[]),p.push(g));if((p||!a)&&!ha(this,d,b,p))return!1}for(g in f)(h=u[g])&&(t&&(h.f?h.t[h.p](h.s):h.t[h.p]=h.s,n=!0),h.pg&&h.t._kill(f)&&(n=!0),h.pg&&0!==h.t._overwriteProps.length||(h._prev?h._prev._next=h._next:h===this._firstPT&&(this._firstPT=h._next),h._next&&(h._next._prev=h._prev),h._next=h._prev=null),delete u[g]),l&&(x[g]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return n};C.invalidate=function(){return this._notifyPluginsOfEnabled&&Z._onPluginEvent("_onDisable",this),
this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],aa.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1E-10,this.render(Math.min(0,-this._delay))),this};C._enabled=function(a,b){if(Ia||Y.wake(),a&&this._gc){var d,f=this._targets;if(f)for(d=f.length;-1<--d;)this._siblings[d]=Za(f[d],this,!0);else this._siblings=Za(this.target,this,!0)}return aa.prototype._enabled.call(this,
a,b),this._notifyPluginsOfEnabled&&this._firstPT?Z._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};Z.to=function(a,b,d){return new Z(a,b,d)};Z.from=function(a,b,d){return d.runBackwards=!0,d.immediateRender=0!=d.immediateRender,new Z(a,b,d)};Z.fromTo=function(a,b,d,f){return f.startAt=d,f.immediateRender=0!=f.immediateRender&&0!=d.immediateRender,new Z(a,b,f)};Z.delayedCall=function(a,b,d,f,g){return new Z(b,0,{delay:a,onComplete:b,onCompleteParams:d,callbackScope:f,onReverseComplete:b,onReverseCompleteParams:d,
immediateRender:!1,lazy:!1,useFrames:g,overwrite:0})};Z.set=function(a,b){return new Z(a,0,b)};Z.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:Z.selector(a)||a;var d,f;if((J(a)||ra(a))&&"number"!=typeof a[0]){var g=a.length;for(d=[];-1<--g;)d=d.concat(Z.getTweensOf(a[g],b));for(g=d.length;-1<--g;){var h=d[g];for(f=g;-1<--f;)h===d[f]&&d.splice(g,1)}}else for(d=Za(a).concat(),g=d.length;-1<--g;)(d[g]._gc||b&&!d[g].isActive())&&d.splice(g,1);return d};Z.killTweensOf=Z.killDelayedCallsTo=
function(a,b,d){"object"==typeof b&&(d=b,b=!1);b=Z.getTweensOf(a,b);for(var f=b.length;-1<--f;)b[f]._kill(d,a)};var Ca=N("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=b||0;this._super=Ca.prototype},!0);if(C=Ca.prototype,Ca.version="1.19.0",Ca.API=2,C._firstPT=null,C._addTween=Fa,C.setRatio=da,C._kill=function(a){var b,d=this._overwriteProps,f=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=
d.length;-1<--b;)null!=a[d[b]]&&d.splice(b,1);for(;f;)null!=a[f.n]&&(f._next&&(f._next._prev=f._prev),f._prev?(f._prev._next=f._next,f._prev=null):this._firstPT===f&&(this._firstPT=f._next)),f=f._next;return!1},C._mod=C._roundProps=function(a){for(var b,d=this._firstPT;d;)(b=a[this._propName]||null!=d.n&&a[d.n.split(this._propName+"_").join("")])&&"function"==typeof b&&(2===d.f?d.t._applyPT.m=b:d.m=b),d=d._next},Z._onPluginEvent=function(a,b){var d,f,g,h,n=b._firstPT;if("_onInitAllProps"===a){for(;n;){var l=
n._next;for(f=g;f&&f.pr>n.pr;)f=f._next;(n._prev=f?f._prev:h)?n._prev._next=n:g=n;(n._next=f)?f._prev=n:h=n;n=l}n=b._firstPT=g}for(;n;)n.pg&&"function"==typeof n.t[a]&&n.t[a]()&&(d=!0),n=n._next;return d},Ca.activate=function(a){for(var b=a.length;-1<--b;)a[b].API===Ca.API&&(ta[(new a[b])._propName]=a[b]);return!0},V.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,d=a.propName,f=a.priority||0,g=a.overwriteProps,h={init:"_onInitTween",set:"setRatio",kill:"_kill",
round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},n=N("plugins."+d.charAt(0).toUpperCase()+d.substr(1)+"Plugin",function(){Ca.call(this,d,f);this._overwriteProps=g||[]},!0===a.global),l=n.prototype=new Ca(d);l.constructor=n;n.API=a.API;for(b in h)"function"==typeof a[b]&&(l[h[b]]=a[b]);return n.version=a.version,Ca.activate([n]),n},sa=b._gsQueue){for(t=0;t<sa.length;t++)sa[t]();for(C in y)y[C].func||b.console.log("GSAP encountered missing dependency: "+C)}var Ia=!1}})("undefined"!=typeof module&&
module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");/*
 VERSION: 1.8.1
 DATE: 2017-01-02
 UPDATES AND DOCS AT: http://greensock.com

 @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 This work is subject to the terms at http://greensock.com/standard-license or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com
*/
_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){var b=document.documentElement,g=_gsScope,a=function(a,h){var n="x"===h?"Width":"Height",l="scroll"+n,t="client"+n,u=document.body;return a===g||a===b||a===u?Math.max(b[l],u[l])-(g["inner"+n]||b[t]||u[t]):a[l]-a["offset"+n]},n=function(a,h){var n="scroll"+("x"===h?"Left":"Top");return a===g&&(null!=a.pageXOffset?n="page"+h.toUpperCase()+"Offset":a=null!=b[n]?b:document.body),function(){return a[n]}},h=function(a,h){var l=a,t=("string"==typeof l&&
(l=TweenLite.selector(l)),l.length&&l!==g&&l[0]&&l[0].style&&!l.nodeType&&(l=l[0]),l===g||l.nodeType&&l.style?l:null).getBoundingClientRect(),l=!h||h===g||h===document.body,u=(l?b:h).getBoundingClientRect(),t={x:t.left-u.left,y:t.top-u.top};return!l&&h&&(t.x+=n(h,"x")(),t.y+=n(h,"y")()),t},t=function(b,g,n){var l=typeof b;return"number"===l||"string"===l&&"="===b.charAt(1)?b:"max"===b?a(g,n):Math.min(a(g,n),h(b,g)[n])},z=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.8.1",
init:function(a,b,h){return this._wdw=a===g,this._target=a,this._tween=h,"object"!=typeof b?(b={y:b},"string"==typeof b.y&&"max"!==b.y&&"="!==b.y.charAt(1)&&(b.x=b.y)):b.nodeType&&(b={y:b,x:b}),this.vars=b,this._autoKill=!1!==b.autoKill,this.getX=n(a,"x"),this.getY=n(a,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=b.x?(this._addTween(this,"x",this.x,t(b.x,a,"x")-(b.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=b.y?(this._addTween(this,
"y",this.y,t(b.y,a,"y")-(b.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(b){this._super.setRatio.call(this,b);b=this._wdw||!this.skipX?this.getX():this.xPrev;var h=this._wdw||!this.skipY?this.getY():this.yPrev,n=h-this.yPrev,l=b-this.xPrev,t=z.autoKillThreshold;0>this.x&&(this.x=0);0>this.y&&(this.y=0);this._autoKill&&(!this.skipX&&(l>t||-t>l)&&b<a(this._target,"x")&&(this.skipX=!0),!this.skipY&&(n>t||-t>n)&&h<a(this._target,"y")&&(this.skipY=
!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[])));this._wdw?g.scrollTo(this.skipX?b:this.x,this.skipY?h:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x));this.xPrev=this.x;this.yPrev=this.y}}),x=z.prototype;z.max=a;z.getOffset=h;z.autoKillThreshold=7;x._kill=function(a){return a.scrollTo_x&&(this.skipX=!0),a.scrollTo_y&&(this.skipY=
!0),this._super._kill.call(this,a)}});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();(function(b){var g=function(){return(_gsScope.GreenSockGlobals||_gsScope)[b]};"function"==typeof define&&define.amd?define(["TweenLite"],g):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.min.js"),module.exports=g())})("ScrollToPlugin");/*


 Waypoints - 4.0.1
Copyright � 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){function b(n){if(!n)throw Error("No options passed to Waypoint constructor");if(!n.element)throw Error("No element option passed to Waypoint constructor");if(!n.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+g;this.options=b.Adapter.extend({},b.defaults,n);this.element=this.options.element;this.adapter=new b.Adapter(this.element);this.callback=n.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=b.Context.findOrCreateByElement(this.options.context);b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);a[this.key]=this;g+=1}var g=0,a={};b.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)};b.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)};b.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete a[this.key]};b.prototype.disable=function(){return this.enabled=!1,this};b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};b.prototype.next=function(){return this.group.next(this)};b.prototype.previous=function(){return this.group.previous(this)};b.invokeAll=function(b){var g=[];for(n in a)g.push(a[n]);var n=0;for(var z=g.length;z>n;n++)g[n][b]()};b.destroyAll=function(){b.invokeAll("destroy")};b.disableAll=
function(){b.invokeAll("disable")};b.enableAll=function(){b.Context.refreshAll();for(var g in a)a[g].enabled=!0;return this};b.refreshAll=function(){b.Context.refreshAll()};b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};b.viewportWidth=function(){return document.documentElement.clientWidth};b.adapters=[];b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-
this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=b}();
(function(){function b(a){window.setTimeout(a,1E3/60)}function g(b){this.element=b;this.Adapter=h.Adapter;this.adapter=new this.Adapter(b);this.key="waypoint-context-"+a;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};b.waypointContextKey=this.key;n[b.waypointContextKey]=this;a+=1;h.windowContext||(h.windowContext=!0,h.windowContext=new g(window));this.createThrottledScrollHandler();this.createThrottledResizeHandler()}
var a=0,n={},h=window.Waypoint,t=window.onload;g.prototype.add=function(a){this.waypoints[a.options.horizontal?"horizontal":"vertical"][a.key]=a;this.refresh()};g.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical),g=this.element==this.element.window;a&&b&&!g&&(this.adapter.off(".waypoints"),delete n[this.key])};g.prototype.createThrottledResizeHandler=function(){function a(){b.handleResize();b.didResize=
!1}var b=this;this.adapter.on("resize.waypoints",function(){b.didResize||(b.didResize=!0,h.requestAnimationFrame(a))})};g.prototype.createThrottledScrollHandler=function(){function a(){b.handleScroll();b.didScroll=!1}var b=this;this.adapter.on("scroll.waypoints",function(){b.didScroll&&!h.isTouch||(b.didScroll=!0,h.requestAnimationFrame(a))})};g.prototype.handleResize=function(){h.Context.refreshAll()};g.prototype.handleScroll=function(){var a={},b={horizontal:{newScroll:this.adapter.scrollLeft(),
oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},g;for(g in b){var h=b[g],n=h.newScroll>h.oldScroll?h.forward:h.backward,t;for(t in this.waypoints[g]){var T=this.waypoints[g][t];if(null!==T.triggerPoint){var V=h.oldScroll<T.triggerPoint,N=h.newScroll>=T.triggerPoint,d=!V&&!N;(V&&N||d)&&(T.queueTrigger(n),a[T.group.id]=T.group)}}}for(var E in a)a[E].flushTriggers();this.oldScroll={x:b.horizontal.newScroll,
y:b.vertical.newScroll}};g.prototype.innerHeight=function(){return this.element==this.element.window?h.viewportHeight():this.adapter.innerHeight()};g.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};g.prototype.innerWidth=function(){return this.element==this.element.window?h.viewportWidth():this.adapter.innerWidth()};g.prototype.destroy=function(){var a=[];for(g in this.waypoints)for(var b in this.waypoints[g])a.push(this.waypoints[g][b]);var g=0;for(b=a.length;b>
g;g++)a[g].destroy()};g.prototype.refresh=function(){var a,b=(a=this.element==this.element.window)?void 0:this.adapter.offset(),g={};this.handleScroll();a={horizontal:{contextOffset:a?0:b.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:b.top,contextScroll:a?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",
offsetProp:"top"}};for(var n in a){var b=a[n],t;for(t in this.waypoints[n]){var y=this.waypoints[n][t];var T=y.options.offset;var V=y.triggerPoint;var N=0;var d=null==V;y.element!==y.element.window&&(N=y.adapter.offset()[b.offsetProp]);"function"==typeof T?T=T.apply(y):"string"==typeof T&&(T=parseFloat(T),-1<y.options.offset.indexOf("%")&&(T=Math.ceil(b.contextDimension*T/100)));y.triggerPoint=Math.floor(N+(b.contextScroll-b.contextOffset)-T);V=V<b.oldScroll;N=y.triggerPoint>=b.oldScroll;T=V&&N;V=
!V&&!N;!d&&T?(y.queueTrigger(b.backward),g[y.group.id]=y.group):!d&&V?(y.queueTrigger(b.forward),g[y.group.id]=y.group):d&&b.oldScroll>=y.triggerPoint&&(y.queueTrigger(b.forward),g[y.group.id]=y.group)}}return h.requestAnimationFrame(function(){for(var a in g)g[a].flushTriggers()}),this};g.findOrCreateByElement=function(a){return g.findByElement(a)||new g(a)};g.refreshAll=function(){for(var a in n)n[a].refresh()};g.findByElement=function(a){return n[a.waypointContextKey]};window.onload=function(){t&&
t();g.refreshAll()};h.requestAnimationFrame=function(a){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b).call(window,a)};h.Context=g})();
(function(){function b(a,b){return a.triggerPoint-b.triggerPoint}function g(a,b){return b.triggerPoint-a.triggerPoint}function a(a){this.name=a.name;this.axis=a.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},h=window.Waypoint;a.prototype.add=function(a){this.waypoints.push(a)};a.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};a.prototype.flushTriggers=function(){for(var a in this.triggerQueues){var h=
this.triggerQueues[a];h.sort("up"===a||"left"===a?g:b);for(var n=0,l=h.length;l>n;n+=1){var u=h[n];(u.options.continuous||n===h.length-1)&&u.trigger([a])}}this.clearTriggerQueues()};a.prototype.next=function(a){this.waypoints.sort(b);a=h.Adapter.inArray(a,this.waypoints);return a===this.waypoints.length-1?null:this.waypoints[a+1]};a.prototype.previous=function(a){this.waypoints.sort(b);return(a=h.Adapter.inArray(a,this.waypoints))?this.waypoints[a-1]:null};a.prototype.queueTrigger=function(a,b){this.triggerQueues[b].push(a)};
a.prototype.remove=function(a){a=h.Adapter.inArray(a,this.waypoints);-1<a&&this.waypoints.splice(a,1)};a.prototype.first=function(){return this.waypoints[0]};a.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};a.findOrCreate=function(b){return n[b.axis][b.name]||new a(b)};h.Group=a})();
(function(){function b(a){this.$element=g(a)}var g=window.jQuery,a=window.Waypoint;g.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(a,g){b.prototype[g]=function(){var a=Array.prototype.slice.call(arguments);return this.$element[g].apply(this.$element,a)}});g.each(["extend","inArray","isEmptyObject"],function(a,h){b[h]=g[h]});a.adapters.push({name:"jquery",Adapter:b});a.Adapter=b})();
(function(){function b(a){return function(b,h){var n=[],z=b;return a.isFunction(b)&&(z=a.extend({},h),z.handler=b),this.each(function(){var b=a.extend({},z,{element:this});"string"==typeof b.context&&(b.context=a(this).closest(b.context)[0]);n.push(new g(b))}),n}}var g=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=b(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=b(window.Zepto))})();(function(){function b(){}function g(b){this.options=a.Adapter.extend({},g.defaults,b);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.element=this.options.element;this.createWaypoints()}var a=window.Waypoint;g.prototype.createWaypoints=function(){for(var a={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],
horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},b=0,g=a[this.axis].length;b<g;b++)this.createWaypoint(a[this.axis][b])};g.prototype.createWaypoint=function(b){var g=this;this.waypoints.push(new a({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(a){return function(b){g.options[a[b]].call(g,
b)}}(b),offset:b.offset,horizontal:this.options.horizontal}))};g.prototype.destroy=function(){for(var a=0,b=this.waypoints.length;a<b;a++)this.waypoints[a].destroy();this.waypoints=[]};g.prototype.disable=function(){for(var a=0,b=this.waypoints.length;a<b;a++)this.waypoints[a].disable()};g.prototype.enable=function(){for(var a=0,b=this.waypoints.length;a<b;a++)this.waypoints[a].enable()};g.defaults={context:window,enabled:!0,enter:b,entered:b,exit:b,exited:b};a.Inview=g})();/*
 @license PreloadJS
 Visit http://createjs.com/ for documentation, updates and examples.

 Copyright (c) 2011-2015 gskinner.com, inc.

 Distributed under the terms of the MIT license.
 http://www.opensource.org/licenses/mit-license.html

 This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};(function(){var b=createjs.PreloadJS=createjs.PreloadJS||{};b.version="0.6.2";b.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(b,g){function a(){this.constructor=b}return a.prototype=g.prototype,b.prototype=new a};this.createjs=this.createjs||{};
createjs.promote=function(b,g){var a=b.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(n){a[(g+="_")+"constructor"]=n.constructor;for(var h in n)a.hasOwnProperty(h)&&"function"==typeof n[h]&&(a[g+h]=n[h])}return b};this.createjs=this.createjs||{};(function(){createjs.proxy=function(b,g){var a=Array.prototype.slice.call(arguments,2);return function(){return b.apply(g,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};
createjs.indexOf=function(b,g){for(var a=0,n=b.length;n>a;a++)if(g===b[a])return a;return-1};this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!g;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var g=b.prototype;g.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};g.stopPropagation=function(){this.propagationStopped=!0};g.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};g.remove=function(){this.removed=!0};g.clone=function(){return new b(this.type,this.bubbles,this.cancelable)};g.set=function(a){for(var b in a)this[b]=a[b];return this};g.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=b})();this.createjs=this.createjs||{};
(function(){function b(b,a,n){this.Event_constructor("error");this.title=b;this.message=a;this.data=n}createjs.extend(b,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(b,"Event")})();this.createjs=this.createjs||{};
(function(){function b(){this._captureListeners=this._listeners=null}var g=b.prototype;b.initialize=function(a){a.addEventListener=g.addEventListener;a.on=g.on;a.removeEventListener=a.off=g.removeEventListener;a.removeAllEventListeners=g.removeAllEventListeners;a.hasEventListener=g.hasEventListener;a.dispatchEvent=g.dispatchEvent;a._dispatchEvent=g._dispatchEvent;a.willTrigger=g.willTrigger};g.addEventListener=function(a,b,g){var h=g?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var n=h[a];return n&&this.removeEventListener(a,b,g),n=h[a],n?n.push(b):h[a]=[b],b};g.on=function(a,b,g,t,z,x){return b.handleEvent&&(g=g||b,b=b.handleEvent),g=g||this,this.addEventListener(a,function(a){b.call(g,a,z);t&&a.remove()},x)};g.removeEventListener=function(a,b,g){if(g=g?this._captureListeners:this._listeners){var h=g[a];if(h)for(var n=0,x=h.length;x>n;n++)if(h[n]==b){1==x?delete g[a]:h.splice(n,1);break}}};g.off=g.removeEventListener;g.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};g.dispatchEvent=function(a,b,g){if("string"==typeof a){var h=this._listeners;if(!(b||h&&h[a]))return!0;a=new createjs.Event(a,b,g)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(z){}if(a.bubbles&&this.parent){g=this;for(b=[g];g.parent;)b.push(g=g.parent);h=b.length;for(g=h-1;0<=g&&!a.propagationStopped;g--)b[g]._dispatchEvent(a,1+(0==g));
for(g=1;h>g&&!a.propagationStopped;g++)b[g]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};g.hasEventListener=function(a){var b=this._listeners,g=this._captureListeners;return!!(b&&b[a]||g&&g[a])};g.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};g.toString=function(){return"[EventDispatcher]"};g._dispatchEvent=function(a,b){var g,n=1==b?this._captureListeners:this._listeners;if(a&&n&&(n=n[a.type])&&(g=n.length)){try{a.currentTarget=
this}catch(l){}try{a.eventPhase=b}catch(l){}a.removed=!1;for(var n=n.slice(),z=0;g>z&&!a.immediatePropagationStopped;z++){var x=n[z];x.handleEvent?x.handleEvent(a):x(a);a.removed&&(this.off(a.type,x,1==b),a.removed=!1)}}};createjs.EventDispatcher=b})();this.createjs=this.createjs||{};
(function(){function b(b,a){this.Event_constructor("progress");this.loaded=b;this.total=null==a?1:a;this.progress=0==a?0:this.loaded/this.total}createjs.extend(b,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(b,"Event")})(window);
(function(){function b(g,n){function l(a){var b,d;if(l[a]!==va)return l[a];if("bug-string-char-index"==a)var f=!1;else if("json"==a)f=l("json-stringify")&&l("json-parse");else{if("json-stringify"==a){f=n.stringify;var g="function"==typeof f&&ba;if(g){(b=function(){return 1}).toJSON=b;try{g="0"===f(0)&&"0"===f(new t)&&'""'==f(new u)&&f(ma)===va&&f(va)===va&&f()===va&&"1"===f(b)&&"[1]"==f([b])&&"[null]"==f([va])&&"null"==f(null)&&"[null,null,null]"==f([va,ma,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
f({a:[b,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,b)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new x(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new x(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new x(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new x(-1))}catch(Da){g=!1}}f=g}if("json-parse"==a){f=n.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)&&(b=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),d=5==b.a.length&&1===b.a[0])){try{d=!f('"\t"')}catch(Da){}if(d)try{d=
1!==f("01")}catch(Da){}if(d)try{d=1!==f("1.")}catch(Da){}}}catch(Da){d=!1}f=d}}return l[a]=!!f}g||(g=h.Object());n||(n=h.Object());var t=g.Number||h.Number,u=g.String||h.String,d=g.Object||h.Object,x=g.Date||h.Date,z=g.SyntaxError||h.SyntaxError,y=g.TypeError||h.TypeError,C=g.Math||h.Math,J=g.JSON||h.JSON;"object"==typeof J&&J&&(n.stringify=J.stringify,n.parse=J.parse);var Na,pa,va,d=d.prototype,ma=d.toString,ba=new x(-0xc782b5b800cec);try{ba=-109252==ba.getUTCFullYear()&&0===ba.getUTCMonth()&&1===
ba.getUTCDate()&&10==ba.getUTCHours()&&37==ba.getUTCMinutes()&&6==ba.getUTCSeconds()&&708==ba.getUTCMilliseconds()}catch(G){}if(!l("json")){var aa=l("bug-string-char-index");if(!ba){var Y=C.floor;var M=[0,31,59,90,120,151,181,212,243,273,304,334];var Z=function(a,b){return M[b]+365*(a-1970)+Y((a-1969+(b=+(1<b)))/4)-Y((a-1901+b)/100)+Y((a-1601+b)/400)}}if((Na=d.hasOwnProperty)||(Na=function(a){var b,d={};return(d.__proto__=null,d.__proto__={toString:1},d).toString!=ma?Na=function(a){var b=this.__proto__;
a=a in(this.__proto__=null,this);return this.__proto__=b,a}:(b=d.constructor,Na=function(a){var d=(this.constructor||b).prototype;return a in this&&!(a in d&&this[a]===d[a])}),d=null,Na.call(this,a)}),pa=function(b,d){var f,g,h=0;(f=function(){this.valueOf=0}).prototype.valueOf=0;var n=new f;for(g in n)Na.call(n,g)&&h++;return f=n=null,h?pa=2==h?function(a,b){var d,f={},g="[object Function]"==ma.call(a);for(d in a)g&&"prototype"==d||Na.call(f,d)||!(f[d]=1)||!Na.call(a,d)||b(d)}:function(a,b){var d,
f,g="[object Function]"==ma.call(a);for(d in a)g&&"prototype"==d||!Na.call(a,d)||(f="constructor"===d)||b(d);(f||Na.call(a,d="constructor"))&&b(d)}:(n="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),pa=function(b,d){var f;var g="[object Function]"==ma.call(b);var h=!g&&"function"!=typeof b.constructor&&a[typeof b.hasOwnProperty]&&b.hasOwnProperty||Na;for(f in b)g&&"prototype"==f||!h.call(b,f)||d(f);for(g=n.length;f=n[--g];h.call(b,f)&&d(f));
}),pa(b,d)},!l("json-stringify")){var ra={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},f=function(a,b){return("000000"+(b||0)).slice(-a)},Wa=function(a){for(var b='"',d=0,g=a.length,h=!aa||10<g,n=h&&(aa?a.split(""):a);g>d;d++){var l=a.charCodeAt(d);switch(l){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=ra[l];break;default:b=32>l?b+("\\u00"+f(2,l.toString(16))):b+(h?n[d]:a.charAt(d))}}return b+'"'},Oa=function(a,b,d,g,h,n,l){var t,u,p,x;try{var z=b[a]}catch(qb){}if("object"==
typeof z&&z)if(t=ma.call(z),"[object Date]"!=t||Na.call(z,"toJSON"))"function"==typeof z.toJSON&&("[object Number]"!=t&&"[object String]"!=t&&"[object Array]"!=t||Na.call(z,"toJSON"))&&(z=z.toJSON(a));else if(z>-1/0&&1/0>z){if(Z){var E=Y(z/864E5);for(u=Y(E/365.2425)+1970-1;Z(u+1,0)<=E;u++);for(p=Y((E-Z(u,0))/30.42);Z(u,p+1)<=E;p++);E=1+E-Z(u,p);var G=(z%864E5+864E5)%864E5;var K=Y(G/36E5)%24;var C=Y(G/6E4)%60;var J=Y(G/1E3)%60;G%=1E3}else u=z.getUTCFullYear(),p=z.getUTCMonth(),E=z.getUTCDate(),K=z.getUTCHours(),
C=z.getUTCMinutes(),J=z.getUTCSeconds(),G=z.getUTCMilliseconds();z=(0>=u||1E4<=u?(0>u?"-":"+")+f(6,0>u?-u:u):f(4,u))+"-"+f(2,p+1)+"-"+f(2,E)+"T"+f(2,K)+":"+f(2,C)+":"+f(2,J)+"."+f(3,G)+"Z"}else z=null;if(d&&(z=d.call(b,a,z)),null===z)return"null";if(t=ma.call(z),"[object Boolean]"==t)return""+z;if("[object Number]"==t)return z>-1/0&&1/0>z?""+z:"null";if("[object String]"==t)return Wa(""+z);if("object"==typeof z){for(a=l.length;a--;)if(l[a]===z)throw y();if(l.push(z),x=[],b=n,n+=h,"[object Array]"==
t){u=0;for(a=z.length;a>u;u++)t=Oa(u,z,d,g,h,n,l),x.push(t===va?"null":t);t=x.length?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else pa(g||z,function(a){var b=Oa(a,z,d,g,h,n,l);b!==va&&x.push(Wa(a)+":"+(h?" ":"")+b)}),t=x.length?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}";return l.pop(),t}};n.stringify=function(b,d,f){var g;if(a[typeof d]&&d)if("[object Function]"==(g=ma.call(d)))var h=d;else if("[object Array]"==g){var n={};for(var l,t=0,u=d.length;u>t;l=d[t++],
g=ma.call(l),("[object String]"==g||"[object Number]"==g)&&(n[l]=1));}if(f)if("[object Number]"==(g=ma.call(f))){if(0<(f-=f%1)){var p="";for(10<f&&(f=10);p.length<f;p+=" ");}}else"[object String]"==g&&(p=10>=f.length?f:f.slice(0,10));return Oa("",(l={},l[""]=b,l),h,n,p,"",[])}}if(!l("json-parse")){var da,Ya,Fa=u.fromCharCode,ta={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},na=function(){throw da=Ya=null,z();},Pa=function(){for(var a,b,d,f,g,h=Ya,n=h.length;n>da;)switch(g=h.charCodeAt(da)){case 9:case 10:case 13:case 32:da++;
break;case 123:case 125:case 91:case 93:case 58:case 44:return a=aa?h.charAt(da):h[da],da++,a;case 34:a="@";for(da++;n>da;)if(g=h.charCodeAt(da),32>g)na();else if(92==g)switch(g=h.charCodeAt(++da)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=ta[g];da++;break;case 117:b=++da;for(d=da+4;d>da;da++)g=h.charCodeAt(da),48<=g&&57>=g||97<=g&&102>=g||65<=g&&70>=g||na();a+=Fa("0x"+h.slice(b,da));break;default:na()}else{if(34==g)break;g=h.charCodeAt(da);for(b=da;32<=g&&92!=g&&34!=
g;)g=h.charCodeAt(++da);a+=h.slice(b,da)}if(34==h.charCodeAt(da))return da++,a;na();default:if(b=da,45==g&&(f=!0,g=h.charCodeAt(++da)),48<=g&&57>=g){for(48==g&&(g=h.charCodeAt(da+1),48<=g&&57>=g)&&na();n>da&&(g=h.charCodeAt(da),48<=g&&57>=g);da++);if(46==h.charCodeAt(da)){for(d=++da;n>d&&(g=h.charCodeAt(d),48<=g&&57>=g);d++);d==da&&na();da=d}if(g=h.charCodeAt(da),101==g||69==g){g=h.charCodeAt(++da);43!=g&&45!=g||da++;for(d=da;n>d&&(g=h.charCodeAt(d),48<=g&&57>=g);d++);d==da&&na();da=d}return+h.slice(b,
da)}if(f&&na(),"true"==h.slice(da,da+4))return da+=4,!0;if("false"==h.slice(da,da+5))return da+=5,!1;if("null"==h.slice(da,da+4))return da+=4,null;na()}return"$"},Qa=function(a){var b,d;if("$"==a&&na(),"string"==typeof a){if("@"==(aa?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Pa(),"]"!=a;d||(d=!0))d&&(","==a?(a=Pa(),"]"==a&&na()):na()),","==a&&na(),b.push(Qa(a));return b}if("{"==a){for(b={};a=Pa(),"}"!=a;d||(d=!0))d&&(","==a?(a=Pa(),"}"==a&&na()):na()),","!=a&&"string"==typeof a&&"@"==
(aa?a.charAt(0):a[0])&&":"==Pa()||na(),b[a.slice(1)]=Qa(Pa());return b}na()}return a},Xa=function(a,b,d){d=La(a,b,d);d===va?delete a[b]:a[b]=d},La=function(a,b,d){var f,g=a[b];if("object"==typeof g&&g)if("[object Array]"==ma.call(g))for(f=g.length;f--;)Xa(g,f,d);else pa(g,function(a){Xa(g,a,d)});return d.call(a,b,g)};n.parse=function(a,b){var d,f;return da=0,Ya=""+a,d=Qa(Pa()),"$"!=Pa()&&na(),da=Ya=null,b&&"[object Function]"==ma.call(b)?La((f={},f[""]=d,f),"",b):d}}}return n.runInContext=b,n}var g=
"function"==typeof define&&define.amd,a={"function":!0,object:!0},n=a[typeof exports]&&exports&&!exports.nodeType&&exports,h=a[typeof window]&&window||this,t=n&&a[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!t||t.global!==t&&t.window!==t&&t.self!==t||(h=t),n&&!g)b(h,n);else{var z=h.JSON;var x=h.JSON3;var l=!1;var u=b(h,h.JSON3={noConflict:function(){return l||(l=!0,h.JSON=z,h.JSON3=x,z=x=null),u}});h.JSON={parse:u.parse,stringify:u.stringify}}g&&define(function(){return u})}).call(this);
(function(){var b={appendToHead:function(g){b.getHead().appendChild(g)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=b})();
(function(){createjs.DataUtils={parseXML:function(b,g){var a=null;try{window.DOMParser&&(a=(new DOMParser).parseFromString(b,g))}catch(n){}if(!a)try{a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(b)}catch(n){a=null}return a},parseJSON:function(b){if(null==b)return null;try{return JSON.parse(b)}catch(g){throw g;}}}})();this.createjs=this.createjs||{};
(function(){function b(){this.id=this.type=this.src=null;this.maintainOrder=!1;this.data=this.callback=null;this.method=createjs.LoadItem.GET;this.headers=this.values=null;this.withCredentials=!1;this.crossOrigin=this.mimeType=null;this.loadTimeout=a.LOAD_TIMEOUT_DEFAULT}var g=b.prototype={},a=b;a.LOAD_TIMEOUT_DEFAULT=8E3;a.create=function(g){if("string"==typeof g){var h=new b;return h.src=g,h}if(g instanceof a)return g;if(g instanceof Object&&g.src)return null==g.loadTimeout&&(g.loadTimeout=a.LOAD_TIMEOUT_DEFAULT),
g;throw Error("Type not recognized.");};g.set=function(a){for(var b in a)this[b]=a[b];return this};createjs.LoadItem=a})();
(function(){var b={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(g){var a={absolute:!1,relative:!1};if(null==g)return a;var n=g.indexOf("?");-1<n&&(g=g.substr(0,n));var h;return b.ABSOLUTE_PATT.test(g)?a.absolute=!0:b.RELATIVE_PATT.test(g)&&(a.relative=!0),(h=g.match(b.EXTENSION_PATT))&&(a.extension=h[1].toLowerCase()),a},formatQueryString:function(b,a){if(null==b)throw Error("You must specify data.");var g=[],h;for(h in b)g.push(h+
"="+escape(b[h]));return a&&(g=g.concat(a)),g.join("&")},buildPath:function(b,a){if(null==a)return b;var g=[],h=b.indexOf("?");if(-1!=h)var t=b.slice(h+1),g=g.concat(t.split("&"));return-1!=h?b.slice(0,h)+"?"+this.formatQueryString(a,g):b+"?"+this.formatQueryString(a,g)},isCrossDomain:function(b){var a=document.createElement("a");a.href=b.src;b=document.createElement("a");b.href=location.href;return""!=a.hostname&&(a.port!=b.port||a.protocol!=b.protocol||a.hostname!=b.hostname)},isLocal:function(b){var a=
document.createElement("a");return a.href=b.src,""==a.hostname&&"file:"==a.protocol},isBinary:function(b){switch(b){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(b){return b instanceof HTMLImageElement},isAudioTag:function(b){return window.HTMLAudioElement?b instanceof HTMLAudioElement:!1},isVideoTag:function(b){return window.HTMLVideoElement?b instanceof HTMLVideoElement:!1},isText:function(b){switch(b){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;
default:return!1}},getTypeByExtension:function(b){if(null==b)return createjs.AbstractLoader.TEXT;switch(b.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.AbstractLoader.IMAGE;case "ogg":case "mp3":case "webm":return createjs.AbstractLoader.SOUND;case "mp4":case "webm":case "ts":return createjs.AbstractLoader.VIDEO;case "json":return createjs.AbstractLoader.JSON;case "xml":return createjs.AbstractLoader.XML;case "css":return createjs.AbstractLoader.CSS;
case "js":return createjs.AbstractLoader.JAVASCRIPT;case "svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=b})();this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.EventDispatcher_constructor();this.canceled=this.loaded=!1;this.progress=0;this.type=g;this.resultFormatter=null;this._item=a?createjs.LoadItem.create(a):null;this._preferXHR=b;this._tag=this._tagSrcAttribute=this._loadedItems=this._rawResult=this._result=null}var g=createjs.extend(b,createjs.EventDispatcher);b.POST="POST";b.GET="GET";b.BINARY="binary";b.CSS="css";b.IMAGE="image";b.JAVASCRIPT="javascript";b.JSON="json";b.JSONP="jsonp";b.MANIFEST="manifest";b.SOUND=
"sound";b.VIDEO="video";b.SPRITESHEET="spritesheet";b.SVG="svg";b.TEXT="text";b.XML="xml";g.getItem=function(){return this._item};g.getResult=function(a){return a?this._rawResult:this._result};g.getTag=function(){return this._tag};g.setTag=function(a){this._tag=a};g.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",
this,this);var a=new createjs.Event("initialize");a.loader=this._request;this.dispatchEvent(a);this._request.load()};g.cancel=function(){this.canceled=!0;this.destroy()};g.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._loadItems=this._result=this._rawResult=this._item=this._request=null;this.removeAllEventListeners()};g.getLoadedItems=function(){return this._loadedItems};g._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):
new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};g._createTag=function(){return null};g._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};g._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));this.hasEventListener("progress")&&
this.dispatchEvent(b)}};g._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult;null!=this._result&&(a.result=this._result);this.dispatchEvent(a)}};g._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))};g._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};g.resultFormatter=null;g.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=
a.target._response;a=this.resultFormatter&&this.resultFormatter(this);a instanceof Function?a.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=a||this._rawResult,this._sendComplete());break;case "progress":this._sendProgress(a);break;case "error":this._sendError(a);break;case "loadstart":this._sendLoadStart();break;case "abort":case "timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+
"_ERROR"))}};g._resultFormatSuccess=function(a){this._result=a;this._sendComplete()};g._resultFormatFailed=function(a){this._sendError(a)};g.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)};g.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.AbstractLoader_constructor(a,b,g);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.on("initialize",this._updateXHR,this)}var g=createjs.extend(b,createjs.AbstractLoader);g.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};g._createTag=function(){};g._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,
this._tag||this._createTag(),this._tagSrcAttribute)};g._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")};g._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,g=a.getResult(!0);a.getTag().src=b.createObjectURL(g)}return a.getTag()};createjs.AbstractMediaLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};(function(){var b=function(a){this._item=a},g=createjs.extend(b,createjs.EventDispatcher);g.load=function(){};g.destroy=function(){};g.cancel=function(){};createjs.AbstractRequest=createjs.promote(b,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=g;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1;this._startTagVisibility=null}var g=createjs.extend(b,createjs.AbstractRequest);g.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");
a.loader=this._tag;this.dispatchEvent(a);this._hideTag();this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)};g.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};g._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||
this._handleTagComplete()};g._handleError=function(){this._clean();this.dispatchEvent("error")};g._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};g._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};g._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&
null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag);clearTimeout(this._loadTimeout)};g._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};g._showTag=function(){this._tag.style.visibility=this._startTagVisibility};g._handleStalled=function(){};createjs.TagRequest=createjs.promote(b,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=g;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var g=createjs.extend(b,createjs.TagRequest);g.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b;this._tag.addEventListener("stalled",a);this._tag.addEventListener("progress",b);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",
this._loadedHandler,!1);this.TagRequest_load()};g._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;"loaded"!=a.readyState&&"complete"!=a.readyState||this._handleTagComplete()};g._handleStalled=function(){};g._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};g._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",
this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(b,"TagRequest")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractRequest_constructor(a);this._loadTimeout=this._request=null;this._xhrLevel=1;this._rawResponse=this._response=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=
createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);!this._createXHR(a)}var g=createjs.extend(b,createjs.AbstractRequest);b.ACTIVEX_VERSIONS="Msxml2.XMLHTTP.6.0 Msxml2.XMLHTTP.5.0 Msxml2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");g.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};g.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};g.load=function(){if(null==
this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",
this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));
try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}};g.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a);this._request.responseType=a};g.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof
Function?this._request.getAllResponseHeaders():null};g.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null};g._handleProgress=function(a){!a||0<a.loaded&&0==a.total||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};g._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};g._handleAbort=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",
null,a))};g._handleError=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent(a.message))};g._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};g._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(n){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||
window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===n.name&&window.BlobBuilder)a=new BlobBuilder,a.append(this._response),this._response=a.getBlob()}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};g._handleTimeout=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))};g._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return Error(a)}return null};g._getResponse=function(){if(null!=this._response)return this._response;
if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null};g._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),g={},t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest,b&&void 0===t.withCredentials&&window.XDomainRequest&&(t=new XDomainRequest);else{for(var z=0,x=s.ACTIVEX_VERSIONS.length;x>z;z++){var l=
s.ACTIVEX_VERSIONS[z];try{t=new ActiveXObject(l);break}catch(J){}}if(null==t)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8");a.mimeType&&t.overrideMimeType&&t.overrideMimeType(a.mimeType);this._xhrLevel="string"==typeof t.responseType?2:1;z=null;if(z=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,t.open(a.method||createjs.AbstractLoader.GET,z,!0),b&&t instanceof XMLHttpRequest&&1==this._xhrLevel&&
(g.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(g["Content-Type"]="application/x-www-form-urlencoded"),b||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var u in a.headers)g[u]=a.headers[u];for(u in g)t.setRequestHeader(u,g[u]);return t instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(t.withCredentials=a.withCredentials),this._request=t,!0};g._clean=function(){clearTimeout(this._loadTimeout);null!=this._request.removeEventListener?
(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):
(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)};g.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(b,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function b(a,b,g){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,
createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(a,b,g)}var g=createjs.extend(b,createjs.AbstractLoader);g.init=function(a,b,g){this._preferXHR=this.preferXHR=this.useXHR=!0;this.setPreferXHR(a);this._paused=!1;this._basePath=b;this._crossOrigin=g;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults=
{};this._numItemsLoaded=this._numItems=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=0/0};b.loadTimeout=8E3;b.LOAD_TIMEOUT=0;b.BINARY=createjs.AbstractLoader.BINARY;b.CSS=createjs.AbstractLoader.CSS;b.IMAGE=createjs.AbstractLoader.IMAGE;b.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT;b.JSON=createjs.AbstractLoader.JSON;b.JSONP=createjs.AbstractLoader.JSONP;b.MANIFEST=createjs.AbstractLoader.MANIFEST;b.SOUND=createjs.AbstractLoader.SOUND;b.VIDEO=createjs.AbstractLoader.VIDEO;b.SVG=
createjs.AbstractLoader.SVG;b.TEXT=createjs.AbstractLoader.TEXT;b.XML=createjs.AbstractLoader.XML;b.POST=createjs.AbstractLoader.POST;b.GET=createjs.AbstractLoader.GET;g.registerLoader=function(a){if(!a||!a.canLoadItem)throw Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw Error("loader already exists.");this._availableLoaders.unshift(a)};g.unregisterLoader=function(a){a=this._availableLoaders.indexOf(a);-1!=a&&a<this._defaultLoaderLength-1&&this._availableLoaders.splice(a,
1)};g.setUseXHR=function(a){return this.setPreferXHR(a)};g.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR};g.removeAll=function(){this.remove()};g.remove=function(a){var b,g=null;if(a&&!Array.isArray(a))g=[a];else if(a)g=a;else if(0<arguments.length)return;var t=!1;if(g){for(;g.length;){for(var z=g.pop(),x=this.getResult(z),l=this._loadQueue.length-1;0<=l;l--)if(b=this._loadQueue[l].getItem(),b.id==z||b.src==z){this._loadQueue.splice(l,1)[0].cancel();
break}for(l=this._loadQueueBackup.length-1;0<=l;l--)if(b=this._loadQueueBackup[l].getItem(),b.id==z||b.src==z){this._loadQueueBackup.splice(l,1)[0].cancel();break}if(x)this._disposeItem(this.getItem(z));else for(var l=this._currentLoads.length-1;0<=l;l--)if(b=this._currentLoads[l].getItem(),b.id==z||b.src==z){this._currentLoads.splice(l,1)[0].cancel();t=!0;break}}t&&this._loadNext()}else{this.close();for(z in this._loadItemsById)this._disposeItem(this._loadItemsById[z]);this.init(this.preferXHR,this._basePath)}};
g.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);a=[];for(var b=0,g=this._loadQueueBackup.length;g>b;b++)a.push(this._loadQueueBackup[b].getItem());this.loadManifest(a,!1)};g.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types){a=0;for(var g=b.types.length;g>a;a++)this._typeCallbacks[b.types[a]]=b}if(null!=b.extensions)for(a=0,g=b.extensions.length;g>
a;a++)this._extensionCallbacks[b.extensions[a]]=b}};g.setMaxConnections=function(a){this._maxConnections=a;!this._paused&&0<this._loadQueue.length&&this._loadNext()};g.loadFile=function(a,b,g){if(null==a)return a=new createjs.ErrorEvent("PRELOAD_NO_FILE"),void this._sendError(a);this._addItem(a,null,g);this.setPaused(!1!==b?!1:!0)};g.loadManifest=function(a,g,h){var n,z=n=null;if(Array.isArray(a)){if(0==a.length)return n=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"),void this._sendError(n);n=
a}else if("string"==typeof a)n=[{src:a,type:b.MANIFEST}];else{if("object"!=typeof a)return n=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(n);void 0!==a.src?(null==a.type?a.type=b.MANIFEST:a.type!=b.MANIFEST&&(n=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(n)),n=[a]):void 0!==a.manifest&&(n=a.manifest,z=a.path)}a=0;for(var x=n.length;x>a;a++)this._addItem(n[a],z,h);this.setPaused(!1!==g?!1:!0)};g.load=function(){this.setPaused(!1)};g.getItem=function(a){return this._loadItemsById[a]||
this._loadItemsBySrc[a]};g.getResult=function(a,b){var g=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==g)return null;g=g.id;return b&&this._loadedRawResults[g]?this._loadedRawResults[g]:this._loadedResults[g]};g.getItems=function(a){var b=[],g;for(g in this._loadItemsById){var t=this._loadItemsById[g],z=this.getResult(g);!0===a&&null==z||b.push({item:t,result:z,rawResult:this.getResult(g,!0)})}return b};g.setPaused=function(a){(this._paused=a)||this._loadNext()};g.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();
this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=0/0};g._addItem=function(a,b,g){a=this._createLoadItem(a,b,g);null!=a&&(b=this._createLoader(a),null!=b&&("plugins"in b&&(b.plugins=this._plugins),a._loader=b,this._loadQueue.push(b),this._loadQueueBackup.push(b),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT||!0===a.maintainOrder)&&(this._scriptOrder.push(a),this._loadedScripts.push(null))))};
g._createLoadItem=function(a,b,g){a=createjs.LoadItem.create(a);if(null==a)return null;var h="";g=g||this._basePath;if(a.src instanceof Object){if(!a.type)return null;if(b){h=b;var n=createjs.RequestUtils.parseURI(b);null==g||n.absolute||n.relative||(h=g+h)}else null!=g&&(h=g)}else{n=createjs.RequestUtils.parseURI(a.src);n.extension&&(a.ext=n.extension);null==a.type&&(a.type=createjs.RequestUtils.getTypeByExtension(a.ext));var x=a.src;n.absolute||n.relative||(b?(h=b,n=createjs.RequestUtils.parseURI(b),
x=b+x,null==g||n.absolute||n.relative||(h=g+h)):null!=g&&(h=g));a.src=h+a.src}a.path=h;void 0!==a.id&&null!==a.id&&""!==a.id||(a.id=x);if(b=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext]){b=b.callback.call(b.scope,a,this);if(!1===b)return null;!0===b||null!=b&&(a._loader=b);n=createjs.RequestUtils.parseURI(a.src);null!=n.extension&&(a.ext=n.extension)}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,null==a.crossOrigin&&(a.crossOrigin=this._crossOrigin),a};g._createLoader=
function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,g=0;g<this._availableLoaders.length;g++){var t=this._availableLoaders[g];if(t&&t.canLoadItem(a))return new t(a,b)}return null};g._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=
this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}};g._loadItem=function(a){a.on("fileload",this._handleFileLoad,this);a.on("progress",this._handleProgress,this);a.on("complete",this._handleFileComplete,this);a.on("error",this._handleError,this);a.on("fileerror",this._handleFileError,this);this._currentLoads.push(a);this._sendFileStart(a.getItem());a.load()};g._handleFileLoad=function(a){a.target=null;this.dispatchEvent(a)};
g._handleFileError=function(a){a=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(a)};g._handleError=function(a){a=a.target;this._numItemsLoaded++;this._finishOrderedItem(a,!0);this._updateProgress();var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.getItem());this._sendError(b);this.stopOnError?this.setPaused(!0):(this._removeLoadItem(a),this._cleanLoadItem(a),this._loadNext())};g._handleFileComplete=function(a){a=a.target;var b=a.getItem(),g=a.getResult();this._loadedResults[b.id]=
g;var t=a.getResult(!0);null!=t&&t!==g&&(this._loadedRawResults[b.id]=t);this._saveLoadedItems(a);this._removeLoadItem(a);this._finishOrderedItem(a)||this._processFinishedLoad(b,a);this._cleanLoadItem(a)};g._saveLoadedItems=function(a){a=a.getLoadedItems();if(null!==a)for(var b=0;b<a.length;b++){var g=a[b].item;this._loadItemsBySrc[g.src]=g;this._loadItemsById[g.id]=g;this._loadedResults[g.id]=a[b].result;this._loadedRawResults[g.id]=a[b].rawResult}};g._finishOrderedItem=function(a,b){var g=a.getItem();
if(this.maintainScriptOrder&&g.type==createjs.LoadQueue.JAVASCRIPT||g.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var n=createjs.indexOf(this._scriptOrder,g);return-1==n?!1:(this._loadedScripts[n]=!0===b?!0:g,this._checkScriptLoadOrder(),!0)}return!1};g._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var g=this._loadedScripts[b];if(null===g)break;if(!0!==g){var t=this._loadedResults[g.id];g.type==createjs.LoadQueue.JAVASCRIPT&&
createjs.DomUtils.appendToHead(t);this._processFinishedLoad(g,g._loader);this._loadedScripts[b]=!0}}};g._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT){var g=b.getTag();createjs.DomUtils.appendToHead(g)}this._updateProgress();this._sendFileComplete(a,b);this._loadNext()};g._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;a=a.getItem();if(a.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;
a=this._scriptOrder.indexOf(a);for(var b=0;a>b;){if(null==this._loadedScripts[b])return!1;b++}return this._currentlyLoadingScript=!0,!0};g._removeLoadItem=function(a){for(var b=this._currentLoads.length,g=0;b>g;g++)if(this._currentLoads[g]==a){this._currentLoads.splice(g,1);break}};g._cleanLoadItem=function(a){(a=a.getItem())&&delete a._loader};g._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};g._updateProgress=function(){var a=this._numItemsLoaded/
this._numItems,b=this._numItems-this._numItemsLoaded;if(0<b){for(var g=0,t=0,z=this._currentLoads.length;z>t;t++)g+=this._currentLoads[t].progress;a+=g/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)};g._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};g._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var g=
new createjs.Event("fileprogress");g.progress=b;g.loaded=b;g.total=1;g.item=a;this.dispatchEvent(g)}};g._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var g=new createjs.Event("fileload");g.loader=b;g.item=a;g.result=this._loadedResults[a.id];g.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(g);this.hasEventListener("fileload")&&this.dispatchEvent(g)}};g._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a;this.hasEventListener("filestart")&&
this.dispatchEvent(b)};g.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};(function(){function b(b){this.AbstractLoader_constructor(b,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(b,createjs.AbstractLoader),b).canLoadItem=function(b){return b.type==createjs.AbstractLoader.TEXT};createjs.TextLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY);this.on("initialize",this._updateXHR,this)}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY};g._updateXHR=function(a){a.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=document.createElement(b?"style":"link");this._tag.rel="stylesheet";this._tag.type="text/css"}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS};g._formatResult=function(a){if(this._preferXHR){var b=a.getTag();b.styleSheet?b.styleSheet.cssText=a.getResult(!0):(a=
document.createTextNode(a.getResult(!0)),b.appendChild(a))}else b=this._tag;return createjs.DomUtils.appendToHead(b),b};createjs.CSSLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag);null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img");this.on("initialize",this._updateXHR,this)}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=
function(a){return a.type==createjs.AbstractLoader.IMAGE};g.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous");null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a);this.AbstractLoader_load()};g._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary";a.loader.setResponseType&&a.loader.setResponseType("blob")};g._formatResult=function(){return this._formatImage};
g._formatImage=function(a,b){var g=this._tag,n=window.URL||window.webkitURL;this._preferXHR&&(n?(n=n.createObjectURL(this.getResult(!0)),g.src=n,g.addEventListener("load",this._cleanUpURL,!1),g.addEventListener("error",this._cleanUpURL,!1)):g.src=this._item.src);g.complete?a(g):(g.onload=createjs.proxy(function(){a(this._tag)},this),g.onerror=createjs.proxy(function(){b(_this._tag)},this))};g._cleanUpURL=function(a){(window.URL||window.webkitURL).revokeObjectURL(a.target.src)};createjs.ImageLoader=
createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(document.createElement("script"))}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT};g._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b};createjs.JavaScriptLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON);this.resultFormatter=this._formatResult}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON};g._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(h){return a=new createjs.ErrorEvent("JSON_FORMAT",null,h),this._sendError(a),h}return b};createjs.JSONLoader=createjs.promote(b,"AbstractLoader")})();
this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP);this.setTag(document.createElement("script"));this.getTag().type="text/javascript"}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP};g.cancel=function(){this.AbstractLoader_cancel();this._dispose()};g.load=function(){if(null==this._item.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw Error("JSONP callback '"+
this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);window.document.body.appendChild(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};g._handleLoad=function(a){this._result=this._rawResult=a;this._sendComplete();this._dispose()};g._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};
g._dispose=function(){window.document.body.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST);this._manifestQueue=this.plugins=null}var g=createjs.extend(b,createjs.AbstractLoader);b.MANIFEST_PROGRESS=.25;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST};g.load=function(){this.AbstractLoader_load()};g._createRequest=function(){this._request=null!=this._item.callback?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};g.handleEvent=function(a){switch(a.type){case "complete":return this._rawResult=
a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.MANIFEST_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=b.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};g.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};g._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;
b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("complete",this._handleManifestComplete,this,!0);b.on("error",this._handleManifestError,this,!0);for(var g=0,t=this.plugins.length;t>g;g++)b.installPlugin(this.plugins[g]);b.loadManifest(a)}else this._sendComplete()};g._handleManifestFileLoad=function(a){a.target=null;this.dispatchEvent(a)};g._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
g._handleManifestProgress=function(a){this.progress=a.progress*(1-b.MANIFEST_PROGRESS)+b.MANIFEST_PROGRESS;this._sendProgress(this.progress)};g._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.ManifestLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND);createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src);null!=this._tag&&(this._preferXHR=!1)}var g=createjs.extend(b,createjs.AbstractMediaLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND};g._createTag=function(a){var b=document.createElement("audio");
return b.autoplay=!1,b.preload="none",b.src=a,b};createjs.SoundLoader=createjs.promote(b,"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function b(b,a){this.AbstractMediaLoader_constructor(b,a,createjs.AbstractLoader.VIDEO);createjs.RequestUtils.isVideoTag(b)||createjs.RequestUtils.isVideoTag(b.src)?(this.setTag(createjs.RequestUtils.isVideoTag(b)?b:b.src),this._preferXHR=!1):this.setTag(this._createTag())}createjs.extend(b,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")};b.canLoadItem=function(b){return b.type==createjs.AbstractLoader.VIDEO};createjs.VideoLoader=createjs.promote(b,
"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SPRITESHEET);this._manifestQueue=null}var g=createjs.extend(b,createjs.AbstractLoader);b.SPRITESHEET_PROGRESS=.25;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET};g.destroy=function(){this.AbstractLoader_destroy;this._manifestQueue.close()};g._createRequest=function(){this._request=null!=this._item.callback?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};g.handleEvent=
function(a){switch(a.type){case "complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case "progress":return a.loaded*=b.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)};g._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,
this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0);b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("error",this._handleManifestError,this,!0);b.loadManifest(a.images)}};g._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var g=this.getResult().images;a=g.indexOf(a.item.src);g[a]=b}};g._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=
this._manifestQueue.getItems(!0);this._sendComplete()};g._handleManifestProgress=function(a){this.progress=a.progress*(1-b.SPRITESHEET_PROGRESS)+b.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};g._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.SpriteSheetLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG};g._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml");a=
a.getTag();return!this._preferXHR&&document.body.contains(a)&&document.body.removeChild(a),null!=b.documentElement?(a.appendChild(b.documentElement),a.style.visibility="visible",a):b};createjs.SVGLoader=createjs.promote(b,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function b(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML);this.resultFormatter=this._formatResult}var g=createjs.extend(b,createjs.AbstractLoader);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML};g._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")};createjs.XMLLoader=createjs.promote(b,"AbstractLoader")})();/*
 npm.im/iphone-inline-video 2.0.2  npm.im/intervalometer */
var enableInlineVideo=function(){function b(a,b,g,h){function d(g){l=b(d,h);a(g-(n||g));n=g}var l,n;return{start:function(){l||d(0)},stop:function(){g(l);l=null;n=0}}}function g(a,b,g,h){function d(b){!!a[g]===!!h&&b.stopImmediatePropagation();delete a[g]}a.addEventListener(b,d,!1);return d}function a(a,b,g,h){function d(a){g[b]=a}h&&d(a[b]);Object.defineProperty(a,b,{get:function(){return g[b]},set:d})}function n(a,b,g){g.addEventListener(b,function(){return a.dispatchEvent(new Event(b))})}function h(a,
b){Promise.resolve().then(function(){a.dispatchEvent(new Event(b))})}function t(a){var b=new Audio;n(a,"play",b);n(a,"playing",b);n(a,"pause",b);b.crossOrigin=a.crossOrigin;b.src=a.src||a.currentSrc||"data:";return b}function z(a,b,g){(N||0)+200<Date.now()&&(a["bfred-it:iphone-inline-video:event"]=!0,N=Date.now());g||(a.currentTime=b);T[++V%3]=100*b|0}function x(a){this.video.readyState>=this.video.HAVE_FUTURE_DATA?(this.hasAudio||(this.driver.currentTime=this.video.currentTime+a*this.video.playbackRate/
1E3,this.video.loop&&this.driver.currentTime>=this.video.duration&&(this.driver.currentTime=0)),z(this.video,this.driver.currentTime)):this.video.networkState===this.video.NETWORK_IDLE&&0===this.video.buffered.length&&this.video.load();this.video.ended&&(delete this.video["bfred-it:iphone-inline-video:event"],this.video.pause(!0))}function l(){var a=this["bfred-it:iphone-inline-video"];if(this.webkitDisplayingFullscreen)this["bfred-it:iphone-inline-video:nativeplay"]();else"data:"!==a.driver.src&&
a.driver.src!==this.src&&(z(this,0,!0),a.driver.src=this.src),this.paused&&(a.paused=!1,0===this.buffered.length&&this.load(),a.driver.play(),a.updater.start(),a.hasAudio||(h(this,"play"),a.video.readyState>=a.video.HAVE_ENOUGH_DATA&&h(this,"playing")))}function u(a){var b=this["bfred-it:iphone-inline-video"];b.driver.pause();b.updater.stop();if(this.webkitDisplayingFullscreen)this["bfred-it:iphone-inline-video:nativepause"]();if(!b.paused||a)b.paused=!0,b.hasAudio||h(this,"pause"),this.ended&&(this["bfred-it:iphone-inline-video:event"]=
!0,h(this,"ended"))}function J(a,g){var d=a["bfred-it:iphone-inline-video"]={};d.paused=!0;d.hasAudio=g;d.video=a;d.updater=b(x.bind(d),requestAnimationFrame,cancelAnimationFrame);g?d.driver=t(a):(a.addEventListener("canplay",function(){a.paused||h(a,"playing")}),d.driver={src:a.src||a.currentSrc||"data:",muted:!0,paused:!0,pause:function(){d.driver.paused=!0},play:function(){d.driver.paused=!1;d.driver.currentTime>=d.video.duration&&z(a,0)},get ended(){return d.driver.currentTime>=d.video.duration}});
a.addEventListener("emptied",function(){var b=!d.driver.src||"data:"===d.driver.src;d.driver.src&&d.driver.src!==a.src&&(z(a,0,!0),d.driver.src=a.src,b?d.driver.play():d.updater.stop())},!1);a.addEventListener("webkitbeginfullscreen",function(){a.paused?g&&0===d.driver.buffered.length&&d.driver.load():(a.pause(),a["bfred-it:iphone-inline-video:nativeplay"]())});g&&(a.addEventListener("webkitendfullscreen",function(){d.driver.currentTime=a.currentTime}),a.addEventListener("seeking",function(){0>T.indexOf(100*
a.currentTime|0)&&(d.driver.currentTime=a.currentTime)}))}var y="object"===typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,T=[],V=0,N;return function(b,h){void 0===h&&(h={});if(!b["bfred-it:iphone-inline-video"]&&(h.everywhere||y&&(h.iPad||h.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))){!b.paused&&b.webkitDisplayingFullscreen&&b.pause();J(b,!b.muted);var d=b["bfred-it:iphone-inline-video"];b["bfred-it:iphone-inline-video:nativeplay"]=
b.play;b["bfred-it:iphone-inline-video:nativepause"]=b.pause;b.play=l;b.pause=u;a(b,"paused",d.driver);a(b,"muted",d.driver,!0);a(b,"playbackRate",d.driver,!0);a(b,"ended",d.driver);a(b,"loop",d.driver,!0);g(b,"seeking");g(b,"seeked");g(b,"timeupdate","bfred-it:iphone-inline-video:event",!1);g(b,"ended","bfred-it:iphone-inline-video:event",!1);b.classList.add("IIV");b.muted&&b.autoplay&&b.play();/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}}();(function(b,g){"object"===typeof exports&&"undefined"!==typeof module?g(exports):"function"===typeof define&&define.amd?define(["exports"],g):g(b.THREE=b.THREE||{})})(this,function(b){function g(){}function a(c,a){this.x=c||0;this.y=a||0}function n(c,b,w,v,d,e,f,g,h,k){Object.defineProperty(this,"id",{value:Ef++});this.uuid=Ba.generateUUID();this.name="";this.image=void 0!==c?c:n.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:n.DEFAULT_MAPPING;this.wrapS=void 0!==w?w:1001;this.wrapT=void 0!==
v?v:1001;this.magFilter=void 0!==d?d:1006;this.minFilter=void 0!==e?e:1008;this.anisotropy=void 0!==h?h:1;this.format=void 0!==f?f:1023;this.type=void 0!==g?g:1009;this.offset=new a(0,0);this.repeat=new a(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==k?k:3E3;this.version=0;this.onUpdate=null}function h(c,a,b,v){this.x=c||0;this.y=a||0;this.z=b||0;this.w=void 0!==v?v:1}function t(c,a,b){this.uuid=Ba.generateUUID();this.width=c;this.height=
a;this.scissor=new h(0,0,c,a);this.scissorTest=!1;this.viewport=new h(0,0,c,a);b=b||{};void 0===b.minFilter&&(b.minFilter=1006);this.texture=new n(void 0,void 0,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.encoding);this.depthBuffer=void 0!==b.depthBuffer?b.depthBuffer:!0;this.stencilBuffer=void 0!==b.stencilBuffer?b.stencilBuffer:!0;this.depthTexture=void 0!==b.depthTexture?b.depthTexture:null}function z(c,a,b){t.call(this,c,a,b);this.activeMipMapLevel=this.activeCubeFace=
0}function x(c,a,b,v){this._x=c||0;this._y=a||0;this._z=b||0;this._w=void 0!==v?v:1}function l(c,a,b){this.x=c||0;this.y=a||0;this.z=b||0}function u(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function J(c,a,b,v,d,e,f,g,h,k,l,p){n.call(this,null,e,f,g,h,k,v,d,l,p);this.image={data:c,width:a,height:b};this.magFilter=void 0!==h?h:1003;this.minFilter=void 0!==k?k:1003;this.flipY=this.generateMipmaps=
!1;this.unpackAlignment=1}function y(c,a,b,v,d,e,f,g,h,k){c=void 0!==c?c:[];n.call(this,c,void 0!==a?a:301,b,v,d,e,f,g,h,k);this.flipY=!1}function T(c,a,b){var m=c[0];if(0>=m||0<m)return c;var w=a*b,d=ef[w];void 0===d&&(d=new Float32Array(w),ef[w]=d);if(0!==a)for(m.toArray(d,0),m=1,w=0;m!==a;++m)w+=b,c[m].toArray(d,w);return d}function V(c,a){var b=ff[a];void 0===b&&(b=new Int32Array(a),ff[a]=b);for(var m=0;m!==a;++m)b[m]=c.allocTextureUnit();return b}function N(c,a){c.uniform1f(this.addr,a)}function d(c,
a){c.uniform1i(this.addr,a)}function E(c,a){void 0===a.x?c.uniform2fv(this.addr,a):c.uniform2f(this.addr,a.x,a.y)}function K(c,a){void 0!==a.x?c.uniform3f(this.addr,a.x,a.y,a.z):void 0!==a.r?c.uniform3f(this.addr,a.r,a.g,a.b):c.uniform3fv(this.addr,a)}function qa(c,a){void 0===a.x?c.uniform4fv(this.addr,a):c.uniform4f(this.addr,a.x,a.y,a.z,a.w)}function C(c,a){c.uniformMatrix2fv(this.addr,!1,a.elements||a)}function sa(c,a){void 0===a.elements?c.uniformMatrix3fv(this.addr,!1,a):(gf.set(a.elements),
c.uniformMatrix3fv(this.addr,!1,gf))}function Na(c,a){void 0===a.elements?c.uniformMatrix4fv(this.addr,!1,a):(hf.set(a.elements),c.uniformMatrix4fv(this.addr,!1,hf))}function pa(c,a,b){var m=b.allocTextureUnit();c.uniform1i(this.addr,m);b.setTexture2D(a||jf,m)}function va(c,a,b){var m=b.allocTextureUnit();c.uniform1i(this.addr,m);b.setTextureCube(a||kf,m)}function ma(c,a){c.uniform2iv(this.addr,a)}function ba(c,a){c.uniform3iv(this.addr,a)}function aa(c,a){c.uniform4iv(this.addr,a)}function Y(c){switch(c){case 5126:return N;
case 35664:return E;case 35665:return K;case 35666:return qa;case 35674:return C;case 35675:return sa;case 35676:return Na;case 35678:return pa;case 35680:return va;case 5124:case 35670:return d;case 35667:case 35671:return ma;case 35668:case 35672:return ba;case 35669:case 35673:return aa}}function M(c,a){c.uniform1fv(this.addr,a)}function Z(c,a){c.uniform1iv(this.addr,a)}function ra(c,a){c.uniform2fv(this.addr,T(a,this.size,2))}function f(c,a){c.uniform3fv(this.addr,T(a,this.size,3))}function Wa(c,
a){c.uniform4fv(this.addr,T(a,this.size,4))}function Oa(c,a){c.uniformMatrix2fv(this.addr,!1,T(a,this.size,4))}function da(c,a){c.uniformMatrix3fv(this.addr,!1,T(a,this.size,9))}function Ya(c,a){c.uniformMatrix4fv(this.addr,!1,T(a,this.size,16))}function Fa(c,a,b){var m=a.length,w=V(b,m);c.uniform1iv(this.addr,w);for(c=0;c!==m;++c)b.setTexture2D(a[c]||jf,w[c])}function ta(c,a,b){var m=a.length,w=V(b,m);c.uniform1iv(this.addr,w);for(c=0;c!==m;++c)b.setTextureCube(a[c]||kf,w[c])}function na(c){switch(c){case 5126:return M;
case 35664:return ra;case 35665:return f;case 35666:return Wa;case 35674:return Oa;case 35675:return da;case 35676:return Ya;case 35678:return Fa;case 35680:return ta;case 5124:case 35670:return Z;case 35667:case 35671:return ma;case 35668:case 35672:return ba;case 35669:case 35673:return aa}}function Pa(c,a,b){this.id=c;this.addr=b;this.setValue=Y(a.type)}function Qa(c,a,b){this.id=c;this.addr=b;this.size=a.size;this.setValue=na(a.type)}function Xa(c){this.id=c;this.seq=[];this.map={}}function La(c,
a,b){this.seq=[];this.map={};this.renderer=b;b=c.getProgramParameter(a,c.ACTIVE_UNIFORMS);for(var m=0;m<b;++m){var w=c.getActiveUniform(a,m),d=c.getUniformLocation(a,w.name),e=this,f=w.name,g=f.length;for(Be.lastIndex=0;;){var h=Be.exec(f),k=Be.lastIndex,l=h[1],n=h[3];"]"===h[2]&&(l|=0);if(void 0===n||"["===n&&k+2===g){f=e;w=void 0===n?new Pa(l,w,d):new Qa(l,w,d);f.seq.push(w);f.map[w.id]=w;break}else n=e.map[l],void 0===n&&(n=new Xa(l),l=e,e=n,l.seq.push(e),l.map[e.id]=e),e=n}}}function G(c,a,b){return void 0===
a&&void 0===b?this.set(c):this.setRGB(c,a,b)}function Ra(c,b){this.min=void 0!==c?c:new a(Infinity,Infinity);this.max=void 0!==b?b:new a(-Infinity,-Infinity)}function eb(c,b){var m,v,d,e,f,g,h,k,n,p,L=c.context,q=c.state,r,u,t,jb,x,z;this.render=function(w,D,I){if(0!==b.length){w=new l;var S=I.w/I.z,la=.5*I.z,oa=.5*I.w,U=16/I.w,pb=new a(U*S,U),hb=new l(1,1,0),cb=new a(1,1),Ce=new Ra;Ce.min.set(I.x,I.y);Ce.max.set(I.x+(I.z-16),I.y+(I.w-16));if(void 0===jb){var U=new Float32Array([-1,-1,0,0,1,-1,1,
0,1,1,1,1,-1,1,0,1]),Nb=new Uint16Array([0,1,2,0,2,3]);r=L.createBuffer();u=L.createBuffer();L.bindBuffer(L.ARRAY_BUFFER,r);L.bufferData(L.ARRAY_BUFFER,U,L.STATIC_DRAW);L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,u);L.bufferData(L.ELEMENT_ARRAY_BUFFER,Nb,L.STATIC_DRAW);x=L.createTexture();z=L.createTexture();q.bindTexture(L.TEXTURE_2D,x);L.texImage2D(L.TEXTURE_2D,0,L.RGB,16,16,0,L.RGB,L.UNSIGNED_BYTE,null);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,
L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST);q.bindTexture(L.TEXTURE_2D,z);L.texImage2D(L.TEXTURE_2D,0,L.RGBA,16,16,0,L.RGBA,L.UNSIGNED_BYTE,null);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST);var U=t={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},Nb=L.createProgram(),ca=L.createShader(L.FRAGMENT_SHADER),
kb=L.createShader(L.VERTEX_SHADER),A="precision "+c.getPrecision()+" float;\n";L.shaderSource(ca,A+U.fragmentShader);L.shaderSource(kb,A+U.vertexShader);L.compileShader(ca);L.compileShader(kb);L.attachShader(Nb,ca);L.attachShader(Nb,kb);L.linkProgram(Nb);jb=Nb;n=L.getAttribLocation(jb,"position");p=L.getAttribLocation(jb,"uv");m=L.getUniformLocation(jb,"renderType");v=L.getUniformLocation(jb,"map");d=L.getUniformLocation(jb,"occlusionMap");e=L.getUniformLocation(jb,"opacity");f=L.getUniformLocation(jb,
"color");g=L.getUniformLocation(jb,"scale");h=L.getUniformLocation(jb,"rotation");k=L.getUniformLocation(jb,"screenPosition")}L.useProgram(jb);q.initAttributes();q.enableAttribute(n);q.enableAttribute(p);q.disableUnusedAttributes();L.uniform1i(d,0);L.uniform1i(v,1);L.bindBuffer(L.ARRAY_BUFFER,r);L.vertexAttribPointer(n,2,L.FLOAT,!1,16,0);L.vertexAttribPointer(p,2,L.FLOAT,!1,16,8);L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,u);q.disable(L.CULL_FACE);q.buffers.depth.setMask(!1);Nb=0;for(ca=b.length;Nb<ca;Nb++)if(U=
16/I.w,pb.set(U*S,U),kb=b[Nb],w.set(kb.matrixWorld.elements[12],kb.matrixWorld.elements[13],kb.matrixWorld.elements[14]),w.applyMatrix4(D.matrixWorldInverse),w.applyMatrix4(D.projectionMatrix),hb.copy(w),cb.x=I.x+hb.x*la+la-8,cb.y=I.y+hb.y*oa+oa-8,!0===Ce.containsPoint(cb)){q.activeTexture(L.TEXTURE0);q.bindTexture(L.TEXTURE_2D,null);q.activeTexture(L.TEXTURE1);q.bindTexture(L.TEXTURE_2D,x);L.copyTexImage2D(L.TEXTURE_2D,0,L.RGB,cb.x,cb.y,16,16,0);L.uniform1i(m,0);L.uniform2f(g,pb.x,pb.y);L.uniform3f(k,
hb.x,hb.y,hb.z);q.disable(L.BLEND);q.enable(L.DEPTH_TEST);L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0);q.activeTexture(L.TEXTURE0);q.bindTexture(L.TEXTURE_2D,z);L.copyTexImage2D(L.TEXTURE_2D,0,L.RGBA,cb.x,cb.y,16,16,0);L.uniform1i(m,1);q.disable(L.DEPTH_TEST);q.activeTexture(L.TEXTURE1);q.bindTexture(L.TEXTURE_2D,x);L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0);kb.positionScreen.copy(hb);kb.customUpdateCallback?kb.customUpdateCallback(kb):kb.updateLensFlares();L.uniform1i(m,2);q.enable(L.BLEND);
for(var A=0,Ff=kb.lensFlares.length;A<Ff;A++){var y=kb.lensFlares[A];.001<y.opacity&&.001<y.scale&&(hb.x=y.x,hb.y=y.y,hb.z=y.z,U=y.size*y.scale/I.w,pb.x=U*S,pb.y=U,L.uniform3f(k,hb.x,hb.y,hb.z),L.uniform2f(g,pb.x,pb.y),L.uniform1f(h,y.rotation),L.uniform1f(e,y.opacity),L.uniform3f(f,y.color.r,y.color.g,y.color.b),q.setBlending(y.blending,y.blendEquation,y.blendSrc,y.blendDst),c.setTexture2D(y.texture,1),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0))}}q.enable(L.CULL_FACE);q.enable(L.DEPTH_TEST);
q.buffers.depth.setMask(!0);c.resetGLState()}}}function Za(c,a){var b,m,d,e,f,g,h,k,p,q,L,r,u,t,z,jb,kb;function A(c,a){return c.renderOrder!==a.renderOrder?c.renderOrder-a.renderOrder:c.z!==a.z?a.z-c.z:a.id-c.id}var ca=c.context,y=c.state,B,E,C,G,F=new l,H=new x,J=new l;this.render=function(w,v){if(0!==a.length){if(void 0===C){var D=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),I=new Uint16Array([0,1,2,0,2,3]);B=ca.createBuffer();E=ca.createBuffer();ca.bindBuffer(ca.ARRAY_BUFFER,
B);ca.bufferData(ca.ARRAY_BUFFER,D,ca.STATIC_DRAW);ca.bindBuffer(ca.ELEMENT_ARRAY_BUFFER,E);ca.bufferData(ca.ELEMENT_ARRAY_BUFFER,I,ca.STATIC_DRAW);var D=ca.createProgram(),I=ca.createShader(ca.VERTEX_SHADER),S=ca.createShader(ca.FRAGMENT_SHADER);ca.shaderSource(I,["precision "+c.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
ca.shaderSource(S,["precision "+c.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
ca.compileShader(I);ca.compileShader(S);ca.attachShader(D,I);ca.attachShader(D,S);ca.linkProgram(D);C=D;jb=ca.getAttribLocation(C,"position");kb=ca.getAttribLocation(C,"uv");b=ca.getUniformLocation(C,"uvOffset");m=ca.getUniformLocation(C,"uvScale");d=ca.getUniformLocation(C,"rotation");e=ca.getUniformLocation(C,"scale");f=ca.getUniformLocation(C,"color");g=ca.getUniformLocation(C,"map");h=ca.getUniformLocation(C,"opacity");k=ca.getUniformLocation(C,"modelViewMatrix");p=ca.getUniformLocation(C,"projectionMatrix");
q=ca.getUniformLocation(C,"fogType");L=ca.getUniformLocation(C,"fogDensity");r=ca.getUniformLocation(C,"fogNear");u=ca.getUniformLocation(C,"fogFar");t=ca.getUniformLocation(C,"fogColor");z=ca.getUniformLocation(C,"alphaTest");D=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");D.width=8;D.height=8;I=D.getContext("2d");I.fillStyle="white";I.fillRect(0,0,8,8);G=new n(D);G.needsUpdate=!0}ca.useProgram(C);y.initAttributes();y.enableAttribute(jb);y.enableAttribute(kb);y.disableUnusedAttributes();
y.disable(ca.CULL_FACE);y.enable(ca.BLEND);ca.bindBuffer(ca.ARRAY_BUFFER,B);ca.vertexAttribPointer(jb,2,ca.FLOAT,!1,16,0);ca.vertexAttribPointer(kb,2,ca.FLOAT,!1,16,8);ca.bindBuffer(ca.ELEMENT_ARRAY_BUFFER,E);ca.uniformMatrix4fv(p,!1,v.projectionMatrix.elements);y.activeTexture(ca.TEXTURE0);ca.uniform1i(g,0);I=D=0;(S=w.fog)?(ca.uniform3f(t,S.color.r,S.color.g,S.color.b),S.isFog?(ca.uniform1f(r,S.near),ca.uniform1f(u,S.far),ca.uniform1i(q,1),I=D=1):S.isFogExp2&&(ca.uniform1f(L,S.density),ca.uniform1i(q,
2),I=D=2)):(ca.uniform1i(q,0),I=D=0);for(var S=0,la=a.length;S<la;S++){var l=a[S];l.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,l.matrixWorld);l.z=-l.modelViewMatrix.elements[14]}a.sort(A);for(var oa=[],S=0,la=a.length;S<la;S++){l=a[S];var U=l.material;!1!==U.visible&&(ca.uniform1f(z,U.alphaTest),ca.uniformMatrix4fv(k,!1,l.modelViewMatrix.elements),l.matrixWorld.decompose(F,H,J),oa[0]=J.x,oa[1]=J.y,l=0,w.fog&&U.fog&&(l=I),D!==l&&(ca.uniform1i(q,l),D=l),null!==U.map?(ca.uniform2f(b,U.map.offset.x,
U.map.offset.y),ca.uniform2f(m,U.map.repeat.x,U.map.repeat.y)):(ca.uniform2f(b,0,0),ca.uniform2f(m,1,1)),ca.uniform1f(h,U.opacity),ca.uniform3f(f,U.color.r,U.color.g,U.color.b),ca.uniform1f(d,U.rotation),ca.uniform2fv(e,oa),y.setBlending(U.blending,U.blendEquation,U.blendSrc,U.blendDst),y.buffers.depth.setTest(U.depthTest),y.buffers.depth.setMask(U.depthWrite),U.map?c.setTexture2D(U.map,0):c.setTexture2D(G,0),ca.drawElements(ca.TRIANGLES,6,ca.UNSIGNED_SHORT,0))}y.enable(ca.CULL_FACE);c.resetGLState()}}}
function ha(){Object.defineProperty(this,"id",{value:Gf++});this.uuid=Ba.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.shading=2;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.colorWrite=
!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.overdraw=0;this.needsUpdate=this.visible=!0}function Da(c){ha.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=
1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==c&&(void 0!==c.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(c))}function gb(c){ha.call(this);this.type=
"MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(c)}function Ca(c,a){this.min=void 0!==c?c:new l(Infinity,Infinity,Infinity);this.max=void 0!==a?a:new l(-Infinity,-Infinity,-Infinity)}function Ia(c,a){this.center=void 0!==c?c:new l;this.radius=void 0!==a?a:0}function p(){this.elements=[1,0,
0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function F(c,a){this.normal=void 0!==c?c:new l(1,0,0);this.constant=void 0!==a?a:0}function W(c,a,b,v,d,e){this.planes=[void 0!==c?c:new F,void 0!==a?a:new F,void 0!==b?b:new F,void 0!==v?v:new F,void 0!==d?d:new F,void 0!==e?e:new F]}function ea(c,b,w,v){function m(a,b,m,w){var v=a.geometry;var d=Nb;var e=a.customDepthMaterial;m&&(d=z,e=a.customDistanceMaterial);e?d=e:
(e=!1,b.morphTargets&&(v&&v.isBufferGeometry?e=v.morphAttributes&&v.morphAttributes.position&&0<v.morphAttributes.position.length:v&&v.isGeometry&&(e=v.morphTargets&&0<v.morphTargets.length)),a.isSkinnedMesh&&!1===b.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",a),a=a.isSkinnedMesh&&b.skinning,v=0,e&&(v|=1),a&&(v|=2),d=d[v]);c.localClippingEnabled&&!0===b.clipShadows&&0!==b.clippingPlanes.length&&(v=d.uuid,e=b.uuid,a=jb[v],void 0===a&&(a={},
jb[v]=a),v=a[e],void 0===v&&(v=d.clone(),a[e]=v),d=v);d.visible=b.visible;d.wireframe=b.wireframe;e=b.side;F.renderSingleSided&&2==e&&(e=0);F.renderReverseSided&&(0===e?e=1:1===e&&(e=0));d.side=e;d.clipShadows=b.clipShadows;d.clippingPlanes=b.clippingPlanes;d.wireframeLinewidth=b.wireframeLinewidth;d.linewidth=b.linewidth;m&&void 0!==d.uniforms.lightPos&&d.uniforms.lightPos.value.copy(w);return d}function d(a,b,v,e){var f;if(!1!==a.visible){if(a.layers.test(b.layers)&&(a.isMesh||a.isLine||a.isPoints)&&
a.castShadow&&(!a.frustumCulled||g.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,a.matrixWorld);var D=w.update(a);var I=a.material;if(Array.isArray(I)){var S=D.groups;for(var h=0,k=S.length;h<k;h++){var la=S[h];(f=I[la.materialIndex])&&f.visible&&(f=m(a,f,e,x),c.renderBufferDirect(v,null,D,f,a,la))}}else I.visible&&(f=m(a,I,e,x),c.renderBufferDirect(v,null,D,f,a,null))}a=a.children;D=0;for(S=a.length;D<S;D++)d(a[D],b,v,e)}}var e=c.context,f=c.state,g=new W,k=new u,
n=b.shadows,p=new a,q=new a(v.maxTextureSize,v.maxTextureSize),r=new l,x=new l,Nb=Array(4),z=Array(4),jb={},kb=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],A=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],ca=[new h,new h,new h,new h,new h,new h];b=new gb;b.depthPacking=3201;b.clipping=!0;v=wc.distanceRGBA;for(var y=Fb.clone(v.uniforms),B=0;4!==B;++B){var E=0!==(B&1),C=0!==(B&2),G=b.clone();G.morphTargets=E;G.skinning=C;Nb[B]=
G;E=new Da({defines:{USE_SHADOWMAP:""},uniforms:y,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:E,skinning:C,clipping:!0});z[B]=E}var F=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(a,b){if(!1!==F.enabled&&(!1!==F.autoUpdate||!1!==F.needsUpdate)&&0!==n.length){f.disable(e.BLEND);f.buffers.color.setClear(1,1,1,1);f.buffers.depth.setTest(!0);f.setScissorTest(!1);for(var m,w,v=
0,D=n.length;v<D;v++){var I=n[v],S=I.shadow;if(void 0===S)console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");else{var h=S.camera,la=S.matrix;x.setFromMatrixPosition(I.matrixWorld);h.position.copy(x);p.copy(S.mapSize);p.min(q);if(I&&I.isPointLight){m=6;w=!0;var l=p.x,oa=p.y;ca[0].set(2*l,oa,l,oa);ca[1].set(0,oa,l,oa);ca[2].set(3*l,oa,l,oa);ca[3].set(l,oa,l,oa);ca[4].set(3*l,0,l,oa);ca[5].set(l,0,l,oa);p.x*=4;p.y*=2;la.makeTranslation(-x.x,-x.y,-x.z)}else m=1,w=!1,r.setFromMatrixPosition(I.target.matrixWorld),
h.lookAt(r),h.updateMatrixWorld(),h.matrixWorldInverse.getInverse(h.matrixWorld),la.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),la.multiply(h.projectionMatrix),la.multiply(h.matrixWorldInverse);null===S.map&&(S.map=new t(p.x,p.y,{minFilter:1003,magFilter:1003,format:1023}),S.map.texture.name=I.name+".shadowMap",h.updateProjectionMatrix());S.isSpotLightShadow&&S.update(I);c.setRenderTarget(S.map);c.clear();for(I=0;I<m;I++)w&&(r.copy(h.position),r.add(kb[I]),h.up.copy(A[I]),h.lookAt(r),h.updateMatrixWorld(),
h.matrixWorldInverse.getInverse(h.matrixWorld),f.viewport(ca[I])),k.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),g.setFromMatrix(k),d(a,b,h,w)}}m=c.getClearColor();w=c.getClearAlpha();c.setClearColor(m,w);F.needsUpdate=!1}}}function wa(c,a){this.origin=void 0!==c?c:new l;this.direction=void 0!==a?a:new l}function Aa(c,a,b,v){this._x=c||0;this._y=a||0;this._z=b||0;this._order=v||Aa.DefaultOrder}function tb(){this.mask=1}function R(){Object.defineProperty(this,"id",{value:Hf++});this.uuid=
Ba.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=R.DefaultUp.clone();var c=new l,a=new Aa,b=new x,v=new l(1,1,1);a.onChange(function(){b.setFromEuler(a,!1)});b.onChange(function(){a.setFromQuaternion(b,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:c},rotation:{enumerable:!0,value:a},quaternion:{enumerable:!0,value:b},scale:{enumerable:!0,value:v},modelViewMatrix:{value:new u},normalMatrix:{value:new p}});this.matrix=new u;this.matrixWorld=
new u;this.matrixAutoUpdate=R.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new tb;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={};this.onBeforeRender=function(){};this.onAfterRender=function(){}}function qb(c,a){this.start=void 0!==c?c:new l;this.end=void 0!==a?a:new l}function Sa(c,a,b){this.a=void 0!==c?c:new l;this.b=void 0!==a?a:new l;this.c=void 0!==b?b:new l}function mb(c,a,b,v,d,e){this.a=c;this.b=a;this.c=
b;this.normal=v&&v.isVector3?v:new l;this.vertexNormals=Array.isArray(v)?v:[];this.color=d&&d.isColor?d:new G;this.vertexColors=Array.isArray(d)?d:[];this.materialIndex=void 0!==e?e:0}function db(c){ha.call(this);this.type="MeshBasicMaterial";this.color=new G(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(c)}function ka(c,a,b){if(Array.isArray(c))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ba.generateUUID();this.array=c;this.itemSize=a;this.count=void 0!==c?c.length/a:0;this.normalized=!0===b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}function ub(c,a){ka.call(this,new Int8Array(c),
a)}function Jb(c,a){ka.call(this,new Uint8Array(c),a)}function ya(c,a){ka.call(this,new Uint8ClampedArray(c),a)}function nb(c,a){ka.call(this,new Int16Array(c),a)}function Ga(c,a){ka.call(this,new Uint16Array(c),a)}function $a(c,a){ka.call(this,new Int32Array(c),a)}function Ja(c,a){ka.call(this,new Uint32Array(c),a)}function ga(c,a){ka.call(this,new Float32Array(c),a)}function ib(c,a){ka.call(this,new Float64Array(c),a)}function za(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];
this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Cb(c){if(0===c.length)return-Infinity;for(var a=c[0],b=1,v=c.length;b<v;++b)c[b]>a&&(a=c[b]);return a}function X(){Object.defineProperty(this,"id",{value:De++});this.uuid=Ba.generateUUID();this.name="";this.type="Geometry";this.vertices=
[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function ia(){Object.defineProperty(this,"id",{value:De++});this.uuid=Ba.generateUUID();this.name="";this.type="BufferGeometry";this.index=
null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}}function Ta(c,a){R.call(this);this.type="Mesh";this.geometry=void 0!==c?c:new ia;this.material=void 0!==a?a:new db({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function Db(c,a,b,v,d,e){X.call(this);this.type="BoxGeometry";this.parameters={width:c,height:a,depth:b,widthSegments:v,heightSegments:d,depthSegments:e};this.fromBufferGeometry(new Ua(c,
a,b,v,d,e));this.mergeVertices()}function Ua(c,a,b,v,d,e){function m(c,a,b,m,v,d,e,S,la,oa,n){var U=d/la,p=e/oa,q=d/2,L=e/2,pb=S/2;e=la+1;var hb=oa+1,r=d=0,u,cb,t=new l;for(cb=0;cb<hb;cb++){var jb=cb*p-L;for(u=0;u<e;u++)t[c]=(u*U-q)*m,t[a]=jb*v,t[b]=pb,D.push(t.x,t.y,t.z),t[c]=0,t[a]=0,t[b]=0<S?1:-1,g.push(t.x,t.y,t.z),I.push(u/la),I.push(1-cb/oa),d+=1}for(cb=0;cb<oa;cb++)for(u=0;u<la;u++)c=h+u+e*(cb+1),a=h+(u+1)+e*(cb+1),b=h+(u+1)+e*cb,f.push(h+u+e*cb,c,b),f.push(c,a,b),r+=6;w.addGroup(k,r,n);k+=
r;h+=d}ia.call(this);this.type="BoxBufferGeometry";this.parameters={width:c,height:a,depth:b,widthSegments:v,heightSegments:d,depthSegments:e};var w=this;v=Math.floor(v)||1;d=Math.floor(d)||1;e=Math.floor(e)||1;var f=[],D=[],g=[],I=[],h=0,k=0;m("z","y","x",-1,-1,b,a,c,e,d,0);m("z","y","x",1,-1,b,a,-c,e,d,1);m("x","z","y",1,1,c,b,a,v,e,2);m("x","z","y",1,-1,c,b,-a,v,e,3);m("x","y","z",1,-1,c,a,b,v,d,4);m("x","y","z",-1,-1,c,a,-b,v,d,5);this.setIndex(f);this.addAttribute("position",new ga(D,3));this.addAttribute("normal",
new ga(g,3));this.addAttribute("uv",new ga(I,2))}function Kb(c,a,b,v){X.call(this);this.type="PlaneGeometry";this.parameters={width:c,height:a,widthSegments:b,heightSegments:v};this.fromBufferGeometry(new lb(c,a,b,v));this.mergeVertices()}function lb(c,a,b,v){ia.call(this);this.type="PlaneBufferGeometry";this.parameters={width:c,height:a,widthSegments:b,heightSegments:v};var m=c/2,w=a/2;b=Math.floor(b)||1;v=Math.floor(v)||1;var d=b+1,e=v+1,f=c/b,g=a/v,h=[],k=[],l=[],n=[];for(c=0;c<e;c++){var p=c*
g-w;for(a=0;a<d;a++)k.push(a*f-m,-p,0),l.push(0,0,1),n.push(a/b),n.push(1-c/v)}for(c=0;c<v;c++)for(a=0;a<b;a++)m=a+d*(c+1),w=a+1+d*(c+1),e=a+1+d*c,h.push(a+d*c,m,e),h.push(m,w,e);this.setIndex(h);this.addAttribute("position",new ga(k,3));this.addAttribute("normal",new ga(l,3));this.addAttribute("uv",new ga(n,2))}function ab(){R.call(this);this.type="Camera";this.matrixWorldInverse=new u;this.projectionMatrix=new u}function bb(c,a,b,v){ab.call(this);this.type="PerspectiveCamera";this.fov=void 0!==
c?c:50;this.zoom=1;this.near=void 0!==b?b:.1;this.far=void 0!==v?v:2E3;this.focus=10;this.aspect=void 0!==a?a:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function Qb(c,a,b,v,d,e){ab.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=c;this.right=a;this.top=b;this.bottom=v;this.near=void 0!==d?d:.1;this.far=void 0!==e?e:2E3;this.updateProjectionMatrix()}function yb(c){var a={};return{get:function(c){c.isInterleavedBufferAttribute&&
(c=c.data);return a[c.uuid]},remove:function(b){var m=a[b.uuid];m&&(c.deleteBuffer(m.buffer),delete a[b.uuid])},update:function(b,m){b.isInterleavedBufferAttribute&&(b=b.data);var w=a[b.uuid];if(void 0===w){var w=b.uuid,v=b,d=v.array,e=v.dynamic?c.DYNAMIC_DRAW:c.STATIC_DRAW,f=c.createBuffer();c.bindBuffer(m,f);c.bufferData(m,d,e);v.onUploadCallback();e=c.FLOAT;d instanceof Float32Array?e=c.FLOAT:d instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):d instanceof Uint16Array?
e=c.UNSIGNED_SHORT:d instanceof Int16Array?e=c.SHORT:d instanceof Uint32Array?e=c.UNSIGNED_INT:d instanceof Int32Array?e=c.INT:d instanceof Int8Array?e=c.BYTE:d instanceof Uint8Array&&(e=c.UNSIGNED_BYTE);a[w]={buffer:f,type:e,bytesPerElement:d.BYTES_PER_ELEMENT,version:v.version}}else w.version<b.version&&(v=b,d=v.array,f=v.updateRange,c.bindBuffer(m,w.buffer),!1===v.dynamic?c.bufferData(m,d,c.STATIC_DRAW):-1===f.count?c.bufferSubData(m,0,d):0===f.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(c.bufferSubData(m,f.offset*d.BYTES_PER_ELEMENT,d.subarray(f.offset,f.offset+f.count)),f.count=0),w.version=b.version)}}}function Eb(c,a){return c.renderOrder!==a.renderOrder?c.renderOrder-a.renderOrder:c.program&&a.program&&c.program!==a.program?c.program.id-a.program.id:c.material.id!==a.material.id?c.material.id-a.material.id:c.z!==a.z?c.z-a.z:c.id-a.id}function pc(c,a){return c.renderOrder!==a.renderOrder?c.renderOrder-a.renderOrder:c.z!==a.z?a.z-c.z:c.id-a.id}function Gb(){var c=[],a=-1,b=[],
v=-1;return{opaque:c,transparent:b,init:function(){v=a=-1},push:function(m,w,d,e,f){if(d.transparent){var D=b;var g=++v}else D=c,g=++a;(g=D[g])?(g.id=m.id,g.object=m,g.geometry=w,g.material=d,g.program=d.program,g.renderOrder=m.renderOrder,g.z=e,g.group=f):(g={id:m.id,object:m,geometry:w,material:d,program:d.program,renderOrder:m.renderOrder,z:e,group:f},D.push(g))},finish:function(){c.length=a+1;b.length=v+1},sort:function(){c.sort(Eb);b.sort(pc)}}}function qc(){var c={};return{get:function(a,b){var m=
a.id+","+b.id,w=c[m];void 0===w&&(w=new Gb,c[m]=w);return w},dispose:function(){c={}}}}function gc(c,a,b){var m,w,d;this.setMode=function(c){m=c};this.setIndex=function(b){b.array instanceof Uint32Array&&a.get("OES_element_index_uint")?(w=c.UNSIGNED_INT,d=4):b.array instanceof Uint16Array?(w=c.UNSIGNED_SHORT,d=2):(w=c.UNSIGNED_BYTE,d=1)};this.render=function(a,v){c.drawElements(m,v,w,a*d);b.calls++;b.vertices+=v;m===c.TRIANGLES&&(b.faces+=v/3)};this.renderInstances=function(v,e,f){var D=a.get("ANGLE_instanced_arrays");
null===D?console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(D.drawElementsInstancedANGLE(m,f,w,e*d,v.maxInstancedCount),b.calls++,b.vertices+=f*v.maxInstancedCount,m===c.TRIANGLES&&(b.faces+=v.maxInstancedCount*f/3))}}function cc(c,a,b){var m;this.setMode=function(c){m=c};this.render=function(a,w){c.drawArrays(m,a,w);b.calls++;b.vertices+=w;m===c.TRIANGLES&&(b.faces+=w/3)};this.renderInstances=function(w,
v,d){var e=a.get("ANGLE_instanced_arrays");if(null===e)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var f=w.attributes.position;f.isInterleavedBufferAttribute?(d=f.data.count,e.drawArraysInstancedANGLE(m,0,d,w.maxInstancedCount)):e.drawArraysInstancedANGLE(m,v,d,w.maxInstancedCount);b.calls++;b.vertices+=d*w.maxInstancedCount;m===c.TRIANGLES&&(b.faces+=w.maxInstancedCount*d/3)}}}function jc(c,a,
b){function m(c){c=c.target;var v=w[c.id];null!==v.index&&a.remove(v.index);for(var e in v.attributes)a.remove(v.attributes[e]);c.removeEventListener("dispose",m);delete w[c.id];if(e=d[c.id])a.remove(e),delete d[c.id];if(e=d[v.id])a.remove(e),delete d[v.id];b.geometries--}var w={},d={};return{get:function(c,a){var v=w[a.id];if(v)return v;a.addEventListener("dispose",m);a.isBufferGeometry?v=a:a.isGeometry&&(void 0===a._bufferGeometry&&(a._bufferGeometry=(new ia).setFromObject(c)),v=a._bufferGeometry);
w[a.id]=v;b.geometries++;return v},update:function(b){var m=b.index,w=b.attributes;null!==m&&a.update(m,c.ELEMENT_ARRAY_BUFFER);for(var v in w)a.update(w[v],c.ARRAY_BUFFER);b=b.morphAttributes;for(v in b)for(var m=b[v],w=0,d=m.length;w<d;w++)a.update(m[w],c.ARRAY_BUFFER)},getWireframeAttribute:function(b){var m=d[b.id];if(m)return m;m=[];var w=b.index;var v=b.attributes;if(null!==w){var e=w.array;for(var f=0,D=e.length;f<D;f+=3){var g=e[f+0];v=e[f+1];w=e[f+2];m.push(g,v,v,w,w,g)}}else for(e=v.position.array,
f=0,D=e.length/3-1;f<D;f+=3)g=f+0,v=f+1,w=f+2,m.push(g,v,v,w,w,g);m=new (65535<Cb(m)?Ja:Ga)(m,1);a.update(m,c.ELEMENT_ARRAY_BUFFER);return d[b.id]=m}}}function Rb(){var c={};return{get:function(b){if(void 0!==c[b.id])return c[b.id];switch(b.type){case "DirectionalLight":var m={direction:new l,color:new G,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new a};break;case "SpotLight":m={position:new l,direction:new l,color:new G,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,
shadowMapSize:new a};break;case "PointLight":m={position:new l,color:new G,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new a};break;case "HemisphereLight":m={direction:new l,skyColor:new G,groundColor:new G};break;case "RectAreaLight":m={color:new G,position:new l,halfWidth:new l,halfHeight:new l}}return c[b.id]=m}}}function rc(c,a,b){var m={};return{update:function(c){var w=b.frame,v=c.geometry,d=a.get(c,v);m[d.id]!==w&&(v.isGeometry&&d.updateFromObject(c),a.update(d),
m[d.id]=w);return d},clear:function(){m={}}}}function sc(c){c=c.split("\n");for(var a=0;a<c.length;a++)c[a]=a+1+": "+c[a];return c.join("\n")}function dc(c,a,b){var m=c.createShader(a);c.shaderSource(m,b);c.compileShader(m);!1===c.getShaderParameter(m,c.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==c.getShaderInfoLog(m)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",a===c.VERTEX_SHADER?"vertex":"fragment",c.getShaderInfoLog(m),sc(b));return m}function ob(c){switch(c){case 3E3:return["Linear",
"( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+c);}}function Lb(c,a){var b=ob(a);return"vec4 "+c+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}function Wb(c,a){var b=ob(a);return"vec4 "+c+"( vec4 value ) { return LinearTo"+
b[0]+b[1]+"; }"}function Vb(c,a){switch(a){case 1:var b="Linear";break;case 2:b="Reinhard";break;case 3:b="Uncharted2";break;case 4:b="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+a);}return"vec3 "+c+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function Mb(c,a,b){c=c||{};return[c.derivatives||a.envMapCubeUV||a.bumpMap||a.normalMap||a.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(c.fragDepth||a.logarithmicDepthBuffer)&&b.get("EXT_frag_depth")?
"#extension GL_EXT_frag_depth : enable":"",c.drawBuffers&&b.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(c.shaderTextureLOD||a.envMap)&&b.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(B).join("\n")}function r(c){var a=[],b;for(b in c){var v=c[b];!1!==v&&a.push("#define "+b+" "+v)}return a.join("\n")}function B(c){return""!==c}function ja(c,a){return c.replace(/NUM_DIR_LIGHTS/g,a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,a.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,
a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,a.numHemiLights)}function H(c){return c.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(c,a){var b=Ma[a];if(void 0===b)throw Error("Can not resolve #include <"+a+">");return H(b)})}function Ea(c){return c.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(c,a,b,d){c="";for(a=parseInt(a);a<parseInt(b);a++)c+=d.replace(/\[ i \]/g,"[ "+a+" ]");return c})}function q(c,a,
b,v){var m=c.context,w=b.extensions,d=b.defines,e=b.__webglShader.vertexShader,f=b.__webglShader.fragmentShader,g="SHADOWMAP_TYPE_BASIC";1===v.shadowMapType?g="SHADOWMAP_TYPE_PCF":2===v.shadowMapType&&(g="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",k="ENVMAP_MODE_REFLECTION",l="ENVMAP_BLENDING_MULTIPLY";if(v.envMap){switch(b.envMap.mapping){case 301:case 302:h="ENVMAP_TYPE_CUBE";break;case 306:case 307:h="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:h="ENVMAP_TYPE_EQUIREC";break;case 305:h=
"ENVMAP_TYPE_SPHERE"}switch(b.envMap.mapping){case 302:case 304:k="ENVMAP_MODE_REFRACTION"}switch(b.combine){case 0:l="ENVMAP_BLENDING_MULTIPLY";break;case 1:l="ENVMAP_BLENDING_MIX";break;case 2:l="ENVMAP_BLENDING_ADD"}}var n=0<c.gammaFactor?c.gammaFactor:1,w=Mb(w,v,c.extensions),p=r(d),q=m.createProgram();b.isRawShaderMaterial?(d=[p,"\n"].filter(B).join("\n"),g=[w,p,"\n"].filter(B).join("\n")):(d=["precision "+v.precision+" float;","precision "+v.precision+" int;","#define SHADER_NAME "+b.__webglShader.name,
p,v.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+n,"#define MAX_BONES "+v.maxBones,v.useFog&&v.fog?"#define USE_FOG":"",v.useFog&&v.fogExp?"#define FOG_EXP2":"",v.map?"#define USE_MAP":"",v.envMap?"#define USE_ENVMAP":"",v.envMap?"#define "+k:"",v.lightMap?"#define USE_LIGHTMAP":"",v.aoMap?"#define USE_AOMAP":"",v.emissiveMap?"#define USE_EMISSIVEMAP":"",v.bumpMap?"#define USE_BUMPMAP":"",v.normalMap?"#define USE_NORMALMAP":"",v.displacementMap&&v.supportsVertexTextures?
"#define USE_DISPLACEMENTMAP":"",v.specularMap?"#define USE_SPECULARMAP":"",v.roughnessMap?"#define USE_ROUGHNESSMAP":"",v.metalnessMap?"#define USE_METALNESSMAP":"",v.alphaMap?"#define USE_ALPHAMAP":"",v.vertexColors?"#define USE_COLOR":"",v.flatShading?"#define FLAT_SHADED":"",v.skinning?"#define USE_SKINNING":"",v.useVertexTexture?"#define BONE_TEXTURE":"",v.morphTargets?"#define USE_MORPHTARGETS":"",v.morphNormals&&!1===v.flatShading?"#define USE_MORPHNORMALS":"",v.doubleSided?"#define DOUBLE_SIDED":
"",v.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+v.numClippingPlanes,v.shadowMapEnabled?"#define USE_SHADOWMAP":"",v.shadowMapEnabled?"#define "+g:"",v.sizeAttenuation?"#define USE_SIZEATTENUATION":"",v.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",v.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;",
"uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;",
"\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(B).join("\n"),g=[w,"precision "+v.precision+" float;","precision "+v.precision+" int;","#define SHADER_NAME "+b.__webglShader.name,p,v.alphaTest?"#define ALPHATEST "+v.alphaTest:"","#define GAMMA_FACTOR "+n,v.useFog&&v.fog?"#define USE_FOG":"",v.useFog&&v.fogExp?"#define FOG_EXP2":
"",v.map?"#define USE_MAP":"",v.envMap?"#define USE_ENVMAP":"",v.envMap?"#define "+h:"",v.envMap?"#define "+k:"",v.envMap?"#define "+l:"",v.lightMap?"#define USE_LIGHTMAP":"",v.aoMap?"#define USE_AOMAP":"",v.emissiveMap?"#define USE_EMISSIVEMAP":"",v.bumpMap?"#define USE_BUMPMAP":"",v.normalMap?"#define USE_NORMALMAP":"",v.specularMap?"#define USE_SPECULARMAP":"",v.roughnessMap?"#define USE_ROUGHNESSMAP":"",v.metalnessMap?"#define USE_METALNESSMAP":"",v.alphaMap?"#define USE_ALPHAMAP":"",v.vertexColors?
"#define USE_COLOR":"",v.gradientMap?"#define USE_GRADIENTMAP":"",v.flatShading?"#define FLAT_SHADED":"",v.doubleSided?"#define DOUBLE_SIDED":"",v.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+v.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(v.numClippingPlanes-v.numClipIntersection),v.shadowMapEnabled?"#define USE_SHADOWMAP":"",v.shadowMapEnabled?"#define "+g:"",v.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",v.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":
"",v.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",v.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",v.envMap&&c.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==v.toneMapping?"#define TONE_MAPPING":"",0!==v.toneMapping?Ma.tonemapping_pars_fragment:"",0!==v.toneMapping?Vb("toneMapping",v.toneMapping):"",v.dithering?"#define DITHERING":"",v.outputEncoding||v.mapEncoding||
v.envMapEncoding||v.emissiveMapEncoding?Ma.encodings_pars_fragment:"",v.mapEncoding?Lb("mapTexelToLinear",v.mapEncoding):"",v.envMapEncoding?Lb("envMapTexelToLinear",v.envMapEncoding):"",v.emissiveMapEncoding?Lb("emissiveMapTexelToLinear",v.emissiveMapEncoding):"",v.outputEncoding?Wb("linearToOutputTexel",v.outputEncoding):"",v.depthPacking?"#define DEPTH_PACKING "+b.depthPacking:"","\n"].filter(B).join("\n"));e=H(e,v);e=ja(e,v);f=H(f,v);f=ja(f,v);b.isShaderMaterial||(e=Ea(e),f=Ea(f));f=g+f;e=dc(m,
m.VERTEX_SHADER,d+e);f=dc(m,m.FRAGMENT_SHADER,f);m.attachShader(q,e);m.attachShader(q,f);void 0!==b.index0AttributeName?m.bindAttribLocation(q,0,b.index0AttributeName):!0===v.morphTargets&&m.bindAttribLocation(q,0,"position");m.linkProgram(q);v=m.getProgramInfoLog(q);h=m.getShaderInfoLog(e);k=m.getShaderInfoLog(f);n=l=!0;if(!1===m.getProgramParameter(q,m.LINK_STATUS))l=!1,console.error("THREE.WebGLProgram: shader error: ",m.getError(),"gl.VALIDATE_STATUS",m.getProgramParameter(q,m.VALIDATE_STATUS),
"gl.getProgramInfoLog",v,h,k);else if(""!==v)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",v);else if(""===h||""===k)n=!1;n&&(this.diagnostics={runnable:l,material:b,programLog:v,vertexShader:{log:h,prefix:d},fragmentShader:{log:k,prefix:g}});m.deleteShader(e);m.deleteShader(f);var u;this.getUniforms=function(){void 0===u&&(u=new La(m,q,c));return u};var t;this.getAttributes=function(){if(void 0===t){for(var c={},a=m.getProgramParameter(q,m.ACTIVE_ATTRIBUTES),b=0;b<a;b++){var w=m.getActiveAttrib(q,
b).name;c[w]=m.getAttribLocation(q,w)}t=c}return t};this.destroy=function(){m.deleteProgram(q);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=If++;this.code=a;this.usedTimes=1;this.program=q;this.vertexShader=e;this.fragmentShader=f;return this}
function k(c,a){function b(c,a){if(c)c.isTexture?b=c.encoding:c.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),b=c.texture.encoding);else var b=3E3;3E3===b&&a&&(b=3007);return b}var m=[],d={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",
LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},e="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");
this.getParameters=function(m,w,v,e,f,D){var g=d[m.type];if(D.isSkinnedMesh){var I=D.skeleton.bones;if(a.floatVertexTextures)I=1024;else{var S=Math.min(Math.floor((a.maxVertexUniforms-20)/4),I.length);S<I.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+I.length+" bones. This GPU supports "+S+"."),I=0):I=S}}else I=0;S=c.getPrecision();null!==m.precision&&(S=a.getMaxPrecision(m.precision),S!==m.precision&&console.warn("THREE.WebGLProgram.getParameters:",m.precision,"not supported, using",
S,"instead."));var h=c.getRenderTarget();return{shaderID:g,precision:S,supportsVertexTextures:a.vertexTextures,outputEncoding:b(h?h.texture:null,c.gammaOutput),map:!!m.map,mapEncoding:b(m.map,c.gammaInput),envMap:!!m.envMap,envMapMode:m.envMap&&m.envMap.mapping,envMapEncoding:b(m.envMap,c.gammaInput),envMapCubeUV:!!m.envMap&&(306===m.envMap.mapping||307===m.envMap.mapping),lightMap:!!m.lightMap,aoMap:!!m.aoMap,emissiveMap:!!m.emissiveMap,emissiveMapEncoding:b(m.emissiveMap,c.gammaInput),bumpMap:!!m.bumpMap,
normalMap:!!m.normalMap,displacementMap:!!m.displacementMap,roughnessMap:!!m.roughnessMap,metalnessMap:!!m.metalnessMap,specularMap:!!m.specularMap,alphaMap:!!m.alphaMap,gradientMap:!!m.gradientMap,combine:m.combine,vertexColors:m.vertexColors,fog:!!v,useFog:m.fog,fogExp:v&&v.isFogExp2,flatShading:1===m.shading,sizeAttenuation:m.sizeAttenuation,logarithmicDepthBuffer:a.logarithmicDepthBuffer,skinning:m.skinning&&0<I,maxBones:I,useVertexTexture:a.floatVertexTextures,morphTargets:m.morphTargets,morphNormals:m.morphNormals,
maxMorphTargets:c.maxMorphTargets,maxMorphNormals:c.maxMorphNormals,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numClippingPlanes:e,numClipIntersection:f,dithering:m.dithering,shadowMapEnabled:c.shadowMap.enabled&&D.receiveShadow&&0<w.shadows.length,shadowMapType:c.shadowMap.type,toneMapping:c.toneMapping,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:m.premultipliedAlpha,
alphaTest:m.alphaTest,doubleSided:2===m.side,flipSided:1===m.side,depthPacking:void 0!==m.depthPacking?m.depthPacking:!1}};this.getProgramCode=function(c,a){var b=[];a.shaderID?b.push(a.shaderID):(b.push(c.fragmentShader),b.push(c.vertexShader));if(void 0!==c.defines)for(var m in c.defines)b.push(m),b.push(c.defines[m]);for(m=0;m<e.length;m++)b.push(a[e[m]]);return b.join()};this.acquireProgram=function(a,b,w){for(var v,d=0,e=m.length;d<e;d++){var f=m[d];if(f.code===w){v=f;++v.usedTimes;break}}void 0===
v&&(v=new q(c,w,a,b),m.push(v));return v};this.releaseProgram=function(c){if(0===--c.usedTimes){var a=m.indexOf(c);m[a]=m[m.length-1];m.pop();c.destroy()}};this.programs=m}function O(c,a,b,v,d,e,f){function m(c,a){if(c.width>a||c.height>a){var b=a/Math.max(c.width,c.height),m=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");m.width=Math.floor(c.width*b);m.height=Math.floor(c.height*b);m.getContext("2d").drawImage(c,0,0,c.width,c.height,0,0,m.width,m.height);console.warn("THREE.WebGLRenderer: image is too big ("+
c.width+"x"+c.height+"). Resized to "+m.width+"x"+m.height,c);return m}return c}function w(c){return Ba.isPowerOfTwo(c.width)&&Ba.isPowerOfTwo(c.height)}function D(a){return 1003===a||1004===a||1005===a?c.NEAREST:c.LINEAR}function g(a){a=a.target;a.removeEventListener("dispose",g);a:{var b=v.get(a);if(a.image&&b.__image__webglTextureCube)c.deleteTexture(b.__image__webglTextureCube);else{if(void 0===b.__webglInit)break a;c.deleteTexture(b.__webglTexture)}v.remove(a)}f.textures--}function I(a){a=a.target;
a.removeEventListener("dispose",I);var b=v.get(a),m=v.get(a.texture);if(a){void 0!==m.__webglTexture&&c.deleteTexture(m.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a.isWebGLRenderTargetCube)for(m=0;6>m;m++)c.deleteFramebuffer(b.__webglFramebuffer[m]),b.__webglDepthbuffer&&c.deleteRenderbuffer(b.__webglDepthbuffer[m]);else c.deleteFramebuffer(b.__webglFramebuffer),b.__webglDepthbuffer&&c.deleteRenderbuffer(b.__webglDepthbuffer);v.remove(a.texture);v.remove(a)}f.textures--}function S(a,
D){var I=v.get(a);if(0<a.version&&I.__version!==a.version){var S=a.image;if(void 0===S)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",a);else if(!1===S.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",a);else{void 0===I.__webglInit&&(I.__webglInit=!0,a.addEventListener("dispose",g),I.__webglTexture=c.createTexture(),f.textures++);b.activeTexture(c.TEXTURE0+D);b.bindTexture(c.TEXTURE_2D,I.__webglTexture);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,
a.flipY);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);c.pixelStorei(c.UNPACK_ALIGNMENT,a.unpackAlignment);var k=m(a.image,d.maxTextureSize);if((1001!==a.wrapS||1001!==a.wrapT||1003!==a.minFilter&&1006!==a.minFilter)&&!1===w(k))if(S=k,S instanceof HTMLImageElement||S instanceof HTMLCanvasElement){var l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");l.width=Ba.nearestPowerOfTwo(S.width);l.height=Ba.nearestPowerOfTwo(S.height);l.getContext("2d").drawImage(S,0,
0,l.width,l.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+S.width+"x"+S.height+"). Resized to "+l.width+"x"+l.height,S);k=l}else k=S;var S=w(k),l=e(a.format),la=e(a.type);h(c.TEXTURE_2D,a,S);var U=a.mipmaps;if(a.isDepthTexture){U=c.DEPTH_COMPONENT;if(1015===a.type){if(!n)throw Error("Float Depth Texture only supported in WebGL2.0");U=c.DEPTH_COMPONENT32F}else n&&(U=c.DEPTH_COMPONENT16);1026===a.format&&U===c.DEPTH_COMPONENT&&1012!==a.type&&1014!==a.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
a.type=1012,la=e(a.type));1027===a.format&&(U=c.DEPTH_STENCIL,1020!==a.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),a.type=1020,la=e(a.type)));b.texImage2D(c.TEXTURE_2D,0,U,k.width,k.height,0,l,la,null)}else if(a.isDataTexture)if(0<U.length&&S){for(var oa=0,p=U.length;oa<p;oa++)k=U[oa],b.texImage2D(c.TEXTURE_2D,oa,l,k.width,k.height,0,l,la,k.data);a.generateMipmaps=!1}else b.texImage2D(c.TEXTURE_2D,0,l,k.width,k.height,0,l,la,k.data);else if(a.isCompressedTexture)for(oa=
0,p=U.length;oa<p;oa++)k=U[oa],1023!==a.format&&1022!==a.format?-1<b.getCompressedTextureFormats().indexOf(l)?b.compressedTexImage2D(c.TEXTURE_2D,oa,l,k.width,k.height,0,k.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b.texImage2D(c.TEXTURE_2D,oa,l,k.width,k.height,0,l,la,k.data);else if(0<U.length&&S){oa=0;for(p=U.length;oa<p;oa++)k=U[oa],b.texImage2D(c.TEXTURE_2D,oa,l,l,la,k);a.generateMipmaps=!1}else b.texImage2D(c.TEXTURE_2D,
0,l,l,la,k);a.generateMipmaps&&S&&c.generateMipmap(c.TEXTURE_2D);I.__version=a.version;if(a.onUpdate)a.onUpdate(a);return}}b.activeTexture(c.TEXTURE0+D);b.bindTexture(c.TEXTURE_2D,I.__webglTexture)}function h(b,m,w){w?(c.texParameteri(b,c.TEXTURE_WRAP_S,e(m.wrapS)),c.texParameteri(b,c.TEXTURE_WRAP_T,e(m.wrapT)),c.texParameteri(b,c.TEXTURE_MAG_FILTER,e(m.magFilter)),c.texParameteri(b,c.TEXTURE_MIN_FILTER,e(m.minFilter))):(c.texParameteri(b,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(b,c.TEXTURE_WRAP_T,
c.CLAMP_TO_EDGE),1001===m.wrapS&&1001===m.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",m),c.texParameteri(b,c.TEXTURE_MAG_FILTER,D(m.magFilter)),c.texParameteri(b,c.TEXTURE_MIN_FILTER,D(m.minFilter)),1003!==m.minFilter&&1006!==m.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",m));!(w=a.get("EXT_texture_filter_anisotropic"))||
1015===m.type&&null===a.get("OES_texture_float_linear")||1016===m.type&&null===a.get("OES_texture_half_float_linear")||!(1<m.anisotropy||v.get(m).__currentAnisotropy)||(c.texParameterf(b,w.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(m.anisotropy,d.getMaxAnisotropy())),v.get(m).__currentAnisotropy=m.anisotropy)}function k(a,m,w,d){var f=e(m.texture.format),D=e(m.texture.type);b.texImage2D(d,0,f,m.width,m.height,0,f,D,null);c.bindFramebuffer(c.FRAMEBUFFER,a);c.framebufferTexture2D(c.FRAMEBUFFER,w,d,v.get(m.texture).__webglTexture,
0);c.bindFramebuffer(c.FRAMEBUFFER,null)}function l(a,b){c.bindRenderbuffer(c.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,b.width,b.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,b.width,b.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,a)):c.renderbufferStorage(c.RENDERBUFFER,
c.RGBA4,b.width,b.height);c.bindRenderbuffer(c.RENDERBUFFER,null)}var n="undefined"!==typeof WebGL2RenderingContext&&c instanceof WebGL2RenderingContext;this.setTexture2D=S;this.setTextureCube=function(a,D){var I=v.get(a);if(6===a.image.length)if(0<a.version&&I.__version!==a.version){I.__image__webglTextureCube||(a.addEventListener("dispose",g),I.__image__webglTextureCube=c.createTexture(),f.textures++);b.activeTexture(c.TEXTURE0+D);b.bindTexture(c.TEXTURE_CUBE_MAP,I.__image__webglTextureCube);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,
a.flipY);for(var S=a&&a.isCompressedTexture,k=a.image[0]&&a.image[0].isDataTexture,l=[],la=0;6>la;la++)l[la]=S||k?k?a.image[la].image:a.image[la]:m(a.image[la],d.maxCubemapSize);var n=w(l[0]),U=e(a.format),oa=e(a.type);h(c.TEXTURE_CUBE_MAP,a,n);for(la=0;6>la;la++)if(S)for(var p,q=l[la].mipmaps,L=0,r=q.length;L<r;L++)p=q[L],1023!==a.format&&1022!==a.format?-1<b.getCompressedTextureFormats().indexOf(U)?b.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+la,L,U,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):
b.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+la,L,U,p.width,p.height,0,U,oa,p.data);else k?b.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+la,0,U,l[la].width,l[la].height,0,U,oa,l[la].data):b.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+la,0,U,U,oa,l[la]);a.generateMipmaps&&n&&c.generateMipmap(c.TEXTURE_CUBE_MAP);I.__version=a.version;if(a.onUpdate)a.onUpdate(a)}else b.activeTexture(c.TEXTURE0+D),b.bindTexture(c.TEXTURE_CUBE_MAP,I.__image__webglTextureCube)};this.setTextureCubeDynamic=function(a,m){b.activeTexture(c.TEXTURE0+
m);b.bindTexture(c.TEXTURE_CUBE_MAP,v.get(a).__webglTexture)};this.setupRenderTarget=function(a){var m=v.get(a),d=v.get(a.texture);a.addEventListener("dispose",I);d.__webglTexture=c.createTexture();f.textures++;var e=!0===a.isWebGLRenderTargetCube,D=w(a);if(e){m.__webglFramebuffer=[];for(var g=0;6>g;g++)m.__webglFramebuffer[g]=c.createFramebuffer()}else m.__webglFramebuffer=c.createFramebuffer();if(e){b.bindTexture(c.TEXTURE_CUBE_MAP,d.__webglTexture);h(c.TEXTURE_CUBE_MAP,a.texture,D);for(g=0;6>g;g++)k(m.__webglFramebuffer[g],
a,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+g);a.texture.generateMipmaps&&D&&c.generateMipmap(c.TEXTURE_CUBE_MAP);b.bindTexture(c.TEXTURE_CUBE_MAP,null)}else b.bindTexture(c.TEXTURE_2D,d.__webglTexture),h(c.TEXTURE_2D,a.texture,D),k(m.__webglFramebuffer,a,c.COLOR_ATTACHMENT0,c.TEXTURE_2D),a.texture.generateMipmaps&&D&&c.generateMipmap(c.TEXTURE_2D),b.bindTexture(c.TEXTURE_2D,null);if(a.depthBuffer){m=v.get(a);d=!0===a.isWebGLRenderTargetCube;if(a.depthTexture){if(d)throw Error("target.depthTexture not supported in Cube render targets");
if(a&&a.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");c.bindFramebuffer(c.FRAMEBUFFER,m.__webglFramebuffer);if(!a.depthTexture||!a.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");v.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=
!0);S(a.depthTexture,0);m=v.get(a.depthTexture).__webglTexture;if(1026===a.depthTexture.format)c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,m,0);else if(1027===a.depthTexture.format)c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,m,0);else throw Error("Unknown depthTexture format");}else if(d)for(m.__webglDepthbuffer=[],d=0;6>d;d++)c.bindFramebuffer(c.FRAMEBUFFER,m.__webglFramebuffer[d]),m.__webglDepthbuffer[d]=c.createRenderbuffer(),l(m.__webglDepthbuffer[d],
a);else c.bindFramebuffer(c.FRAMEBUFFER,m.__webglFramebuffer),m.__webglDepthbuffer=c.createRenderbuffer(),l(m.__webglDepthbuffer,a);c.bindFramebuffer(c.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(a){var m=a.texture;m.generateMipmaps&&w(a)&&1003!==m.minFilter&&1006!==m.minFilter&&(a=a&&a.isWebGLRenderTargetCube?c.TEXTURE_CUBE_MAP:c.TEXTURE_2D,m=v.get(m).__webglTexture,b.bindTexture(a,m),c.generateMipmap(a),b.bindTexture(a,null))}}function ua(){var c={};return{get:function(a){a=a.uuid;
var b=c[a];void 0===b&&(b={},c[a]=b);return b},remove:function(a){delete c[a.uuid]},clear:function(){c={}}}}function Sb(c,a,b){function m(a,b,m){var w=new Uint8Array(4),v=c.createTexture();c.bindTexture(a,v);c.texParameteri(a,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(a,c.TEXTURE_MAG_FILTER,c.NEAREST);for(a=0;a<m;a++)c.texImage2D(b+a,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,w);return v}function w(a){!0!==z[a]&&(c.enable(a),z[a]=!0)}function d(a){!1!==z[a]&&(c.disable(a),z[a]=!1)}function e(a,m,
v,e,f,D,g,I){0!==a?w(c.BLEND):d(c.BLEND);if(a!==ca||I!==H)2===a?I?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.SRC_ALPHA,c.ONE)):3===a?I?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_COLOR)):4===a?I?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,
c.SRC_COLOR,c.ZERO,c.SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.SRC_COLOR)):I?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)),ca=a,H=I;if(5===a){f=f||m;D=D||v;g=g||e;if(m!==y||f!==C)c.blendEquationSeparate(b(m),b(f)),y=m,C=f;if(v!==B||e!==E||D!==G||g!==F)c.blendFuncSeparate(b(v),
b(e),b(D),b(g)),B=v,E=e,G=D,F=g}else F=G=C=E=B=y=null}function f(a){J!==a&&(a?c.frontFace(c.CW):c.frontFace(c.CCW),J=a)}function g(a){0!==a?(w(c.CULL_FACE),a!==K&&(1===a?c.cullFace(c.BACK):2===a?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):d(c.CULL_FACE);K=a}function k(a,b,m){if(a){if(w(c.POLYGON_OFFSET_FILL),O!==b||R!==m)c.polygonOffset(b,m),O=b,R=m}else d(c.POLYGON_OFFSET_FILL)}function l(a){void 0===a&&(a=c.TEXTURE0+V-1);X!==a&&(c.activeTexture(a),X=a)}var n=new function(){var a=!1,b=new h,
m=null,w=new h;return{setMask:function(b){m===b||a||(c.colorMask(b,b,b,b),m=b)},setLocked:function(c){a=c},setClear:function(a,m,v,d,e){!0===e&&(a*=d,m*=d,v*=d);b.set(a,m,v,d);!1===w.equals(b)&&(c.clearColor(a,m,v,d),w.copy(b))},reset:function(){a=!1;m=null;w.set(0,0,0,1)}}},p=new function(){var a=!1,b=null,m=null,v=null;return{setTest:function(a){a?w(c.DEPTH_TEST):d(c.DEPTH_TEST)},setMask:function(m){b===m||a||(c.depthMask(m),b=m)},setFunc:function(a){if(m!==a){if(a)switch(a){case 0:c.depthFunc(c.NEVER);
break;case 1:c.depthFunc(c.ALWAYS);break;case 2:c.depthFunc(c.LESS);break;case 3:c.depthFunc(c.LEQUAL);break;case 4:c.depthFunc(c.EQUAL);break;case 5:c.depthFunc(c.GEQUAL);break;case 6:c.depthFunc(c.GREATER);break;case 7:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}else c.depthFunc(c.LEQUAL);m=a}},setLocked:function(c){a=c},setClear:function(a){v!==a&&(c.clearDepth(a),v=a)},reset:function(){a=!1;v=m=b=null}}},q=new function(){var a=!1,b=null,m=null,v=null,e=null,f=null,D=null,g=null,
I=null;return{setTest:function(a){a?w(c.STENCIL_TEST):d(c.STENCIL_TEST)},setMask:function(m){b===m||a||(c.stencilMask(m),b=m)},setFunc:function(a,b,w){if(m!==a||v!==b||e!==w)c.stencilFunc(a,b,w),m=a,v=b,e=w},setOp:function(a,b,m){if(f!==a||D!==b||g!==m)c.stencilOp(a,b,m),f=a,D=b,g=m},setLocked:function(c){a=c},setClear:function(a){I!==a&&(c.clearStencil(a),I=a)},reset:function(){a=!1;I=g=D=f=e=v=m=b=null}}},r=c.getParameter(c.MAX_VERTEX_ATTRIBS),u=new Uint8Array(r),t=new Uint8Array(r),x=new Uint8Array(r),
z={},A=null,ca=null,y=null,B=null,E=null,C=null,G=null,F=null,H=!1,J=null,K=null,M=null,O=null,R=null,Q=null,V=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),r=parseFloat(/^WebGL\ ([0-9])/.exec(c.getParameter(c.VERSION))[1]),T=1<=parseFloat(r),X=null,W={},Z=new h,ba=new h,Y={};Y[c.TEXTURE_2D]=m(c.TEXTURE_2D,c.TEXTURE_2D,1);Y[c.TEXTURE_CUBE_MAP]=m(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6);return{buffers:{color:n,depth:p,stencil:q},init:function(){n.setClear(0,0,0,1);p.setClear(1);q.setClear(0);
w(c.DEPTH_TEST);p.setFunc(3);f(!1);g(1);w(c.CULL_FACE);w(c.BLEND);e(1)},initAttributes:function(){for(var c=0,a=u.length;c<a;c++)u[c]=0},enableAttribute:function(b){u[b]=1;0===t[b]&&(c.enableVertexAttribArray(b),t[b]=1);0!==x[b]&&(a.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(b,0),x[b]=0)},enableAttributeAndDivisor:function(b,m){u[b]=1;0===t[b]&&(c.enableVertexAttribArray(b),t[b]=1);x[b]!==m&&(a.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(b,m),x[b]=m)},disableUnusedAttributes:function(){for(var a=
0,b=t.length;a!==b;++a)t[a]!==u[a]&&(c.disableVertexAttribArray(a),t[a]=0)},enable:w,disable:d,getCompressedTextureFormats:function(){if(null===A&&(A=[],a.get("WEBGL_compressed_texture_pvrtc")||a.get("WEBGL_compressed_texture_s3tc")||a.get("WEBGL_compressed_texture_etc1")))for(var b=c.getParameter(c.COMPRESSED_TEXTURE_FORMATS),m=0;m<b.length;m++)A.push(b[m]);return A},setBlending:e,setMaterial:function(a){2===a.side?d(c.CULL_FACE):w(c.CULL_FACE);f(1===a.side);!0===a.transparent?e(a.blending,a.blendEquation,
a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):e(0);p.setFunc(a.depthFunc);p.setTest(a.depthTest);p.setMask(a.depthWrite);n.setMask(a.colorWrite);k(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)},setFlipSided:f,setCullFace:g,setLineWidth:function(a){a!==M&&(T&&c.lineWidth(a),M=a)},setPolygonOffset:k,getScissorTest:function(){return Q},setScissorTest:function(a){(Q=a)?w(c.SCISSOR_TEST):d(c.SCISSOR_TEST)},activeTexture:l,bindTexture:function(a,
b){null===X&&l();var m=W[X];void 0===m&&(m={type:void 0,texture:void 0},W[X]=m);if(m.type!==a||m.texture!==b)c.bindTexture(a,b||Y[a]),m.type=a,m.texture=b},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(Ee){console.error(Ee)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(Ee){console.error(Ee)}},scissor:function(a){!1===Z.equals(a)&&(c.scissor(a.x,a.y,a.z,a.w),Z.copy(a))},viewport:function(a){!1===ba.equals(a)&&(c.viewport(a.x,a.y,a.z,a.w),ba.copy(a))},
reset:function(){for(var a=0;a<t.length;a++)1===t[a]&&(c.disableVertexAttribArray(a),t[a]=0);z={};X=A=null;W={};K=J=ca=null;n.reset();p.reset();q.reset()}}}function vb(c,a,b){function m(a){if("highp"===a){if(0<c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision&&0<c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision)return"highp";a="mediump"}return"mediump"===a&&0<c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision&&0<c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,
c.MEDIUM_FLOAT).precision?"mediump":"lowp"}var w,d=void 0!==b.precision?b.precision:"highp",e=m(d);e!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",e,"instead."),d=e);b=!0===b.logarithmicDepthBuffer&&!!a.get("EXT_frag_depth");var e=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),f=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=c.getParameter(c.MAX_TEXTURE_SIZE),h=c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),k=c.getParameter(c.MAX_VERTEX_ATTRIBS),l=c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),
n=c.getParameter(c.MAX_VARYING_VECTORS),p=c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),q=0<f,r=!!a.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==w)return w;var b=a.get("EXT_texture_filter_anisotropic");return w=null!==b?c.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:m,precision:d,logarithmicDepthBuffer:b,maxTextures:e,maxVertexTextures:f,maxTextureSize:g,maxCubemapSize:h,maxAttributes:k,maxVertexUniforms:l,maxVaryings:n,maxFragmentUniforms:p,vertexTextures:q,
floatFragmentTextures:r,floatVertexTextures:q&&r}}function Bd(c){var a={};return{get:function(b){if(void 0!==a[b])return a[b];switch(b){case "WEBGL_depth_texture":var m=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":m=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
break;case "WEBGL_compressed_texture_s3tc":m=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":m=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":m=c.getExtension("WEBGL_compressed_texture_etc1");break;default:m=c.getExtension(b)}null===m&&console.warn("THREE.WebGLRenderer: "+
b+" extension not supported.");return a[b]=m}}}function sb(){function c(){k.value!==v&&(k.value=v,k.needsUpdate=0<d);b.numPlanes=d;b.numIntersection=0}function a(c,a,m,w){var v=null!==c?c.length:0,d=null;if(0!==v){d=k.value;if(!0!==w||null===d){w=m+4*v;a=a.matrixWorldInverse;h.getNormalMatrix(a);if(null===d||d.length<w)d=new Float32Array(w);for(w=0;w!==v;++w,m+=4)g.copy(c[w]).applyMatrix4(a,h),g.normal.toArray(d,m),d[m+3]=g.constant}k.value=d;k.needsUpdate=!0}b.numPlanes=v;return d}var b=this,v=null,
d=0,e=!1,f=!1,g=new F,h=new p,k={value:null,needsUpdate:!1};this.uniform=k;this.numIntersection=this.numPlanes=0;this.init=function(c,b,m){var w=0!==c.length||b||0!==d||e;e=b;v=a(c,m,0);d=c.length;return w};this.beginShadows=function(){f=!0;a(null)};this.endShadows=function(){f=!1;c()};this.setState=function(b,m,w,g,D,I){if(!e||null===b||0===b.length||f&&!w)f?a(null):c();else{w=f?0:d;var S=4*w,h=D.clippingState||null;k.value=h;h=a(b,g,S,I);for(b=0;b!==S;++b)h[b]=v[b];D.clippingState=h;this.numIntersection=
m?this.numPlanes:0;this.numPlanes+=w}}}function bc(c){function a(){Ka.init();Ka.scissor(N.copy(qa).multiplyScalar(ka));Ka.viewport(Od.copy(ta).multiplyScalar(ka));Ka.buffers.color.setClear(aa.r,aa.g,aa.b,ma,F)}function b(){da=X=null;ga="";Y=-1;Ka.reset()}function v(c){c.preventDefault();b();a();za.clear();Na.clear()}function d(c){c=c.target;c.removeEventListener("dispose",d);e(c);za.remove(c)}function e(c){var a=za.get(c).program;c.program=void 0;void 0!==a&&Qa.releaseProgram(a)}function f(c,a,b){c.render(function(c){T.renderBufferImmediate(c,
a,b)})}function g(c,a){return Math.abs(a[0])-Math.abs(c[0])}function n(c,a,b){if(c.visible){if(c.layers.test(a.layers))if(c.isLight)K.push(c);else if(c.isSprite)c.frustumCulled&&!wa.intersectsSprite(c)||Q.push(c);else if(c.isLensFlare)V.push(c);else if(c.isImmediateRenderObject)b&&va.setFromMatrixPosition(c.matrixWorld).applyMatrix4(Ea),M.push(c,null,c.material,va.z,null);else if(c.isMesh||c.isLine||c.isPoints)if(c.isSkinnedMesh&&c.skeleton.update(),!c.frustumCulled||wa.intersectsObject(c)){b&&va.setFromMatrixPosition(c.matrixWorld).applyMatrix4(Ea);
var m=Na.update(c),w=c.material;if(Array.isArray(w))for(var v=m.groups,d=0,e=v.length;d<e;d++){var f=v[d],g=w[f.materialIndex];g&&g.visible&&M.push(c,m,g,va.z,f)}else w.visible&&M.push(c,m,w,va.z,null)}c=c.children;d=0;for(e=c.length;d<e;d++)n(c[d],a,b)}}function U(c,a,b,m){for(var w=0,v=c.length;w<v;w++){var d=c[w],e=d.object,f=d.geometry,g=void 0===m?d.material:m,d=d.group;e.onBeforeRender(T,a,b,f,g,d);if(b.isArrayCamera&&b.enabled)for(var D=b.cameras,I=0,S=D.length;I<S;I++){var h=D[I],k=h.bounds;
T.setViewport(k.x*fa*ka,k.y*na*ka,k.z*fa*ka,k.w*na*ka);T.setScissor(k.x*fa*ka,k.y*na*ka,k.z*fa*ka,k.w*na*ka);T.setScissorTest(!0);p(e,a,h,f,g,d)}else p(e,a,b,f,g,d);e.onAfterRender(T,a,b,f,g,d)}}function p(c,a,b,m,w,v){c.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,c.matrixWorld);c.normalMatrix.getNormalMatrix(c.modelViewMatrix);c.isImmediateRenderObject?(Ka.setMaterial(w),a=r(b,a.fog,w,c),ga="",f(c,a,w)):T.renderBufferDirect(b,a.fog,m,w,c,v)}function q(c,a,b){var m=za.get(c);b=Qa.getParameters(c,
Ha,a,ra.numPlanes,ra.numIntersection,b);var w=Qa.getProgramCode(c,b),v=m.program,f=!0;if(void 0===v)c.addEventListener("dispose",d);else if(v.code!==w)e(c);else{if(void 0!==b.shaderID)return;f=!1}f&&(b.shaderID?(v=wc[b.shaderID],m.__webglShader={name:c.type,uniforms:Fb.clone(v.uniforms),vertexShader:v.vertexShader,fragmentShader:v.fragmentShader}):m.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=m.__webglShader,v=Qa.acquireProgram(c,
b,w),m.program=v,c.program=v);b=v.getAttributes();if(c.morphTargets)for(w=c.numSupportedMorphTargets=0;w<T.maxMorphTargets;w++)0<=b["morphTarget"+w]&&c.numSupportedMorphTargets++;if(c.morphNormals)for(w=c.numSupportedMorphNormals=0;w<T.maxMorphNormals;w++)0<=b["morphNormal"+w]&&c.numSupportedMorphNormals++;b=m.__webglShader.uniforms;if(!c.isShaderMaterial&&!c.isRawShaderMaterial||!0===c.clipping)m.numClippingPlanes=ra.numPlanes,m.numIntersection=ra.numIntersection,b.clippingPlanes=ra.uniform;m.fog=
a;m.lightsHash=Ha.hash;c.lights&&(b.ambientLightColor.value=Ha.ambient,b.directionalLights.value=Ha.directional,b.spotLights.value=Ha.spot,b.rectAreaLights.value=Ha.rectArea,b.pointLights.value=Ha.point,b.hemisphereLights.value=Ha.hemi,b.directionalShadowMap.value=Ha.directionalShadowMap,b.directionalShadowMatrix.value=Ha.directionalShadowMatrix,b.spotShadowMap.value=Ha.spotShadowMap,b.spotShadowMatrix.value=Ha.spotShadowMatrix,b.pointShadowMap.value=Ha.pointShadowMap,b.pointShadowMatrix.value=Ha.pointShadowMatrix);
c=m.program.getUniforms();c=La.seqWithValue(c.seq,b);m.uniformsList=c}function r(c,a,b,m){ja=0;var w=za.get(b);ya&&(Fa||c!==da)&&ra.setState(b.clippingPlanes,b.clipIntersection,b.clipShadows,c,w,c===da&&b.id===Y);!1===b.needsUpdate&&(void 0===w.program?b.needsUpdate=!0:b.fog&&w.fog!==a?b.needsUpdate=!0:b.lights&&w.lightsHash!==Ha.hash?b.needsUpdate=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===ra.numPlanes&&w.numIntersection===ra.numIntersection||(b.needsUpdate=!0));b.needsUpdate&&(q(b,a,
m),b.needsUpdate=!1);var v=!1,d=!1,e=!1,f=w.program,g=f.getUniforms(),D=w.__webglShader.uniforms;f.id!==X&&(P.useProgram(f.program),X=f.id,e=d=v=!0);b.id!==Y&&(Y=b.id,d=!0);if(v||c!==da){g.setValue(P,"projectionMatrix",c.projectionMatrix);Ca.logarithmicDepthBuffer&&g.setValue(P,"logDepthBufFC",2/(Math.log(c.far+1)/Math.LN2));c!==da&&(da=c,e=d=!0);if(b.isShaderMaterial||b.isMeshPhongMaterial||b.isMeshStandardMaterial||b.envMap)v=g.map.cameraPosition,void 0!==v&&v.setValue(P,va.setFromMatrixPosition(c.matrixWorld));
(b.isMeshPhongMaterial||b.isMeshLambertMaterial||b.isMeshBasicMaterial||b.isMeshStandardMaterial||b.isShaderMaterial||b.skinning)&&g.setValue(P,"viewMatrix",c.matrixWorldInverse);g.setValue(P,"toneMappingExposure",T.toneMappingExposure);g.setValue(P,"toneMappingWhitePoint",T.toneMappingWhitePoint)}if(b.skinning&&(g.setOptional(P,m,"bindMatrix"),g.setOptional(P,m,"bindMatrixInverse"),c=m.skeleton))if(v=c.bones,Ca.floatVertexTextures){if(void 0===c.boneTexture){var v=Math.sqrt(4*v.length),v=Ba.nextPowerOfTwo(Math.ceil(v)),
v=Math.max(v,4),I=new Float32Array(v*v*4);I.set(c.boneMatrices);var S=new J(I,v,v,1023,1015);c.boneMatrices=I;c.boneTexture=S;c.boneTextureSize=v}g.setValue(P,"boneTexture",c.boneTexture);g.setValue(P,"boneTextureSize",c.boneTextureSize)}else g.setOptional(P,c,"boneMatrices");if(d){b.lights&&(d=e,D.ambientLightColor.needsUpdate=d,D.directionalLights.needsUpdate=d,D.pointLights.needsUpdate=d,D.spotLights.needsUpdate=d,D.rectAreaLights.needsUpdate=d,D.hemisphereLights.needsUpdate=d);a&&b.fog&&(D.fogColor.value=
a.color,a.isFog?(D.fogNear.value=a.near,D.fogFar.value=a.far):a.isFogExp2&&(D.fogDensity.value=a.density));if(b.isMeshBasicMaterial||b.isMeshLambertMaterial||b.isMeshPhongMaterial||b.isMeshStandardMaterial||b.isMeshNormalMaterial||b.isMeshDepthMaterial){D.opacity.value=b.opacity;D.diffuse.value=b.color;b.emissive&&D.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity);D.map.value=b.map;D.specularMap.value=b.specularMap;D.alphaMap.value=b.alphaMap;b.lightMap&&(D.lightMap.value=b.lightMap,
D.lightMapIntensity.value=b.lightMapIntensity);b.aoMap&&(D.aoMap.value=b.aoMap,D.aoMapIntensity.value=b.aoMapIntensity);if(b.map)var h=b.map;else b.specularMap?h=b.specularMap:b.displacementMap?h=b.displacementMap:b.normalMap?h=b.normalMap:b.bumpMap?h=b.bumpMap:b.roughnessMap?h=b.roughnessMap:b.metalnessMap?h=b.metalnessMap:b.alphaMap?h=b.alphaMap:b.emissiveMap&&(h=b.emissiveMap);void 0!==h&&(h.isWebGLRenderTarget&&(h=h.texture),a=h.offset,h=h.repeat,D.offsetRepeat.value.set(a.x,a.y,h.x,h.y));D.envMap.value=
b.envMap;D.flipEnvMap.value=b.envMap&&b.envMap.isCubeTexture?-1:1;D.reflectivity.value=b.reflectivity;D.refractionRatio.value=b.refractionRatio}b.isLineBasicMaterial?(D.diffuse.value=b.color,D.opacity.value=b.opacity):b.isLineDashedMaterial?(D.diffuse.value=b.color,D.opacity.value=b.opacity,D.dashSize.value=b.dashSize,D.totalSize.value=b.dashSize+b.gapSize,D.scale.value=b.scale):b.isPointsMaterial?(D.diffuse.value=b.color,D.opacity.value=b.opacity,D.size.value=b.size*ka,D.scale.value=.5*na,D.map.value=
b.map,null!==b.map&&(h=b.map.offset,b=b.map.repeat,D.offsetRepeat.value.set(h.x,h.y,b.x,b.y))):b.isMeshLambertMaterial?b.emissiveMap&&(D.emissiveMap.value=b.emissiveMap):b.isMeshToonMaterial?(t(D,b),b.gradientMap&&(D.gradientMap.value=b.gradientMap)):b.isMeshPhongMaterial?t(D,b):b.isMeshPhysicalMaterial?(D.clearCoat.value=b.clearCoat,D.clearCoatRoughness.value=b.clearCoatRoughness,x(D,b)):b.isMeshStandardMaterial?x(D,b):b.isMeshDepthMaterial?b.displacementMap&&(D.displacementMap.value=b.displacementMap,
D.displacementScale.value=b.displacementScale,D.displacementBias.value=b.displacementBias):b.isMeshNormalMaterial&&(b.bumpMap&&(D.bumpMap.value=b.bumpMap,D.bumpScale.value=b.bumpScale),b.normalMap&&(D.normalMap.value=b.normalMap,D.normalScale.value.copy(b.normalScale)),b.displacementMap&&(D.displacementMap.value=b.displacementMap,D.displacementScale.value=b.displacementScale,D.displacementBias.value=b.displacementBias));void 0!==D.ltcMat&&(D.ltcMat.value=xa.LTC_MAT_TEXTURE);void 0!==D.ltcMag&&(D.ltcMag.value=
xa.LTC_MAG_TEXTURE);La.upload(P,w.uniformsList,D,T)}g.setValue(P,"modelViewMatrix",m.modelViewMatrix);g.setValue(P,"normalMatrix",m.normalMatrix);g.setValue(P,"modelMatrix",m.matrixWorld);return f}function t(c,a){c.specular.value=a.specular;c.shininess.value=Math.max(a.shininess,1E-4);a.emissiveMap&&(c.emissiveMap.value=a.emissiveMap);a.bumpMap&&(c.bumpMap.value=a.bumpMap,c.bumpScale.value=a.bumpScale);a.normalMap&&(c.normalMap.value=a.normalMap,c.normalScale.value.copy(a.normalScale));a.displacementMap&&
(c.displacementMap.value=a.displacementMap,c.displacementScale.value=a.displacementScale,c.displacementBias.value=a.displacementBias)}function x(c,a){c.roughness.value=a.roughness;c.metalness.value=a.metalness;a.roughnessMap&&(c.roughnessMap.value=a.roughnessMap);a.metalnessMap&&(c.metalnessMap.value=a.metalnessMap);a.emissiveMap&&(c.emissiveMap.value=a.emissiveMap);a.bumpMap&&(c.bumpMap.value=a.bumpMap,c.bumpScale.value=a.bumpScale);a.normalMap&&(c.normalMap.value=a.normalMap,c.normalScale.value.copy(a.normalScale));
a.displacementMap&&(c.displacementMap.value=a.displacementMap,c.displacementScale.value=a.displacementScale,c.displacementBias.value=a.displacementBias);a.envMap&&(c.envMapIntensity.value=a.envMapIntensity)}function z(c,a){var b,m=0,w=0,v=0,d=a.matrixWorldInverse,e=0,f=0,D=0,g=0,I=0;var S=0;for(b=c.length;S<b;S++){var h=c[S];var k=h.color;var l=h.intensity;var la=h.distance;var n=h.shadow&&h.shadow.map?h.shadow.map.texture:null;if(h.isAmbientLight)m+=k.r*l,w+=k.g*l,v+=k.b*l;else if(h.isDirectionalLight){var U=
Sa.get(h);U.color.copy(h.color).multiplyScalar(h.intensity);U.direction.setFromMatrixPosition(h.matrixWorld);va.setFromMatrixPosition(h.target.matrixWorld);U.direction.sub(va);U.direction.transformDirection(d);if(U.shadow=h.castShadow)k=h.shadow,U.shadowBias=k.bias,U.shadowRadius=k.radius,U.shadowMapSize=k.mapSize;Ha.directionalShadowMap[e]=n;Ha.directionalShadowMatrix[e]=h.shadow.matrix;Ha.directional[e]=U;e++}else if(h.isSpotLight){U=Sa.get(h);U.position.setFromMatrixPosition(h.matrixWorld);U.position.applyMatrix4(d);
U.color.copy(k).multiplyScalar(l);U.distance=la;U.direction.setFromMatrixPosition(h.matrixWorld);va.setFromMatrixPosition(h.target.matrixWorld);U.direction.sub(va);U.direction.transformDirection(d);U.coneCos=Math.cos(h.angle);U.penumbraCos=Math.cos(h.angle*(1-h.penumbra));U.decay=0===h.distance?0:h.decay;if(U.shadow=h.castShadow)k=h.shadow,U.shadowBias=k.bias,U.shadowRadius=k.radius,U.shadowMapSize=k.mapSize;Ha.spotShadowMap[D]=n;Ha.spotShadowMatrix[D]=h.shadow.matrix;Ha.spot[D]=U;D++}else if(h.isRectAreaLight)U=
Sa.get(h),U.color.copy(k).multiplyScalar(l/(h.width*h.height)),U.position.setFromMatrixPosition(h.matrixWorld),U.position.applyMatrix4(d),Ga.identity(),Ia.copy(h.matrixWorld),Ia.premultiply(d),Ga.extractRotation(Ia),U.halfWidth.set(.5*h.width,0,0),U.halfHeight.set(0,.5*h.height,0),U.halfWidth.applyMatrix4(Ga),U.halfHeight.applyMatrix4(Ga),Ha.rectArea[g]=U,g++;else if(h.isPointLight){U=Sa.get(h);U.position.setFromMatrixPosition(h.matrixWorld);U.position.applyMatrix4(d);U.color.copy(h.color).multiplyScalar(h.intensity);
U.distance=h.distance;U.decay=0===h.distance?0:h.decay;if(U.shadow=h.castShadow)k=h.shadow,U.shadowBias=k.bias,U.shadowRadius=k.radius,U.shadowMapSize=k.mapSize;Ha.pointShadowMap[f]=n;Ha.pointShadowMatrix[f]=h.shadow.matrix;Ha.point[f]=U;f++}else h.isHemisphereLight&&(U=Sa.get(h),U.direction.setFromMatrixPosition(h.matrixWorld),U.direction.transformDirection(d),U.direction.normalize(),U.skyColor.copy(h.color).multiplyScalar(l),U.groundColor.copy(h.groundColor).multiplyScalar(l),Ha.hemi[I]=U,I++)}Ha.ambient[0]=
m;Ha.ambient[1]=w;Ha.ambient[2]=v;Ha.directional.length=e;Ha.spot.length=D;Ha.rectArea.length=g;Ha.point.length=f;Ha.hemi.length=I;Ha.hash=e+","+f+","+D+","+g+","+I+","+Ha.shadows.length}function A(c){if(1E3===c)return P.REPEAT;if(1001===c)return P.CLAMP_TO_EDGE;if(1002===c)return P.MIRRORED_REPEAT;if(1003===c)return P.NEAREST;if(1004===c)return P.NEAREST_MIPMAP_NEAREST;if(1005===c)return P.NEAREST_MIPMAP_LINEAR;if(1006===c)return P.LINEAR;if(1007===c)return P.LINEAR_MIPMAP_NEAREST;if(1008===c)return P.LINEAR_MIPMAP_LINEAR;
if(1009===c)return P.UNSIGNED_BYTE;if(1017===c)return P.UNSIGNED_SHORT_4_4_4_4;if(1018===c)return P.UNSIGNED_SHORT_5_5_5_1;if(1019===c)return P.UNSIGNED_SHORT_5_6_5;if(1010===c)return P.BYTE;if(1011===c)return P.SHORT;if(1012===c)return P.UNSIGNED_SHORT;if(1013===c)return P.INT;if(1014===c)return P.UNSIGNED_INT;if(1015===c)return P.FLOAT;if(1016===c){var a=pa.get("OES_texture_half_float");if(null!==a)return a.HALF_FLOAT_OES}if(1021===c)return P.ALPHA;if(1022===c)return P.RGB;if(1023===c)return P.RGBA;
if(1024===c)return P.LUMINANCE;if(1025===c)return P.LUMINANCE_ALPHA;if(1026===c)return P.DEPTH_COMPONENT;if(1027===c)return P.DEPTH_STENCIL;if(100===c)return P.FUNC_ADD;if(101===c)return P.FUNC_SUBTRACT;if(102===c)return P.FUNC_REVERSE_SUBTRACT;if(200===c)return P.ZERO;if(201===c)return P.ONE;if(202===c)return P.SRC_COLOR;if(203===c)return P.ONE_MINUS_SRC_COLOR;if(204===c)return P.SRC_ALPHA;if(205===c)return P.ONE_MINUS_SRC_ALPHA;if(206===c)return P.DST_ALPHA;if(207===c)return P.ONE_MINUS_DST_ALPHA;
if(208===c)return P.DST_COLOR;if(209===c)return P.ONE_MINUS_DST_COLOR;if(210===c)return P.SRC_ALPHA_SATURATE;if(2001===c||2002===c||2003===c||2004===c)if(a=pa.get("WEBGL_compressed_texture_s3tc"),null!==a){if(2001===c)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===c)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===c)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===c)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(2100===c||2101===c||2102===c||2103===c)if(a=pa.get("WEBGL_compressed_texture_pvrtc"),null!==
a){if(2100===c)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===c)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===c)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===c)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===c&&(a=pa.get("WEBGL_compressed_texture_etc1"),null!==a))return a.COMPRESSED_RGB_ETC1_WEBGL;if(103===c||104===c)if(a=pa.get("EXT_blend_minmax"),null!==a){if(103===c)return a.MIN_EXT;if(104===c)return a.MAX_EXT}return 1020===c&&(a=pa.get("WEBGL_depth_texture"),null!==a)?a.UNSIGNED_INT_24_8_WEBGL:
0}console.log("THREE.WebGLRenderer","85");c=c||{};var y=void 0!==c.canvas?c.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),kb=void 0!==c.context?c.context:null,B=void 0!==c.alpha?c.alpha:!1,ca=void 0!==c.depth?c.depth:!0,E=void 0!==c.stencil?c.stencil:!0,C=void 0!==c.antialias?c.antialias:!1,F=void 0!==c.premultipliedAlpha?c.premultipliedAlpha:!0,H=void 0!==c.preserveDrawingBuffer?c.preserveDrawingBuffer:!1,K=[],M=null,R=new Float32Array(8),Q=[],V=[];this.domElement=y;this.context=
null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var T=this,X=null,Z=null,ba=null,Y=-1,ga="",da=null,N=new h,ha=null,Od=new h,ja=0,aa=new G(0),ma=0,fa=y.width,na=y.height,ka=1,qa=new h(0,0,fa,na),
sa=!1,ta=new h(0,0,fa,na),wa=new W,ra=new sb,ya=!1,Fa=!1,Ea=new u,va=new l,Ia=new u,Ga=new u,Ha={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Ja={geometries:0,textures:0},Aa={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Aa,memory:Ja,programs:null};try{B={alpha:B,depth:ca,stencil:E,antialias:C,premultipliedAlpha:F,
preserveDrawingBuffer:H};var P=kb||y.getContext("webgl",B)||y.getContext("experimental-webgl",B);if(null===P){if(null!==y.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";}void 0===P.getShaderPrecisionFormat&&(P.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});y.addEventListener("webglcontextlost",v,!1)}catch(Jf){console.error("THREE.WebGLRenderer: "+Jf)}var pa=new Bd(P);pa.get("WEBGL_depth_texture");
pa.get("OES_texture_float");pa.get("OES_texture_float_linear");pa.get("OES_texture_half_float");pa.get("OES_texture_half_float_linear");pa.get("OES_standard_derivatives");pa.get("ANGLE_instanced_arrays");pa.get("OES_element_index_uint")&&(ia.MaxIndex=4294967296);var Ca=new vb(P,pa,c),Ka=new Sb(P,pa,A),za=new ua,Ma=new O(P,pa,Ka,za,Ca,A,Ja),Oa=new yb(P),Wa=new jc(P,Oa,Ja),Na=new rc(P,Wa,Aa),Qa=new k(this,Ca),Sa=new Rb,Xa=new qc;this.info.programs=Qa.programs;var $a=new cc(P,pa,Aa),ab=new gc(P,pa,Aa),
Ya,Va,Pa,Ra;a();this.context=P;this.capabilities=Ca;this.extensions=pa;this.properties=za;this.state=Ka;var fb=new ea(this,Ha,Na,Ca);this.shadowMap=fb;var gb=new Za(this,Q),ib=new eb(this,V);this.getContext=function(){return P};this.getContextAttributes=function(){return P.getContextAttributes()};this.forceContextLoss=function(){var c=pa.get("WEBGL_lose_context");c&&c.loseContext()};this.getMaxAnisotropy=function(){return Ca.getMaxAnisotropy()};this.getPrecision=function(){return Ca.precision};this.getPixelRatio=
function(){return ka};this.setPixelRatio=function(c){void 0!==c&&(ka=c,this.setSize(ta.z,ta.w,!1))};this.getSize=function(){return{width:fa,height:na}};this.setSize=function(c,a,b){fa=c;na=a;y.width=c*ka;y.height=a*ka;!1!==b&&(y.style.width=c+"px",y.style.height=a+"px");this.setViewport(0,0,c,a)};this.setViewport=function(c,a,b,m){Ka.viewport(ta.set(c,a,b,m))};this.setScissor=function(c,a,b,m){Ka.scissor(qa.set(c,a,b,m))};this.setScissorTest=function(c){Ka.setScissorTest(sa=c)};this.getClearColor=
function(){return aa};this.setClearColor=function(c,a){aa.set(c);ma=void 0!==a?a:1;Ka.buffers.color.setClear(aa.r,aa.g,aa.b,ma,F)};this.getClearAlpha=function(){return ma};this.setClearAlpha=function(c){ma=c;Ka.buffers.color.setClear(aa.r,aa.g,aa.b,ma,F)};this.clear=function(c,a,b){var m=0;if(void 0===c||c)m|=P.COLOR_BUFFER_BIT;if(void 0===a||a)m|=P.DEPTH_BUFFER_BIT;if(void 0===b||b)m|=P.STENCIL_BUFFER_BIT;P.clear(m)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,
!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(c,a,b,m){this.setRenderTarget(c);this.clear(a,b,m)};this.resetGLState=b;this.dispose=function(){y.removeEventListener("webglcontextlost",v,!1);Xa.dispose()};this.renderBufferImmediate=function(c,a,b){Ka.initAttributes();var m=za.get(c);c.hasPositions&&!m.position&&(m.position=P.createBuffer());c.hasNormals&&!m.normal&&(m.normal=P.createBuffer());c.hasUvs&&!m.uv&&(m.uv=P.createBuffer());c.hasColors&&!m.color&&(m.color=
P.createBuffer());a=a.getAttributes();c.hasPositions&&(P.bindBuffer(P.ARRAY_BUFFER,m.position),P.bufferData(P.ARRAY_BUFFER,c.positionArray,P.DYNAMIC_DRAW),Ka.enableAttribute(a.position),P.vertexAttribPointer(a.position,3,P.FLOAT,!1,0,0));if(c.hasNormals){P.bindBuffer(P.ARRAY_BUFFER,m.normal);if(!b.isMeshPhongMaterial&&!b.isMeshStandardMaterial&&!b.isMeshNormalMaterial&&1===b.shading)for(var w=0,v=3*c.count;w<v;w+=9){var d=c.normalArray,e=(d[w+0]+d[w+3]+d[w+6])/3,f=(d[w+1]+d[w+4]+d[w+7])/3,D=(d[w+
2]+d[w+5]+d[w+8])/3;d[w+0]=e;d[w+1]=f;d[w+2]=D;d[w+3]=e;d[w+4]=f;d[w+5]=D;d[w+6]=e;d[w+7]=f;d[w+8]=D}P.bufferData(P.ARRAY_BUFFER,c.normalArray,P.DYNAMIC_DRAW);Ka.enableAttribute(a.normal);P.vertexAttribPointer(a.normal,3,P.FLOAT,!1,0,0)}c.hasUvs&&b.map&&(P.bindBuffer(P.ARRAY_BUFFER,m.uv),P.bufferData(P.ARRAY_BUFFER,c.uvArray,P.DYNAMIC_DRAW),Ka.enableAttribute(a.uv),P.vertexAttribPointer(Oa.uv,2,P.FLOAT,!1,0,0));c.hasColors&&0!==b.vertexColors&&(P.bindBuffer(P.ARRAY_BUFFER,m.color),P.bufferData(P.ARRAY_BUFFER,
c.colorArray,P.DYNAMIC_DRAW),Ka.enableAttribute(a.color),P.vertexAttribPointer(a.color,3,P.FLOAT,!1,0,0));Ka.disableUnusedAttributes();P.drawArrays(P.TRIANGLES,0,c.count);c.count=0};this.renderBufferDirect=function(c,a,b,m,w,v){Ka.setMaterial(m);var d=r(c,a,m,w);c=b.id+"_"+d.id+"_"+(!0===m.wireframe);var e=!1;c!==ga&&(ga=c,e=!0);var f=w.morphTargetInfluences;if(void 0!==f){var D=[];c=0;for(var I=f.length;c<I;c++)a=f[c],D.push([a,c]);D.sort(g);8<D.length&&(D.length=8);e=b.morphAttributes;c=0;for(I=
D.length;c<I;c++)a=D[c],R[c]=a[0],0!==a[0]?(a=a[1],!0===m.morphTargets&&e.position&&b.addAttribute("morphTarget"+c,e.position[a]),!0===m.morphNormals&&e.normal&&b.addAttribute("morphNormal"+c,e.normal[a])):(!0===m.morphTargets&&b.removeAttribute("morphTarget"+c),!0===m.morphNormals&&b.removeAttribute("morphNormal"+c));c=D.length;for(a=R.length;c<a;c++)R[c]=0;d.getUniforms().setValue(P,"morphTargetInfluences",R);e=!0}a=b.index;I=b.attributes.position;D=1;!0===m.wireframe&&(a=Wa.getWireframeAttribute(b),
D=2);c=$a;null!==a&&(c=ab,c.setIndex(a));if(e){e=void 0;if(b&&b.isInstancedBufferGeometry&&null===pa.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===e&&(e=0);Ka.initAttributes();var f=b.attributes,d=d.getAttributes(),S=m.defaultAttributeValues;for(L in d){var h=d[L];if(0<=h){var k=f[L];if(void 0!==k){var l=k.normalized,la=k.itemSize,n=Oa.get(k),
U=n.buffer,oa=n.type,n=n.bytesPerElement;if(k.isInterleavedBufferAttribute){var p=k.data,q=p.stride,k=k.offset;p&&p.isInstancedInterleavedBuffer?(Ka.enableAttributeAndDivisor(h,p.meshPerAttribute),void 0===b.maxInstancedCount&&(b.maxInstancedCount=p.meshPerAttribute*p.count)):Ka.enableAttribute(h);P.bindBuffer(P.ARRAY_BUFFER,U);P.vertexAttribPointer(h,la,oa,l,q*n,(e*q+k)*n)}else k.isInstancedBufferAttribute?(Ka.enableAttributeAndDivisor(h,k.meshPerAttribute),void 0===b.maxInstancedCount&&(b.maxInstancedCount=
k.meshPerAttribute*k.count)):Ka.enableAttribute(h),P.bindBuffer(P.ARRAY_BUFFER,U),P.vertexAttribPointer(h,la,oa,l,0,e*la*n)}else if(void 0!==S&&(l=S[L],void 0!==l))switch(l.length){case 2:P.vertexAttrib2fv(h,l);break;case 3:P.vertexAttrib3fv(h,l);break;case 4:P.vertexAttrib4fv(h,l);break;default:P.vertexAttrib1fv(h,l)}}}Ka.disableUnusedAttributes()}null!==a&&P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,Oa.get(a).buffer)}var L=0;null!==a?L=a.count:void 0!==I&&(L=I.count);I=b.drawRange.start*D;e=null!==v?v.start*
D:0;a=Math.max(I,e);v=Math.max(0,Math.min(L,I+b.drawRange.count*D,e+(null!==v?v.count*D:Infinity))-1-a+1);if(0!==v){if(w.isMesh)if(!0===m.wireframe)Ka.setLineWidth(m.wireframeLinewidth*(null===Z?ka:1)),c.setMode(P.LINES);else switch(w.drawMode){case 0:c.setMode(P.TRIANGLES);break;case 1:c.setMode(P.TRIANGLE_STRIP);break;case 2:c.setMode(P.TRIANGLE_FAN)}else w.isLine?(m=m.linewidth,void 0===m&&(m=1),Ka.setLineWidth(m*(null===Z?ka:1)),w.isLineSegments?c.setMode(P.LINES):w.isLineLoop?c.setMode(P.LINE_LOOP):
c.setMode(P.LINE_STRIP)):w.isPoints&&c.setMode(P.POINTS);b&&b.isInstancedBufferGeometry?0<b.maxInstancedCount&&c.renderInstances(b,a,v):c.render(a,v)}};this.compile=function(c,a){K=[];c.traverse(function(c){c.isLight&&K.push(c)});z(K,a);c.traverse(function(a){if(a.material)if(Array.isArray(a.material))for(var b=0;b<a.material.length;b++)q(a.material[b],c.fog,a);else q(a.material,c.fog,a)})};this.render=function(c,a,b,m){if(void 0!==a&&!0!==a.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else{ga="";Y=-1;da=null;!0===c.autoUpdate&&c.updateMatrixWorld();a.onBeforeRender(T);null===a.parent&&a.updateMatrixWorld();a.matrixWorldInverse.getInverse(a.matrixWorld);Ea.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse);wa.setFromMatrix(Ea);K.length=0;Q.length=0;V.length=0;Fa=this.localClippingEnabled;ya=ra.init(this.clippingPlanes,Fa,a);M=Xa.get(c,a);M.init();n(c,a,T.sortObjects);M.finish();!0===T.sortObjects&&M.sort();ya&&ra.beginShadows();for(var w=K,v=0,d=0,e=w.length;d<e;d++){var f=
w[d];f.castShadow&&(Ha.shadows[v]=f,v++)}Ha.shadows.length=v;fb.render(c,a);z(K,a);ya&&ra.endShadows();Aa.frame++;Aa.calls=0;Aa.vertices=0;Aa.faces=0;Aa.points=0;void 0===b&&(b=null);this.setRenderTarget(b);w=c.background;null===w?Ka.buffers.color.setClear(aa.r,aa.g,aa.b,ma,F):w&&w.isColor&&(Ka.buffers.color.setClear(w.r,w.g,w.b,1,F),m=!0);(this.autoClear||m)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);w&&w.isCubeTexture?(void 0===Pa&&(Pa=new bb,Ra=new Ta(new Ua(5,5,
5),new Da({uniforms:wc.cube.uniforms,vertexShader:wc.cube.vertexShader,fragmentShader:wc.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))),Pa.projectionMatrix.copy(a.projectionMatrix),Pa.matrixWorld.extractRotation(a.matrixWorld),Pa.matrixWorldInverse.getInverse(Pa.matrixWorld),Ra.material.uniforms.tCube.value=w,Ra.modelViewMatrix.multiplyMatrices(Pa.matrixWorldInverse,Ra.matrixWorld),Na.update(Ra),T.renderBufferDirect(Pa,null,Ra.geometry,Ra.material,Ra,null)):w&&w.isTexture&&(void 0===
Ya&&(Ya=new Qb(-1,1,1,-1,0,1),Va=new Ta(new lb(2,2),new db({depthTest:!1,depthWrite:!1,fog:!1}))),Va.material.map=w,Na.update(Va),T.renderBufferDirect(Ya,null,Va.geometry,Va.material,Va,null));m=M.opaque;w=M.transparent;c.overrideMaterial?(v=c.overrideMaterial,m.length&&U(m,c,a,v),w.length&&U(w,c,a,v)):(m.length&&U(m,c,a),w.length&&U(w,c,a));gb.render(c,a);ib.render(c,a,Od);b&&Ma.updateRenderTargetMipmap(b);Ka.buffers.depth.setTest(!0);Ka.buffers.depth.setMask(!0);Ka.buffers.color.setMask(!0);a.isArrayCamera&&
a.enabled&&T.setScissorTest(!1);a.onAfterRender(T)}};this.setFaceCulling=function(c,a){Ka.setCullFace(c);Ka.setFlipSided(0===a)};this.allocTextureUnit=function(){var c=ja;c>=Ca.maxTextures&&console.warn("WebGLRenderer: trying to use "+c+" texture units while this GPU supports only "+Ca.maxTextures);ja+=1;return c};this.setTexture2D=function(){var c=!1;return function(a,b){a&&a.isWebGLRenderTarget&&(c||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
c=!0),a=a.texture);Ma.setTexture2D(a,b)}}();this.setTexture=function(){var c=!1;return function(a,b){c||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),c=!0);Ma.setTexture2D(a,b)}}();this.setTextureCube=function(){var c=!1;return function(a,b){a&&a.isWebGLRenderTargetCube&&(c||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),c=!0),a=a.texture);a&&a.isCubeTexture||Array.isArray(a.image)&&
6===a.image.length?Ma.setTextureCube(a,b):Ma.setTextureCubeDynamic(a,b)}}();this.getRenderTarget=function(){return Z};this.setRenderTarget=function(c){(Z=c)&&void 0===za.get(c).__webglFramebuffer&&Ma.setupRenderTarget(c);var a=c&&c.isWebGLRenderTargetCube;if(c){var b=za.get(c);b=a?b.__webglFramebuffer[c.activeCubeFace]:b.__webglFramebuffer;N.copy(c.scissor);ha=c.scissorTest;Od.copy(c.viewport)}else b=null,N.copy(qa).multiplyScalar(ka),ha=sa,Od.copy(ta).multiplyScalar(ka);ba!==b&&(P.bindFramebuffer(P.FRAMEBUFFER,
b),ba=b);Ka.scissor(N);Ka.setScissorTest(ha);Ka.viewport(Od);a&&(a=za.get(c.texture),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+c.activeCubeFace,a.__webglTexture,c.activeMipMapLevel))};this.readRenderTargetPixels=function(c,a,b,m,w,v){if(!1===(c&&c.isWebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var d=za.get(c).__webglFramebuffer;if(d){var e=!1;d!==ba&&(P.bindFramebuffer(P.FRAMEBUFFER,
d),e=!0);try{var f=c.texture,D=f.format,g=f.type;1023!==D&&A(D)!==P.getParameter(P.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===g||A(g)===P.getParameter(P.IMPLEMENTATION_COLOR_READ_TYPE)||1015===g&&(pa.get("OES_texture_float")||pa.get("WEBGL_color_buffer_float"))||1016===g&&pa.get("EXT_color_buffer_half_float")?P.checkFramebufferStatus(P.FRAMEBUFFER)===P.FRAMEBUFFER_COMPLETE?0<=a&&
a<=c.width-m&&0<=b&&b<=c.height-w&&P.readPixels(a,b,m,w,A(D),A(g),v):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{e&&P.bindFramebuffer(P.FRAMEBUFFER,ba)}}}}}function tc(c,a){this.name="";this.color=new G(c);this.density=void 0!==a?a:2.5E-4}function uc(c,a,b){this.name="";this.color=
new G(c);this.near=void 0!==a?a:1;this.far=void 0!==b?b:1E3}function lc(){R.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function nc(c,a,b,v,d){R.call(this);this.lensFlares=[];this.positionScreen=new l;this.customUpdateCallback=void 0;void 0!==c&&this.add(c,a,b,v,d)}function Hb(c){ha.call(this);this.type="SpriteMaterial";this.color=new G(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;this.setValues(c)}function Ec(c){R.call(this);
this.type="Sprite";this.material=void 0!==c?c:new Hb}function vc(){R.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Fc(c,a){c=c||[];this.bones=c.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===a)this.calculateInverses();else if(this.bones.length===a.length)this.boneInverses=a.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length.");this.boneInverses=[];for(var b=0,m=this.bones.length;b<m;b++)this.boneInverses.push(new u)}}
function e(){R.call(this);this.type="Bone"}function A(c,a){Ta.call(this,c,a);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new u;this.bindMatrixInverse=new u;var b=this.initBones(),b=new Fc(b);this.bind(b,this.matrixWorld);this.normalizeSkinWeights()}function Q(c){ha.call(this);this.type="LineBasicMaterial";this.color=new G(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(c)}function fa(c,a,b){if(1===b)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),
new Va(c,a);R.call(this);this.type="Line";this.geometry=void 0!==c?c:new ia;this.material=void 0!==a?a:new Q({color:16777215*Math.random()})}function Va(c,a){fa.call(this,c,a);this.type="LineSegments"}function zd(c,a){fa.call(this,c,a);this.type="LineLoop"}function Ub(c){ha.call(this);this.type="PointsMaterial";this.color=new G(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;this.setValues(c)}function yc(c,a){R.call(this);this.type="Points";this.geometry=void 0!==c?c:new ia;
this.material=void 0!==a?a:new Ub({color:16777215*Math.random()})}function Uc(){R.call(this);this.type="Group"}function Ad(c,a,b,v,d,e,f,g,h){function m(){requestAnimationFrame(m);c.readyState>=c.HAVE_CURRENT_DATA&&(w.needsUpdate=!0)}n.call(this,c,a,b,v,d,e,f,g,h);this.generateMipmaps=!1;var w=this;m()}function Vc(c,a,b,v,d,e,f,g,h,k,l,p){n.call(this,null,e,f,g,h,k,v,d,l,p);this.image={width:a,height:b};this.mipmaps=c;this.generateMipmaps=this.flipY=!1}function ce(c,a,b,v,d,e,f,g,h){n.call(this,c,
a,b,v,d,e,f,g,h);this.needsUpdate=!0}function Dd(c,a,b,v,d,e,f,g,h,k){k=void 0!==k?k:1026;if(1026!==k&&1027!==k)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===b&&1026===k&&(b=1012);void 0===b&&1027===k&&(b=1020);n.call(this,null,v,d,e,f,g,k,b,h);this.image={width:c,height:a};this.magFilter=void 0!==f?f:1003;this.minFilter=void 0!==g?g:1003;this.generateMipmaps=this.flipY=!1}function Wc(c){ia.call(this);this.type="WireframeGeometry";var a=[],
b,v,d,e=[0,0],f={},g=["a","b","c"];if(c&&c.isGeometry){var h=c.faces;var k=0;for(v=h.length;k<v;k++){var n=h[k];for(b=0;3>b;b++){var p=n[g[b]];var q=n[g[(b+1)%3]];e[0]=Math.min(p,q);e[1]=Math.max(p,q);p=e[0]+","+e[1];void 0===f[p]&&(f[p]={index1:e[0],index2:e[1]})}}for(p in f)k=f[p],g=c.vertices[k.index1],a.push(g.x,g.y,g.z),g=c.vertices[k.index2],a.push(g.x,g.y,g.z)}else if(c&&c.isBufferGeometry){var g=new l;if(null!==c.index){h=c.attributes.position;n=c.index;var r=c.groups;0===r.length&&(r=[{start:0,
count:n.count,materialIndex:0}]);c=0;for(d=r.length;c<d;++c)for(k=r[c],b=k.start,v=k.count,k=b,v=b+v;k<v;k+=3)for(b=0;3>b;b++)p=n.getX(k+b),q=n.getX(k+(b+1)%3),e[0]=Math.min(p,q),e[1]=Math.max(p,q),p=e[0]+","+e[1],void 0===f[p]&&(f[p]={index1:e[0],index2:e[1]});for(p in f)k=f[p],g.fromBufferAttribute(h,k.index1),a.push(g.x,g.y,g.z),g.fromBufferAttribute(h,k.index2),a.push(g.x,g.y,g.z)}else for(h=c.attributes.position,k=0,v=h.count/3;k<v;k++)for(b=0;3>b;b++)f=3*k+b,g.fromBufferAttribute(h,f),a.push(g.x,
g.y,g.z),f=3*k+(b+1)%3,g.fromBufferAttribute(h,f),a.push(g.x,g.y,g.z)}this.addAttribute("position",new ga(a,3))}function ic(c,a,b){X.call(this);this.type="ParametricGeometry";this.parameters={func:c,slices:a,stacks:b};this.fromBufferGeometry(new Xc(c,a,b));this.mergeVertices()}function Xc(c,a,b){ia.call(this);this.type="ParametricBufferGeometry";this.parameters={func:c,slices:a,stacks:b};var m=[],w=[],d=[],e=[],f=new l,g=new l,h=new l,k=new l,n=new l,p,q,r=a+1;for(p=0;p<=b;p++){var u=p/b;for(q=0;q<=
a;q++){var t=q/a,g=c(t,u,g);w.push(g.x,g.y,g.z);0<=t-1E-5?(h=c(t-1E-5,u,h),k.subVectors(g,h)):(h=c(t+1E-5,u,h),k.subVectors(h,g));0<=u-1E-5?(h=c(t,u-1E-5,h),n.subVectors(g,h)):(h=c(t,u+1E-5,h),n.subVectors(h,g));f.crossVectors(k,n).normalize();d.push(f.x,f.y,f.z);e.push(t,u)}}for(p=0;p<b;p++)for(q=0;q<a;q++)c=p*r+q+1,f=(p+1)*r+q+1,g=(p+1)*r+q,m.push(p*r+q,c,g),m.push(c,f,g);this.setIndex(m);this.addAttribute("position",new ga(w,3));this.addAttribute("normal",new ga(d,3));this.addAttribute("uv",new ga(e,
2))}function Ed(c,a,b,v){X.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:c,indices:a,radius:b,detail:v};this.fromBufferGeometry(new Ab(c,a,b,v));this.mergeVertices()}function Ab(c,b,w,v){function m(c){f.push(c.x,c.y,c.z)}function d(a,b){var m=3*a;b.x=c[m+0];b.y=c[m+1];b.z=c[m+2]}function e(c,a,b,m){0>m&&1===c.x&&(g[a]=c.x-1);0===b.x&&0===b.z&&(g[a]=m/2/Math.PI+.5)}ia.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:c,indices:b,radius:w,detail:v};w=w||
1;var f=[],g=[];(function(c){for(var a=new l,w=new l,v=new l,e=0;e<b.length;e+=3){d(b[e+0],a);d(b[e+1],w);d(b[e+2],v);var f,g,D=a,I=w,h=v,S=Math.pow(2,c),k=[];for(g=0;g<=S;g++){k[g]=[];var n=D.clone().lerp(h,g/S),la=I.clone().lerp(h,g/S),p=S-g;for(f=0;f<=p;f++)k[g][f]=0===f&&g===S?n:n.clone().lerp(la,f/p)}for(g=0;g<S;g++)for(f=0;f<2*(S-g)-1;f++)D=Math.floor(f/2),0===f%2?(m(k[g][D+1]),m(k[g+1][D]),m(k[g][D])):(m(k[g][D+1]),m(k[g+1][D+1]),m(k[g+1][D]))}})(v||0);(function(c){for(var a=new l,b=0;b<f.length;b+=
3)a.x=f[b+0],a.y=f[b+1],a.z=f[b+2],a.normalize().multiplyScalar(c),f[b+0]=a.x,f[b+1]=a.y,f[b+2]=a.z})(w);(function(){for(var c=new l,b=0;b<f.length;b+=3)c.x=f[b+0],c.y=f[b+1],c.z=f[b+2],g.push(Math.atan2(c.z,-c.x)/2/Math.PI+.5,1-(Math.atan2(-c.y,Math.sqrt(c.x*c.x+c.z*c.z))/Math.PI+.5));for(var c=new l,b=new l,m=new l,w=new l,v=new a,d=new a,D=new a,I=0,h=0;I<f.length;I+=9,h+=6){c.set(f[I+0],f[I+1],f[I+2]);b.set(f[I+3],f[I+4],f[I+5]);m.set(f[I+6],f[I+7],f[I+8]);v.set(g[h+0],g[h+1]);d.set(g[h+2],g[h+
3]);D.set(g[h+4],g[h+5]);w.copy(c).add(b).add(m).divideScalar(3);var S=Math.atan2(w.z,-w.x);e(v,h+0,c,S);e(d,h+2,b,S);e(D,h+4,m,S)}for(c=0;c<g.length;c+=6)b=g[c+0],m=g[c+2],w=g[c+4],v=Math.min(b,m,w),.9<Math.max(b,m,w)&&.1>v&&(.2>b&&(g[c+0]+=1),.2>m&&(g[c+2]+=1),.2>w&&(g[c+4]+=1))})();this.addAttribute("position",new ga(f,3));this.addAttribute("normal",new ga(f.slice(),3));this.addAttribute("uv",new ga(g,2));this.normalizeNormals()}function Fd(c,a){X.call(this);this.type="TetrahedronGeometry";this.parameters=
{radius:c,detail:a};this.fromBufferGeometry(new Yc(c,a));this.mergeVertices()}function Yc(c,a){Ab.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],c,a);this.type="TetrahedronBufferGeometry";this.parameters={radius:c,detail:a}}function Gd(c,a){X.call(this);this.type="OctahedronGeometry";this.parameters={radius:c,detail:a};this.fromBufferGeometry(new Ib(c,a));this.mergeVertices()}function Ib(c,a){Ab.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,
1,5,3,1,3,4,1,4,2],c,a);this.type="OctahedronBufferGeometry";this.parameters={radius:c,detail:a}}function oc(c,a){X.call(this);this.type="IcosahedronGeometry";this.parameters={radius:c,detail:a};this.fromBufferGeometry(new Zc(c,a));this.mergeVertices()}function Zc(c,a){var b=(1+Math.sqrt(5))/2;Ab.call(this,[-1,b,0,1,b,0,-1,-b,0,1,-b,0,0,-1,b,0,1,b,0,-1,-b,0,1,-b,b,0,-1,b,0,1,-b,0,-1,-b,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,
4,11,6,2,10,8,6,7,9,8,1],c,a);this.type="IcosahedronBufferGeometry";this.parameters={radius:c,detail:a}}function Hd(c,a){X.call(this);this.type="DodecahedronGeometry";this.parameters={radius:c,detail:a};this.fromBufferGeometry(new Ac(c,a));this.mergeVertices()}function Ac(c,a){var b=(1+Math.sqrt(5))/2,m=1/b;Ab.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-m,-b,0,-m,b,0,m,-b,0,m,b,-m,-b,0,-m,b,0,m,-b,0,m,b,0,-b,0,-m,b,0,-m,-b,0,m,b,0,m],[3,11,7,3,7,15,3,15,13,7,19,17,7,
17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],c,a);this.type="DodecahedronBufferGeometry";this.parameters={radius:c,detail:a}}function Id(c,a,b,v,d,e){X.call(this);this.type="TubeGeometry";this.parameters={path:c,tubularSegments:a,radius:b,radialSegments:v,closed:d};void 0!==e&&console.warn("THREE.TubeGeometry: taper has been removed.");
c=new $c(c,a,b,v,d);this.tangents=c.tangents;this.normals=c.normals;this.binormals=c.binormals;this.fromBufferGeometry(c);this.mergeVertices()}function $c(c,b,w,v,d){function m(a){var m=c.getPointAt(a/b),d=e.normals[a];a=e.binormals[a];for(k=0;k<=v;k++){var D=k/v*Math.PI*2,I=Math.sin(D),D=-Math.cos(D);g.x=D*d.x+I*a.x;g.y=D*d.y+I*a.y;g.z=D*d.z+I*a.z;g.normalize();p.push(g.x,g.y,g.z);f.x=m.x+w*g.x;f.y=m.y+w*g.y;f.z=m.z+w*g.z;n.push(f.x,f.y,f.z)}}ia.call(this);this.type="TubeBufferGeometry";this.parameters=
{path:c,tubularSegments:b,radius:w,radialSegments:v,closed:d};b=b||64;w=w||1;v=v||8;d=d||!1;var e=c.computeFrenetFrames(b,d);this.tangents=e.tangents;this.normals=e.normals;this.binormals=e.binormals;var f=new l,g=new l,D=new a,h,k,n=[],p=[],q=[],r=[];for(h=0;h<b;h++)m(h);m(!1===d?b:0);for(h=0;h<=b;h++)for(k=0;k<=v;k++)D.x=h/b,D.y=k/v,q.push(D.x,D.y);(function(){for(k=1;k<=b;k++)for(h=1;h<=v;h++){var c=(v+1)*k+(h-1),a=(v+1)*k+h,m=(v+1)*(k-1)+h;r.push((v+1)*(k-1)+(h-1),c,m);r.push(c,a,m)}})();this.setIndex(r);
this.addAttribute("position",new ga(n,3));this.addAttribute("normal",new ga(p,3));this.addAttribute("uv",new ga(q,2))}function ad(c,a,b,v,d,e,f){X.call(this);this.type="TorusKnotGeometry";this.parameters={radius:c,tube:a,tubularSegments:b,radialSegments:v,p:d,q:e};void 0!==f&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new bd(c,a,b,v,d,e));this.mergeVertices()}function bd(c,a,b,d,e,f){function m(c,a,b,m,w){var d=
Math.sin(c);a=b/a*c;b=Math.cos(a);w.x=m*(2+b)*.5*Math.cos(c);w.y=m*(2+b)*d*.5;w.z=m*Math.sin(a)*.5}ia.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:c,tube:a,tubularSegments:b,radialSegments:d,p:e,q:f};c=c||100;a=a||40;b=Math.floor(b)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var w=[],v=[],g=[],D=[],I,h=new l,k=new l,n=new l,p=new l,q=new l,r=new l,u=new l;for(I=0;I<=b;++I){var t=I/b*e*Math.PI*2;m(t,e,f,c,n);m(t+.01,e,f,c,p);r.subVectors(p,n);u.addVectors(p,n);q.crossVectors(r,
u);u.crossVectors(q,r);q.normalize();u.normalize();for(t=0;t<=d;++t){var x=t/d*Math.PI*2,z=-a*Math.cos(x),x=a*Math.sin(x);h.x=n.x+(z*u.x+x*q.x);h.y=n.y+(z*u.y+x*q.y);h.z=n.z+(z*u.z+x*q.z);v.push(h.x,h.y,h.z);k.subVectors(h,n).normalize();g.push(k.x,k.y,k.z);D.push(I/b);D.push(t/d)}}for(t=1;t<=b;t++)for(I=1;I<=d;I++)c=(d+1)*t+(I-1),a=(d+1)*t+I,e=(d+1)*(t-1)+I,w.push((d+1)*(t-1)+(I-1),c,e),w.push(c,a,e);this.setIndex(w);this.addAttribute("position",new ga(v,3));this.addAttribute("normal",new ga(g,3));
this.addAttribute("uv",new ga(D,2))}function Cd(c,a,b,d,e){X.call(this);this.type="TorusGeometry";this.parameters={radius:c,tube:a,radialSegments:b,tubularSegments:d,arc:e};this.fromBufferGeometry(new zc(c,a,b,d,e));this.mergeVertices()}function zc(c,a,b,d,e){ia.call(this);this.type="TorusBufferGeometry";this.parameters={radius:c,tube:a,radialSegments:b,tubularSegments:d,arc:e};c=c||100;a=a||40;b=Math.floor(b)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var m=[],w=[],v=[],f=[],g=new l,D=new l,h=new l,k,
n;for(k=0;k<=b;k++)for(n=0;n<=d;n++){var p=n/d*e,q=k/b*Math.PI*2;D.x=(c+a*Math.cos(q))*Math.cos(p);D.y=(c+a*Math.cos(q))*Math.sin(p);D.z=a*Math.sin(q);w.push(D.x,D.y,D.z);g.x=c*Math.cos(p);g.y=c*Math.sin(p);h.subVectors(D,g).normalize();v.push(h.x,h.y,h.z);f.push(n/d);f.push(k/b)}for(k=1;k<=b;k++)for(n=1;n<=d;n++)c=(d+1)*(k-1)+n-1,a=(d+1)*(k-1)+n,e=(d+1)*k+n,m.push((d+1)*k+n-1,c,e),m.push(c,a,e);this.setIndex(m);this.addAttribute("position",new ga(w,3));this.addAttribute("normal",new ga(v,3));this.addAttribute("uv",
new ga(f,2))}function hc(c,a){X.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:c,options:a};this.fromBufferGeometry(new Bb(c,a));this.mergeVertices()}function Bb(c,a){"undefined"!==typeof c&&(ia.call(this),this.type="ExtrudeBufferGeometry",c=Array.isArray(c)?c:[c],this.addShapeList(c,a),this.computeVertexNormals())}function cd(c,a){X.call(this);this.type="TextGeometry";this.parameters={text:c,parameters:a};this.fromBufferGeometry(new dd(c,a));this.mergeVertices()}function dd(c,a){a=
a||{};var b=a.font;if(!1===(b&&b.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new X;b=b.generateShapes(c,a.size,a.curveSegments);a.amount=void 0!==a.height?a.height:50;void 0===a.bevelThickness&&(a.bevelThickness=10);void 0===a.bevelSize&&(a.bevelSize=8);void 0===a.bevelEnabled&&(a.bevelEnabled=!1);Bb.call(this,b,a);this.type="TextBufferGeometry"}function Jd(c,a,b,d,e,f,g){X.call(this);this.type="SphereGeometry";this.parameters={radius:c,widthSegments:a,
heightSegments:b,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new Bc(c,a,b,d,e,f,g));this.mergeVertices()}function Bc(c,a,b,d,e,f,g){ia.call(this);this.type="SphereBufferGeometry";this.parameters={radius:c,widthSegments:a,heightSegments:b,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};c=c||50;a=Math.max(3,Math.floor(a)||8);b=Math.max(2,Math.floor(b)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var m=f+g,w,v,D=0,I=[],h=new l,
k=new l,S=[],n=[],p=[],q=[];for(v=0;v<=b;v++){var r=[],t=v/b;for(w=0;w<=a;w++){var u=w/a;h.x=-c*Math.cos(d+u*e)*Math.sin(f+t*g);h.y=c*Math.cos(f+t*g);h.z=c*Math.sin(d+u*e)*Math.sin(f+t*g);n.push(h.x,h.y,h.z);k.set(h.x,h.y,h.z).normalize();p.push(k.x,k.y,k.z);q.push(u,1-t);r.push(D++)}I.push(r)}for(v=0;v<b;v++)for(w=0;w<a;w++)c=I[v][w+1],d=I[v][w],e=I[v+1][w],g=I[v+1][w+1],(0!==v||0<f)&&S.push(c,d,g),(v!==b-1||m<Math.PI)&&S.push(d,e,g);this.setIndex(S);this.addAttribute("position",new ga(n,3));this.addAttribute("normal",
new ga(p,3));this.addAttribute("uv",new ga(q,2))}function Kd(c,a,b,d,e,f){X.call(this);this.type="RingGeometry";this.parameters={innerRadius:c,outerRadius:a,thetaSegments:b,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new ed(c,a,b,d,e,f));this.mergeVertices()}function ed(c,b,w,d,e,f){ia.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:c,outerRadius:b,thetaSegments:w,phiSegments:d,thetaStart:e,thetaLength:f};c=c||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:
2*Math.PI;w=void 0!==w?Math.max(3,w):8;d=void 0!==d?Math.max(1,d):1;var m=[],v=[],g=[],D=[],h=c,I=(b-c)/d,k=new l,n=new a,p,q;for(p=0;p<=d;p++){for(q=0;q<=w;q++)c=e+q/w*f,k.x=h*Math.cos(c),k.y=h*Math.sin(c),v.push(k.x,k.y,k.z),g.push(0,0,1),n.x=(k.x/b+1)/2,n.y=(k.y/b+1)/2,D.push(n.x,n.y);h+=I}for(p=0;p<d;p++)for(b=p*(w+1),q=0;q<w;q++)c=q+b,e=c+w+1,f=c+w+2,h=c+1,m.push(c,e,h),m.push(e,f,h);this.setIndex(m);this.addAttribute("position",new ga(v,3));this.addAttribute("normal",new ga(g,3));this.addAttribute("uv",
new ga(D,2))}function Ld(c,a,b,d){X.call(this);this.type="LatheGeometry";this.parameters={points:c,segments:a,phiStart:b,phiLength:d};this.fromBufferGeometry(new fd(c,a,b,d));this.mergeVertices()}function fd(c,b,w,d){ia.call(this);this.type="LatheBufferGeometry";this.parameters={points:c,segments:b,phiStart:w,phiLength:d};b=Math.floor(b)||12;w=w||0;d=d||2*Math.PI;d=Ba.clamp(d,0,2*Math.PI);var m=[],v=[],e=[],f=1/b,g=new l,h=new a,k;for(k=0;k<=b;k++){var n=w+k*f*d;var p=Math.sin(n),q=Math.cos(n);for(n=
0;n<=c.length-1;n++)g.x=c[n].x*p,g.y=c[n].y,g.z=c[n].x*q,v.push(g.x,g.y,g.z),h.x=k/b,h.y=n/(c.length-1),e.push(h.x,h.y)}for(k=0;k<b;k++)for(n=0;n<c.length-1;n++)w=n+k*c.length,f=w+c.length,g=w+c.length+1,h=w+1,m.push(w,f,h),m.push(f,g,h);this.setIndex(m);this.addAttribute("position",new ga(v,3));this.addAttribute("uv",new ga(e,2));this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,m=new l,v=new l,e=new l,w=b*c.length*3,n=k=0;k<c.length;k++,n+=3)m.x=d[n+0],m.y=d[n+1],m.z=
d[n+2],v.x=d[w+n+0],v.y=d[w+n+1],v.z=d[w+n+2],e.addVectors(m,v).normalize(),d[n+0]=d[w+n+0]=e.x,d[n+1]=d[w+n+1]=e.y,d[n+2]=d[w+n+2]=e.z}function gd(c,a){X.call(this);this.type="ShapeGeometry";"object"===typeof a&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),a=a.curveSegments);this.parameters={shapes:c,curveSegments:a};this.fromBufferGeometry(new hd(c,a));this.mergeVertices()}function hd(c,a){function b(c){var b,w=d.length/3;c=c.extractPoints(a);var v=c.shape,g=c.holes;
if(!1===Xb.isClockWise(v))for(v=v.reverse(),c=0,b=g.length;c<b;c++){var D=g[c];!0===Xb.isClockWise(D)&&(g[c]=D.reverse())}var I=Xb.triangulateShape(v,g);c=0;for(b=g.length;c<b;c++)D=g[c],v=v.concat(D);c=0;for(b=v.length;c<b;c++)D=v[c],d.push(D.x,D.y,0),e.push(0,0,1),f.push(D.x,D.y);c=0;for(b=I.length;c<b;c++)v=I[c],m.push(v[0]+w,v[1]+w,v[2]+w),h+=3}ia.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:c,curveSegments:a};a=a||12;var m=[],d=[],e=[],f=[],g=0,h=0;if(!1===Array.isArray(c))b(c);
else for(var k=0;k<c.length;k++)b(c[k]),this.addGroup(g,h,k),g+=h,h=0;this.setIndex(m);this.addAttribute("position",new ga(d,3));this.addAttribute("normal",new ga(e,3));this.addAttribute("uv",new ga(f,2))}function id(c,a){ia.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:a};var b=[],m=Math.cos(Ba.DEG2RAD*(void 0!==a?a:1)),d=[0,0],e={},f=["a","b","c"];if(c.isBufferGeometry){var g=new X;g.fromBufferGeometry(c)}else g=c.clone();g.mergeVertices();g.computeFaceNormals();var h=g.vertices;
g=g.faces;for(var k=0,l=g.length;k<l;k++)for(var n=g[k],p=0;3>p;p++){var q=n[f[p]];var r=n[f[(p+1)%3]];d[0]=Math.min(q,r);d[1]=Math.max(q,r);q=d[0]+","+d[1];void 0===e[q]?e[q]={index1:d[0],index2:d[1],face1:k,face2:void 0}:e[q].face2=k}for(q in e)if(d=e[q],void 0===d.face2||g[d.face1].normal.dot(g[d.face2].normal)<=m)f=h[d.index1],b.push(f.x,f.y,f.z),f=h[d.index2],b.push(f.x,f.y,f.z);this.addAttribute("position",new ga(b,3))}function Cc(c,a,b,d,e,f,g,h){X.call(this);this.type="CylinderGeometry";this.parameters=
{radiusTop:c,radiusBottom:a,height:b,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new kc(c,a,b,d,e,f,g,h));this.mergeVertices()}function kc(c,b,w,d,e,f,g,h){function m(m){var w,e=new a,f=new l,p=0,U=!0===m?c:b,oa=!0===m?1:-1;var r=n;for(w=1;w<=d;w++)I.push(0,la*oa,0),k.push(0,oa,0),S.push(.5,.5),n++;var t=n;for(w=0;w<=d;w++){var u=w/d*h+g,L=Math.cos(u),u=Math.sin(u);f.x=U*u;f.y=la*oa;f.z=U*L;I.push(f.x,f.y,f.z);k.push(0,oa,0);e.x=.5*L+.5;e.y=.5*
u*oa+.5;S.push(e.x,e.y);n++}for(w=0;w<d;w++)e=r+w,f=t+w,!0===m?D.push(f,f+1,e):D.push(f+1,f,e),p+=3;v.addGroup(q,p,!0===m?1:2);q+=p}ia.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:c,radiusBottom:b,height:w,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var v=this;c=void 0!==c?c:20;b=void 0!==b?b:20;w=void 0!==w?w:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var D=[],I=[],k=[],S=[],n=0,p=
[],la=w/2,q=0;(function(){var a,m,f=new l,U=new l,oa=0,r=(b-c)/w;for(m=0;m<=e;m++){var u=[],t=m/e,L=t*(b-c)+c;for(a=0;a<=d;a++){var x=a/d,pb=x*h+g,hb=Math.sin(pb),pb=Math.cos(pb);U.x=L*hb;U.y=-t*w+la;U.z=L*pb;I.push(U.x,U.y,U.z);f.set(hb,r,pb).normalize();k.push(f.x,f.y,f.z);S.push(x,1-t);u.push(n++)}p.push(u)}for(a=0;a<d;a++)for(m=0;m<e;m++)f=p[m+1][a],U=p[m+1][a+1],r=p[m][a+1],D.push(p[m][a],f,r),D.push(f,U,r),oa+=6;v.addGroup(q,oa,0);q+=oa})();!1===f&&(0<c&&m(!0),0<b&&m(!1));this.setIndex(D);this.addAttribute("position",
new ga(I,3));this.addAttribute("normal",new ga(k,3));this.addAttribute("uv",new ga(S,2))}function Md(c,a,b,d,e,f,g){Cc.call(this,0,c,a,b,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:c,height:a,radialSegments:b,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function Nd(c,a,b,d,e,f,g){kc.call(this,0,c,a,b,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:c,height:a,radialSegments:b,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function Dc(c,a,b,d){X.call(this);
this.type="CircleGeometry";this.parameters={radius:c,segments:a,thetaStart:b,thetaLength:d};this.fromBufferGeometry(new jd(c,a,b,d));this.mergeVertices()}function jd(c,b,w,d){ia.call(this);this.type="CircleBufferGeometry";this.parameters={radius:c,segments:b,thetaStart:w,thetaLength:d};c=c||50;b=void 0!==b?Math.max(3,b):8;w=void 0!==w?w:0;d=void 0!==d?d:2*Math.PI;var m=[],v=[],e=[],f=[],g,h=new l,k=new a;v.push(0,0,0);e.push(0,0,1);f.push(.5,.5);var n=0;for(g=3;n<=b;n++,g+=3){var p=w+n/b*d;h.x=c*
Math.cos(p);h.y=c*Math.sin(p);v.push(h.x,h.y,h.z);e.push(0,0,1);k.x=(v[g]/c+1)/2;k.y=(v[g+1]/c+1)/2;f.push(k.x,k.y)}for(g=1;g<=b;g++)m.push(g,g+1,0);this.setIndex(m);this.addAttribute("position",new ga(v,3));this.addAttribute("normal",new ga(e,3));this.addAttribute("uv",new ga(f,2))}function kd(c){Da.call(this,{uniforms:Fb.merge([xa.lights,{opacity:{value:1}}]),vertexShader:Ma.shadow_vert,fragmentShader:Ma.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,
get:function(){return this.uniforms.opacity.value},set:function(c){this.uniforms.opacity.value=c}}});this.setValues(c)}function ld(c){Da.call(this,c);this.type="RawShaderMaterial"}function ec(c){ha.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new G(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;
this.bumpScale=1;this.normalMap=null;this.normalScale=new a(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(c)}function Gc(c){ec.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";
this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(c)}function Yb(c){ha.call(this);this.type="MeshPhongMaterial";this.color=new G(16777215);this.specular=new G(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new a(1,1);this.displacementMap=null;this.displacementScale=
1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(c)}function Hc(c){Yb.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(c)}function Ic(c){ha.call(this,c);this.type="MeshNormalMaterial";this.bumpMap=null;
this.bumpScale=1;this.normalMap=null;this.normalScale=new a(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1;this.setValues(c)}function Jc(c){ha.call(this);this.type="MeshLambertMaterial";this.color=new G(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=
1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(c)}function Kc(c){ha.call(this);this.type="LineDashedMaterial";this.color=new G(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;this.setValues(c)}function Fe(c,a,b){var m=this,
w=!1,d=0,e=0;this.onStart=void 0;this.onLoad=c;this.onProgress=a;this.onError=b;this.itemStart=function(c){e++;if(!1===w&&void 0!==m.onStart)m.onStart(c,d,e);w=!0};this.itemEnd=function(c){d++;if(void 0!==m.onProgress)m.onProgress(c,d,e);if(d===e&&(w=!1,void 0!==m.onLoad))m.onLoad()};this.itemError=function(c){if(void 0!==m.onError)m.onError(c)}}function Zb(c){this.manager=void 0!==c?c:Ob}function lf(c){this.manager=void 0!==c?c:Ob;this._parser=null}function Ge(c){this.manager=void 0!==c?c:Ob;this._parser=
null}function Pd(c){this.manager=void 0!==c?c:Ob}function He(c){this.manager=void 0!==c?c:Ob}function de(c){this.manager=void 0!==c?c:Ob}function fb(c,a){R.call(this);this.type="Light";this.color=new G(c);this.intensity=void 0!==a?a:1;this.receiveShadow=void 0}function ee(c,a,b){fb.call(this,c,b);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(R.DefaultUp);this.updateMatrix();this.groundColor=new G(a)}function Lc(c){this.camera=c;this.bias=0;this.radius=1;this.mapSize=new a(512,
512);this.map=null;this.matrix=new u}function fe(){Lc.call(this,new bb(50,1,.5,500))}function ge(c,a,b,d,e,f){fb.call(this,c,a);this.type="SpotLight";this.position.copy(R.DefaultUp);this.updateMatrix();this.target=new R;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(c){this.intensity=c/Math.PI}});this.distance=void 0!==b?b:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new fe}function he(c,a,b,
d){fb.call(this,c,a);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(c){this.intensity=c/(4*Math.PI)}});this.distance=void 0!==b?b:0;this.decay=void 0!==d?d:1;this.shadow=new Lc(new bb(90,1,.5,500))}function ie(){Lc.call(this,new Qb(-5,5,5,-5,.5,500))}function je(c,a){fb.call(this,c,a);this.type="DirectionalLight";this.position.copy(R.DefaultUp);this.updateMatrix();this.target=new R;this.shadow=new ie}function ke(c,a){fb.call(this,
c,a);this.type="AmbientLight";this.castShadow=void 0}function le(c,a,b,d){fb.call(this,c,a);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();this.width=void 0!==b?b:10;this.height=void 0!==d?d:10}function Pb(c,a,b,d){this.parameterPositions=c;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new a.constructor(b);this.sampleValues=a;this.valueSize=b}function me(c,a,b,d){Pb.call(this,c,a,b,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Qd(c,
a,b,d){Pb.call(this,c,a,b,d)}function ne(c,a,b,d){Pb.call(this,c,a,b,d)}function Mc(c,a,b,d){if(void 0===c)throw Error("track name is undefined");if(void 0===a||0===a.length)throw Error("no keyframes in track named "+c);this.name=c;this.times=wb.convertArray(a,this.TimeBufferType);this.values=wb.convertArray(b,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation);this.validate();this.optimize()}function md(c,a,b,d){Mc.call(this,c,a,b,d)}function oe(c,a,b,d){Pb.call(this,c,a,b,
d)}function Rd(c,a,b,d){Mc.call(this,c,a,b,d)}function nd(c,a,b,d){Mc.call(this,c,a,b,d)}function pe(c,a,b,d){Mc.call(this,c,a,b,d)}function qe(c,a,b){Mc.call(this,c,a,b)}function re(c,a,b,d){Mc.call(this,c,a,b,d)}function Nc(c,a,b,d){Mc.apply(this,arguments)}function Tb(c,a,b){this.name=c;this.tracks=b;this.duration=void 0!==a?a:-1;this.uuid=Ba.generateUUID();0>this.duration&&this.resetDuration();this.optimize()}function se(c){this.manager=void 0!==c?c:Ob;this.textures={}}function Ie(c){this.manager=
void 0!==c?c:Ob}function od(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}function Je(c){"boolean"===typeof c&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),c=void 0);this.manager=void 0!==c?c:Ob;this.withCredentials=!1}function mf(c){this.manager=void 0!==c?c:Ob;this.texturePath=""}function nf(c,a,b,d,e){a=.5*(d-a);e=.5*(e-b);var m=c*c;return(2*b-2*d+a+e)*c*m+(-3*b+3*d-2*a-e)*m+a*c+b}function Oc(c,a,
b,d){var m=1-c;return m*m*a+2*(1-c)*c*b+c*c*d}function Pc(c,a,b,d,e){var m=1-c,w=1-c;return m*m*m*a+3*w*w*c*b+3*(1-c)*c*c*d+c*c*c*e}function zb(){this.arcLengthDivisions=200}function fc(c,a){this.arcLengthDivisions=200;this.v1=c;this.v2=a}function Sd(){this.arcLengthDivisions=200;this.curves=[];this.autoClose=!1}function mc(c,a,b,d,e,f,g,h){this.arcLengthDivisions=200;this.aX=c;this.aY=a;this.xRadius=b;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0}function Qc(c){this.arcLengthDivisions=
200;this.points=void 0===c?[]:c}function pd(c,a,b,d){this.arcLengthDivisions=200;this.v0=c;this.v1=a;this.v2=b;this.v3=d}function qd(c,a,b){this.arcLengthDivisions=200;this.v0=c;this.v1=a;this.v2=b}function Td(c){Sd.call(this);this.currentPoint=new a;c&&this.fromPoints(c)}function Rc(){Td.apply(this,arguments);this.holes=[]}function Ke(){this.subPaths=[];this.currentPath=null}function Le(c){this.data=c}function of(c){this.manager=void 0!==c?c:Ob}function Me(c){this.manager=void 0!==c?c:Ob}function pf(){this.type=
"StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new bb;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new bb;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function te(c,a,b){R.call(this);this.type="CubeCamera";var m=new bb(90,1,c,a);m.up.set(0,-1,0);m.lookAt(new l(1,0,0));this.add(m);var d=new bb(90,1,c,a);d.up.set(0,-1,0);d.lookAt(new l(-1,0,0));this.add(d);var w=new bb(90,1,c,a);w.up.set(0,0,1);w.lookAt(new l(0,1,0));this.add(w);var e=new bb(90,
1,c,a);e.up.set(0,0,-1);e.lookAt(new l(0,-1,0));this.add(e);var f=new bb(90,1,c,a);f.up.set(0,-1,0);f.lookAt(new l(0,0,1));this.add(f);var g=new bb(90,1,c,a);g.up.set(0,-1,0);g.lookAt(new l(0,0,-1));this.add(g);this.renderTarget=new z(b,b,{format:1022,magFilter:1006,minFilter:1006});this.renderTarget.texture.name="CubeCamera";this.updateCubeMap=function(c,a){null===this.parent&&this.updateMatrixWorld();var b=this.renderTarget,v=b.texture.generateMipmaps;b.texture.generateMipmaps=!1;b.activeCubeFace=
0;c.render(a,m,b);b.activeCubeFace=1;c.render(a,d,b);b.activeCubeFace=2;c.render(a,w,b);b.activeCubeFace=3;c.render(a,e,b);b.activeCubeFace=4;c.render(a,f,b);b.texture.generateMipmaps=v;b.activeCubeFace=5;c.render(a,g,b);c.setRenderTarget(null)}}function Ne(c){bb.call(this);this.enabled=!1;this.cameras=c||[]}function Oe(){R.call(this);this.type="AudioListener";this.context=Pe.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}function rd(c){R.call(this);
this.type="Audio";this.context=c.context;this.gain=this.context.createGain();this.gain.connect(c.getInput());this.autoplay=!1;this.buffer=null;this.loop=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function Qe(c){rd.call(this,c);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function Re(c,a){this.analyser=c.context.createAnalyser();this.analyser.fftSize=void 0!==a?a:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);
c.getOutput().connect(this.analyser)}function Se(c,a,b){this.binding=c;this.valueSize=b;c=Float64Array;switch(a){case "quaternion":a=this._slerp;break;case "string":case "bool":c=Array;a=this._select;break;default:a=this._lerp}this.buffer=new c(4*b);this._mixBufferRegion=a;this.referenceCount=this.useCount=this.cumulativeWeight=0}function qf(c,a,b){b=b||xb.parseTrackName(a);this._targetGroup=c;this._bindings=c.subscribe_(a,b)}function xb(c,a,b){this.path=a;this.parsedPath=b||xb.parseTrackName(a);
this.node=xb.findNode(c,this.parsedPath.nodeName)||c;this.rootNode=c}function rf(c){this.uuid=Ba.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,d=arguments.length;b!==d;++b)a[arguments[b].uuid]=b;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}
function sf(c,a,b){this._mixer=c;this._clip=a;this._localRoot=b||null;c=a.tracks;a=c.length;b=Array(a);for(var m={endingStart:2400,endingEnd:2400},d=0;d!==a;++d){var w=c[d].createInterpolant(null);b[d]=w;w.settings=m}this._interpolantSettings=m;this._interpolants=b;this._propertyBindings=Array(a);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=
this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function tf(c){this._root=c;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function ue(c,a){"string"===typeof c&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),c=a);this.value=c}function Te(){ia.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function Ue(c,a,b,d){this.uuid=Ba.generateUUID();
this.data=c;this.itemSize=a;this.offset=b;this.normalized=!0===d}function sd(c,a){this.uuid=Ba.generateUUID();this.array=c;this.stride=a;this.count=void 0!==c?c.length/a:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}function Ve(c,a,b){sd.call(this,c,a);this.meshPerAttribute=b||1}function We(c,a,b){ka.call(this,c,a);this.meshPerAttribute=b||1}function uf(c,a,b,d){this.ray=new wa(c,a);this.near=b||0;this.far=d||Infinity;this.params={Mesh:{},
Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function vf(c,a){return c.distance-a.distance}function Xe(c,a,b,d){if(!1!==c.visible&&(c.raycast(a,b),!0===d)){c=c.children;d=0;for(var m=c.length;d<m;d++)Xe(c[d],a,b,!0)}}function wf(c){this.autoStart=void 0!==c?c:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}
function xf(c,a,b){this.radius=void 0!==c?c:1;this.phi=void 0!==a?a:0;this.theta=void 0!==b?b:0;return this}function yf(c,a,b){this.radius=void 0!==c?c:1;this.theta=void 0!==a?a:0;this.y=void 0!==b?b:0;return this}function rb(c,a){Ta.call(this,c,a);this.animationsMap={};this.animationsList=[];var b=this.geometry.morphTargets.length;this.createAnimation("__default",0,b-1,b/1);this.setAnimationWeight("__default",1)}function Ud(c){R.call(this);this.material=c;this.render=function(c){}}function Vd(c,
a,b,d){this.object=c;this.size=void 0!==a?a:1;c=void 0!==b?b:16711680;d=void 0!==d?d:1;a=0;(b=this.object.geometry)&&b.isGeometry?a=3*b.faces.length:b&&b.isBufferGeometry&&(a=b.attributes.normal.count);b=new ia;a=new ga(6*a,3);b.addAttribute("position",a);Va.call(this,b,new Q({color:c,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function td(c){R.call(this);this.light=c;this.light.updateMatrixWorld();this.matrix=c.matrixWorld;this.matrixAutoUpdate=!1;c=new ia;for(var a=[0,0,0,0,0,1,0,0,0,
1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],b=0,d=1;32>b;b++,d++){var e=b/32*Math.PI*2,f=d/32*Math.PI*2;a.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}c.addAttribute("position",new ga(a,3));a=new Q({fog:!1});this.cone=new Va(c,a);this.add(this.cone);this.update()}function ud(c){this.bones=this.getBoneList(c);for(var a=new ia,b=[],d=[],e=new G(0,0,1),f=new G(0,1,0),g=0;g<this.bones.length;g++){var h=this.bones[g];h.parent&&h.parent.isBone&&(b.push(0,0,0),b.push(0,0,0),d.push(e.r,e.g,
e.b),d.push(f.r,f.g,f.b))}a.addAttribute("position",new ga(b,3));a.addAttribute("color",new ga(d,3));b=new Q({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Va.call(this,a,b);this.root=c;this.matrix=c.matrixWorld;this.matrixAutoUpdate=!1;this.update()}function vd(c,a){this.light=c;this.light.updateMatrixWorld();var b=new Bc(a,4,2),m=new db({wireframe:!0,fog:!1});m.color.copy(this.light.color).multiplyScalar(this.light.intensity);Ta.call(this,b,m);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=
!1}function wd(c){R.call(this);this.light=c;this.light.updateMatrixWorld();var a=new db({color:c.color,fog:!1});c=new db({color:c.color,fog:!1,wireframe:!0});var b=new ia;b.addAttribute("position",new ka(new Float32Array(18),3));this.add(new Ta(b,a));this.add(new Ta(b,c));this.update()}function xd(c,a){R.call(this);this.light=c;this.light.updateMatrixWorld();this.matrix=c.matrixWorld;this.matrixAutoUpdate=!1;var b=new Ib(a);b.rotateY(.5*Math.PI);var m=new db({vertexColors:2,wireframe:!0}),d=b.getAttribute("position"),
d=new Float32Array(3*d.count);b.addAttribute("color",new ka(d,3));this.add(new Ta(b,m));this.update()}function Wd(c,a,b,d){c=c||10;a=a||10;b=new G(void 0!==b?b:4473924);d=new G(void 0!==d?d:8947848);var m=a/2,w=c/a,v=c/2;c=[];for(var e=[],f=0,g=0,h=-v;f<=a;f++,h+=w){c.push(-v,0,h,v,0,h);c.push(h,0,-v,h,0,v);var k=f===m?b:d;k.toArray(e,g);g+=3;k.toArray(e,g);g+=3;k.toArray(e,g);g+=3;k.toArray(e,g);g+=3}a=new ia;a.addAttribute("position",new ga(c,3));a.addAttribute("color",new ga(e,3));b=new Q({vertexColors:2});
Va.call(this,a,b)}function ve(c,a,b,d,e,f){c=c||10;a=a||16;b=b||8;d=d||64;e=new G(void 0!==e?e:4473924);f=new G(void 0!==f?f:8947848);var m=[],w=[],v;for(v=0;v<=a;v++){var g=v/a*2*Math.PI;var D=Math.sin(g)*c;g=Math.cos(g)*c;m.push(0,0,0);m.push(D,0,g);var h=v&1?e:f;w.push(h.r,h.g,h.b);w.push(h.r,h.g,h.b)}for(v=0;v<=b;v++){h=v&1?e:f;var k=c-c/b*v;for(a=0;a<d;a++)g=a/d*2*Math.PI,D=Math.sin(g)*k,g=Math.cos(g)*k,m.push(D,0,g),w.push(h.r,h.g,h.b),g=(a+1)/d*2*Math.PI,D=Math.sin(g)*k,g=Math.cos(g)*k,m.push(D,
0,g),w.push(h.r,h.g,h.b)}c=new ia;c.addAttribute("position",new ga(m,3));c.addAttribute("color",new ga(w,3));m=new Q({vertexColors:2});Va.call(this,c,m)}function Xd(c,a,b,d){this.object=c;this.size=void 0!==a?a:1;c=void 0!==b?b:16776960;d=void 0!==d?d:1;a=0;(b=this.object.geometry)&&b.isGeometry?a=b.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");b=new ia;a=new ga(6*a,3);b.addAttribute("position",a);Va.call(this,b,new Q({color:c,
linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function yd(c,a){R.call(this);this.light=c;this.light.updateMatrixWorld();this.matrix=c.matrixWorld;this.matrixAutoUpdate=!1;void 0===a&&(a=1);var b=new ia;b.addAttribute("position",new ga([-a,a,0,a,a,0,a,-a,0,-a,-a,0,-a,a,0],3));var m=new Q({fog:!1});this.add(new fa(b,m));b=new ia;b.addAttribute("position",new ga([0,0,0,0,0,1],3));this.add(new fa(b,m));this.update()}function Yd(c){function a(c,a,m){b(c,m);b(a,m)}function b(c,a){f.push(0,0,0);
g.push(a.r,a.g,a.b);void 0===h[c]&&(h[c]=[]);h[c].push(f.length/3-1)}var d=new ia,e=new Q({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new G(16755200),l=new G(16711680),n=new G(43775),p=new G(16777215),q=new G(3355443);a("n1","n2",k);a("n2","n4",k);a("n4","n3",k);a("n3","n1",k);a("f1","f2",k);a("f2","f4",k);a("f4","f3",k);a("f3","f1",k);a("n1","f1",k);a("n2","f2",k);a("n3","f3",k);a("n4","f4",k);a("p","n1",l);a("p","n2",l);a("p","n3",l);a("p","n4",l);a("u1","u2",n);a("u2","u3",n);a("u3","u1",
n);a("c","t",p);a("p","c",q);a("cn1","cn2",q);a("cn3","cn4",q);a("cf1","cf2",q);a("cf3","cf4",q);d.addAttribute("position",new ga(f,3));d.addAttribute("color",new ga(g,3));Va.call(this,d,e);this.camera=c;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=c.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function Sc(c,a){this.object=c;void 0===a&&(a=16776960);var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new Float32Array(24),
d=new ia;d.setIndex(new ka(b,1));d.addAttribute("position",new ka(m,3));Va.call(this,d,new Q({color:a}));this.matrixAutoUpdate=!1;this.update()}function Tc(c,a,b,d,e,f){R.call(this);void 0===d&&(d=16776960);void 0===b&&(b=1);void 0===e&&(e=.2*b);void 0===f&&(f=.2*e);void 0===we&&(we=new ia,we.addAttribute("position",new ga([0,0,0,0,1,0],3)),Ye=new kc(0,.5,1,5,1),Ye.translate(0,-.5,0));this.position.copy(a);this.line=new fa(we,new Q({color:d}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=
new Ta(Ye,new db({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(b,e,f)}function xe(c){c=c||1;var a=[0,0,0,c,0,0,0,0,0,0,c,0,0,0,0,0,0,c];c=new ia;c.addAttribute("position",new ga(a,3));c.addAttribute("color",new ga([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));a=new Q({vertexColors:2});Va.call(this,c,a)}function Ze(){var c=0,a=0,b=0,d=0;return{initCatmullRom:function(m,w,v,e,f){m=f*(v-m);e=f*(e-w);c=w;a=m;b=-3*w+3*v-2*m-e;d=2*w-2*v+m+e},initNonuniformCatmullRom:function(m,
w,v,e,f,g,h){m=((w-m)/f-(v-m)/(f+g)+(v-w)/g)*g;e=((v-w)/g-(e-w)/(g+h)+(e-v)/h)*g;c=w;a=m;b=-3*w+3*v-2*m-e;d=2*w-2*v+m+e},calc:function(m){var w=m*m;return c+a*m+b*w+d*w*m}}}function $b(c){this.arcLengthDivisions=200;this.points=c||[];this.closed=!1}function Zd(c,a,b,d){this.arcLengthDivisions=200;this.v0=c;this.v1=a;this.v2=b;this.v3=d}function $d(c,a,b){this.arcLengthDivisions=200;this.v0=c;this.v1=a;this.v2=b}function ae(c,a){this.arcLengthDivisions=200;this.v1=c;this.v2=a}function ye(c,a,b,d,e,
f){mc.call(this,c,a,b,b,d,e,f)}function zf(c){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");$b.call(this,c);this.type="catmullrom";this.closed=!0}function Af(c){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");$b.call(this,c);this.type="catmullrom"}function $e(c){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");$b.call(this,c);this.type="catmullrom"}void 0===Number.EPSILON&&
(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(c){return"number"===typeof c&&isFinite(c)&&Math.floor(c)===c});void 0===Math.sign&&(Math.sign=function(c){return 0>c?-1:0<c?1:+c});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(c){if(void 0===c||null===c)throw new TypeError("Cannot convert undefined or null to object");
for(var a=Object(c),b=1;b<arguments.length;b++){var d=arguments[b];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a}}();Object.assign(g.prototype,{addEventListener:function(c,a){void 0===this._listeners&&(this._listeners={});var b=this._listeners;void 0===b[c]&&(b[c]=[]);-1===b[c].indexOf(a)&&b[c].push(a)},hasEventListener:function(c,a){if(void 0===this._listeners)return!1;var b=this._listeners;return void 0!==b[c]&&-1!==b[c].indexOf(a)},removeEventListener:function(c,
a){if(void 0!==this._listeners){var b=this._listeners[c];if(void 0!==b){var m=b.indexOf(a);-1!==m&&b.splice(m,1)}}},dispatchEvent:function(c){if(void 0!==this._listeners){var a=this._listeners[c.type];if(void 0!==a){c.target=this;var b=[],d,e=a.length;for(d=0;d<e;d++)b[d]=a[d];for(d=0;d<e;d++)b[d].call(this,c)}}}});var Ba={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=Array(36),b=0,d;return function(){for(var m=
0;36>m;m++)8===m||13===m||18===m||23===m?a[m]="-":14===m?a[m]="4":(2>=b&&(b=33554432+16777216*Math.random()|0),d=b&15,b>>=4,a[m]=c[19===m?d&3|8:d]);return a.join("")}}(),clamp:function(c,a,b){return Math.max(a,Math.min(b,c))},euclideanModulo:function(c,a){return(c%a+a)%a},mapLinear:function(c,a,b,d,e){return d+(c-a)*(e-d)/(b-a)},lerp:function(c,a,b){return(1-b)*c+b*a},smoothstep:function(c,a,b){if(c<=a)return 0;if(c>=b)return 1;c=(c-a)/(b-a);return c*c*(3-2*c)},smootherstep:function(c,a,b){if(c<=
a)return 0;if(c>=b)return 1;c=(c-a)/(b-a);return c*c*c*(c*(6*c-15)+10)},randInt:function(c,a){return c+Math.floor(Math.random()*(a-c+1))},randFloat:function(c,a){return c+Math.random()*(a-c)},randFloatSpread:function(c){return c*(.5-Math.random())},degToRad:function(c){return c*Ba.DEG2RAD},radToDeg:function(c){return c*Ba.RAD2DEG},isPowerOfTwo:function(c){return 0===(c&c-1)&&0!==c},nearestPowerOfTwo:function(c){return Math.pow(2,Math.round(Math.log(c)/Math.LN2))},nextPowerOfTwo:function(c){c--;c|=
c>>1;c|=c>>2;c|=c>>4;c|=c>>8;c|=c>>16;c++;return c}};Object.defineProperties(a.prototype,{width:{get:function(){return this.x},set:function(c){this.x=c}},height:{get:function(){return this.y},set:function(c){this.y=c}}});Object.assign(a.prototype,{isVector2:!0,set:function(c,a){this.x=c;this.y=a;return this},setScalar:function(c){this.y=this.x=c;return this},setX:function(c){this.x=c;return this},setY:function(c){this.y=c;return this},setComponent:function(c,a){switch(c){case 0:this.x=a;break;case 1:this.y=
a;break;default:throw Error("index is out of range: "+c);}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+c);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(c){this.x=c.x;this.y=c.y;return this},add:function(c,a){if(void 0!==a)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,a);this.x+=c.x;this.y+=c.y;return this},
addScalar:function(c){this.x+=c;this.y+=c;return this},addVectors:function(c,a){this.x=c.x+a.x;this.y=c.y+a.y;return this},addScaledVector:function(c,a){this.x+=c.x*a;this.y+=c.y*a;return this},sub:function(c,a){if(void 0!==a)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,a);this.x-=c.x;this.y-=c.y;return this},subScalar:function(c){this.x-=c;this.y-=c;return this},subVectors:function(c,a){this.x=c.x-a.x;this.y=c.y-a.y;
return this},multiply:function(c){this.x*=c.x;this.y*=c.y;return this},multiplyScalar:function(c){this.x*=c;this.y*=c;return this},divide:function(c){this.x/=c.x;this.y/=c.y;return this},divideScalar:function(c){return this.multiplyScalar(1/c)},min:function(c){this.x=Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);return this},max:function(c){this.x=Math.max(this.x,c.x);this.y=Math.max(this.y,c.y);return this},clamp:function(c,a){this.x=Math.max(c.x,Math.min(a.x,this.x));this.y=Math.max(c.y,Math.min(a.y,
this.y));return this},clampScalar:function(){var c=new a,b=new a;return function(a,m){c.set(a,a);b.set(m,m);return this.clamp(c,b)}}(),clampLength:function(c,a){var b=this.length();return this.multiplyScalar(Math.max(c,Math.min(a,b))/b)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=
0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(c){return this.x*c.x+this.y*c.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var c=Math.atan2(this.y,
this.x);0>c&&(c+=2*Math.PI);return c},distanceTo:function(c){return Math.sqrt(this.distanceToSquared(c))},distanceToSquared:function(c){var a=this.x-c.x;c=this.y-c.y;return a*a+c*c},distanceToManhattan:function(c){return Math.abs(this.x-c.x)+Math.abs(this.y-c.y)},setLength:function(c){return this.multiplyScalar(c/this.length())},lerp:function(c,a){this.x+=(c.x-this.x)*a;this.y+=(c.y-this.y)*a;return this},lerpVectors:function(c,a,b){return this.subVectors(a,c).multiplyScalar(b).add(c)},equals:function(c){return c.x===
this.x&&c.y===this.y},fromArray:function(c,a){void 0===a&&(a=0);this.x=c[a];this.y=c[a+1];return this},toArray:function(c,a){void 0===c&&(c=[]);void 0===a&&(a=0);c[a]=this.x;c[a+1]=this.y;return c},fromBufferAttribute:function(c,a,b){void 0!==b&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=c.getX(a);this.y=c.getY(a);return this},rotateAround:function(c,a){var b=Math.cos(a),m=Math.sin(a),d=this.x-c.x,e=this.y-c.y;this.x=d*b-e*m+c.x;this.y=d*m+e*b+c.y;return this}});
var Ef=0;n.DEFAULT_IMAGE=void 0;n.DEFAULT_MAPPING=300;Object.defineProperty(n.prototype,"needsUpdate",{set:function(c){!0===c&&this.version++}});Object.assign(n.prototype,g.prototype,{constructor:n,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(c){this.name=c.name;this.image=c.image;this.mipmaps=c.mipmaps.slice(0);this.mapping=c.mapping;this.wrapS=c.wrapS;this.wrapT=c.wrapT;this.magFilter=c.magFilter;this.minFilter=c.minFilter;this.anisotropy=c.anisotropy;this.format=
c.format;this.type=c.type;this.offset.copy(c.offset);this.repeat.copy(c.repeat);this.generateMipmaps=c.generateMipmaps;this.premultiplyAlpha=c.premultiplyAlpha;this.flipY=c.flipY;this.unpackAlignment=c.unpackAlignment;this.encoding=c.encoding;return this},toJSON:function(c){if(void 0!==c.textures[this.uuid])return c.textures[this.uuid];var a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,
this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var b=this.image;void 0===b.uuid&&(b.uuid=Ba.generateUUID());if(void 0===c.images[b.uuid]){var d=c.images,e=b.uuid,f=b.uuid;if(void 0!==b.toDataURL)var g=b;else g=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),g.width=b.width,g.height=b.height,g.getContext("2d").drawImage(b,0,0,b.width,b.height);g=2048<g.width||2048<g.height?
g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}a.image=b.uuid}return c.textures[this.uuid]=a},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(c){if(300===this.mapping){c.multiply(this.repeat);c.add(this.offset);if(0>c.x||1<c.x)switch(this.wrapS){case 1E3:c.x-=Math.floor(c.x);break;case 1001:c.x=0>c.x?0:1;break;case 1002:c.x=1===Math.abs(Math.floor(c.x)%2)?Math.ceil(c.x)-c.x:c.x-Math.floor(c.x)}if(0>c.y||1<c.y)switch(this.wrapT){case 1E3:c.y-=
Math.floor(c.y);break;case 1001:c.y=0>c.y?0:1;break;case 1002:c.y=1===Math.abs(Math.floor(c.y)%2)?Math.ceil(c.y)-c.y:c.y-Math.floor(c.y)}this.flipY&&(c.y=1-c.y)}}});Object.assign(h.prototype,{isVector4:!0,set:function(c,a,b,d){this.x=c;this.y=a;this.z=b;this.w=d;return this},setScalar:function(c){this.w=this.z=this.y=this.x=c;return this},setX:function(c){this.x=c;return this},setY:function(c){this.y=c;return this},setZ:function(c){this.z=c;return this},setW:function(c){this.w=c;return this},setComponent:function(c,
a){switch(c){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw Error("index is out of range: "+c);}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+c);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(c){this.x=c.x;this.y=c.y;this.z=c.z;this.w=void 0!==c.w?c.w:1;return this},add:function(c,
a){if(void 0!==a)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,a);this.x+=c.x;this.y+=c.y;this.z+=c.z;this.w+=c.w;return this},addScalar:function(c){this.x+=c;this.y+=c;this.z+=c;this.w+=c;return this},addVectors:function(c,a){this.x=c.x+a.x;this.y=c.y+a.y;this.z=c.z+a.z;this.w=c.w+a.w;return this},addScaledVector:function(c,a){this.x+=c.x*a;this.y+=c.y*a;this.z+=c.z*a;this.w+=c.w*a;return this},sub:function(c,a){if(void 0!==
a)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(c,a);this.x-=c.x;this.y-=c.y;this.z-=c.z;this.w-=c.w;return this},subScalar:function(c){this.x-=c;this.y-=c;this.z-=c;this.w-=c;return this},subVectors:function(c,a){this.x=c.x-a.x;this.y=c.y-a.y;this.z=c.z-a.z;this.w=c.w-a.w;return this},multiplyScalar:function(c){this.x*=c;this.y*=c;this.z*=c;this.w*=c;return this},applyMatrix4:function(c){var a=this.x,b=this.y,d=this.z,
e=this.w;c=c.elements;this.x=c[0]*a+c[4]*b+c[8]*d+c[12]*e;this.y=c[1]*a+c[5]*b+c[9]*d+c[13]*e;this.z=c[2]*a+c[6]*b+c[10]*d+c[14]*e;this.w=c[3]*a+c[7]*b+c[11]*d+c[15]*e;return this},divideScalar:function(c){return this.multiplyScalar(1/c)},setAxisAngleFromQuaternion:function(c){this.w=2*Math.acos(c.w);var a=Math.sqrt(1-c.w*c.w);1E-4>a?(this.x=1,this.z=this.y=0):(this.x=c.x/a,this.y=c.y/a,this.z=c.z/a);return this},setAxisAngleFromRotationMatrix:function(c){c=c.elements;var a=c[0];var b=c[4];var d=
c[8],e=c[1],f=c[5],g=c[9];var h=c[2];var k=c[6];var l=c[10];if(.01>Math.abs(b-e)&&.01>Math.abs(d-h)&&.01>Math.abs(g-k)){if(.1>Math.abs(b+e)&&.1>Math.abs(d+h)&&.1>Math.abs(g+k)&&.1>Math.abs(a+f+l-3))return this.set(1,0,0,0),this;c=Math.PI;a=(a+1)/2;f=(f+1)/2;l=(l+1)/2;b=(b+e)/4;d=(d+h)/4;g=(g+k)/4;a>f&&a>l?.01>a?(k=0,b=h=.707106781):(k=Math.sqrt(a),h=b/k,b=d/k):f>l?.01>f?(k=.707106781,h=0,b=.707106781):(h=Math.sqrt(f),k=b/h,b=g/h):.01>l?(h=k=.707106781,b=0):(b=Math.sqrt(l),k=d/b,h=g/b);this.set(k,
h,b,c);return this}c=Math.sqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-b)*(e-b));.001>Math.abs(c)&&(c=1);this.x=(k-g)/c;this.y=(d-h)/c;this.z=(e-b)/c;this.w=Math.acos((a+f+l-1)/2);return this},min:function(c){this.x=Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);this.z=Math.min(this.z,c.z);this.w=Math.min(this.w,c.w);return this},max:function(c){this.x=Math.max(this.x,c.x);this.y=Math.max(this.y,c.y);this.z=Math.max(this.z,c.z);this.w=Math.max(this.w,c.w);return this},clamp:function(c,a){this.x=Math.max(c.x,
Math.min(a.x,this.x));this.y=Math.max(c.y,Math.min(a.y,this.y));this.z=Math.max(c.z,Math.min(a.z,this.z));this.w=Math.max(c.w,Math.min(a.w,this.w));return this},clampScalar:function(){var c=new h,a=new h;return function(b,m){c.set(b,b,b,b);a.set(m,m,m,m);return this.clamp(c,a)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);
this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},
dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(c){return this.multiplyScalar(c/this.length())},lerp:function(c,a){this.x+=
(c.x-this.x)*a;this.y+=(c.y-this.y)*a;this.z+=(c.z-this.z)*a;this.w+=(c.w-this.w)*a;return this},lerpVectors:function(c,a,b){return this.subVectors(a,c).multiplyScalar(b).add(c)},equals:function(c){return c.x===this.x&&c.y===this.y&&c.z===this.z&&c.w===this.w},fromArray:function(c,a){void 0===a&&(a=0);this.x=c[a];this.y=c[a+1];this.z=c[a+2];this.w=c[a+3];return this},toArray:function(c,a){void 0===c&&(c=[]);void 0===a&&(a=0);c[a]=this.x;c[a+1]=this.y;c[a+2]=this.z;c[a+3]=this.w;return c},fromBufferAttribute:function(c,
a,b){void 0!==b&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=c.getX(a);this.y=c.getY(a);this.z=c.getZ(a);this.w=c.getW(a);return this}});Object.assign(t.prototype,g.prototype,{isWebGLRenderTarget:!0,setSize:function(c,a){if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.dispose();this.viewport.set(0,0,c,a);this.scissor.set(0,0,c,a)},clone:function(){return(new this.constructor).copy(this)},copy:function(c){this.width=c.width;this.height=
c.height;this.viewport.copy(c.viewport);this.texture=c.texture.clone();this.depthBuffer=c.depthBuffer;this.stencilBuffer=c.stencilBuffer;this.depthTexture=c.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});z.prototype=Object.create(t.prototype);z.prototype.constructor=z;z.prototype.isWebGLRenderTargetCube=!0;Object.assign(x,{slerp:function(c,a,b,d){return b.copy(c).slerp(a,d)},slerpFlat:function(c,a,b,d,e,f,g){var m=b[d+0],w=b[d+1],v=b[d+2];b=b[d+3];d=e[f+0];var D=
e[f+1],h=e[f+2];e=e[f+3];if(b!==e||m!==d||w!==D||v!==h){f=1-g;var k=m*d+w*D+v*h+b*e,I=0<=k?1:-1,S=1-k*k;S>Number.EPSILON&&(S=Math.sqrt(S),k=Math.atan2(S,k*I),f=Math.sin(f*k)/S,g=Math.sin(g*k)/S);I*=g;m=m*f+d*I;w=w*f+D*I;v=v*f+h*I;b=b*f+e*I;f===1-g&&(g=1/Math.sqrt(m*m+w*w+v*v+b*b),m*=g,w*=g,v*=g,b*=g)}c[a]=m;c[a+1]=w;c[a+2]=v;c[a+3]=b}});Object.defineProperties(x.prototype,{x:{get:function(){return this._x},set:function(c){this._x=c;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(c){this._y=
c;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(c){this._z=c;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(c){this._w=c;this.onChangeCallback()}}});Object.assign(x.prototype,{set:function(c,a,b,d){this._x=c;this._y=a;this._z=b;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(c){this._x=c.x;this._y=c.y;this._z=c.z;this._w=c.w;this.onChangeCallback();return this},
setFromEuler:function(c,a){if(!1===(c&&c.isEuler))throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var b=c._x,m=c._y,d=c._z,e=c.order,f=Math.cos,g=Math.sin,h=f(b/2),k=f(m/2),f=f(d/2),b=g(b/2),m=g(m/2),d=g(d/2);"XYZ"===e?(this._x=b*k*f+h*m*d,this._y=h*m*f-b*k*d,this._z=h*k*d+b*m*f,this._w=h*k*f-b*m*d):"YXZ"===e?(this._x=b*k*f+h*m*d,this._y=h*m*f-b*k*d,this._z=h*k*d-b*m*f,this._w=h*k*f+b*m*d):"ZXY"===e?(this._x=b*k*f-h*m*d,this._y=h*m*f+
b*k*d,this._z=h*k*d+b*m*f,this._w=h*k*f-b*m*d):"ZYX"===e?(this._x=b*k*f-h*m*d,this._y=h*m*f+b*k*d,this._z=h*k*d-b*m*f,this._w=h*k*f+b*m*d):"YZX"===e?(this._x=b*k*f+h*m*d,this._y=h*m*f+b*k*d,this._z=h*k*d-b*m*f,this._w=h*k*f-b*m*d):"XZY"===e&&(this._x=b*k*f-h*m*d,this._y=h*m*f-b*k*d,this._z=h*k*d+b*m*f,this._w=h*k*f+b*m*d);if(!1!==a)this.onChangeCallback();return this},setFromAxisAngle:function(c,a){var b=a/2,m=Math.sin(b);this._x=c.x*m;this._y=c.y*m;this._z=c.z*m;this._w=Math.cos(b);this.onChangeCallback();
return this},setFromRotationMatrix:function(c){var a=c.elements,b=a[0];c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9],h=a[2],k=a[6],a=a[10],l=b+f+a;0<l?(b=.5/Math.sqrt(l+1),this._w=.25/b,this._x=(k-g)*b,this._y=(d-h)*b,this._z=(e-c)*b):b>f&&b>a?(b=2*Math.sqrt(1+b-f-a),this._w=(k-g)/b,this._x=.25*b,this._y=(c+e)/b,this._z=(d+h)/b):f>a?(b=2*Math.sqrt(1+f-b-a),this._w=(d-h)/b,this._x=(c+e)/b,this._y=.25*b,this._z=(g+k)/b):(b=2*Math.sqrt(1+a-b-f),this._w=(e-c)/b,this._x=(d+h)/b,this._y=(g+k)/b,this._z=.25*b);
this.onChangeCallback();return this},setFromUnitVectors:function(){var c=new l,a;return function(b,m){void 0===c&&(c=new l);a=b.dot(m)+1;1E-6>a?(a=0,Math.abs(b.x)>Math.abs(b.z)?c.set(-b.y,b.x,0):c.set(0,-b.z,b.y)):c.crossVectors(b,m);this._x=c.x;this._y=c.y;this._z=c.z;this._w=a;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(c){return this._x*c._x+this._y*
c._y+this._z*c._z+this._w*c._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var c=this.length();0===c?(this._z=this._y=this._x=0,this._w=1):(c=1/c,this._x*=c,this._y*=c,this._z*=c,this._w*=c);this.onChangeCallback();return this},multiply:function(c,a){return void 0!==a?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
this.multiplyQuaternions(c,a)):this.multiplyQuaternions(this,c)},premultiply:function(c){return this.multiplyQuaternions(c,this)},multiplyQuaternions:function(c,a){var b=c._x,m=c._y,d=c._z,e=c._w,f=a._x,g=a._y,h=a._z,k=a._w;this._x=b*k+e*f+m*h-d*g;this._y=m*k+e*g+d*f-b*h;this._z=d*k+e*h+b*g-m*f;this._w=e*k-b*f-m*g-d*h;this.onChangeCallback();return this},slerp:function(c,a){if(0===a)return this;if(1===a)return this.copy(c);var b=this._x,m=this._y,d=this._z,e=this._w,f=e*c._w+b*c._x+m*c._y+d*c._z;
0>f?(this._w=-c._w,this._x=-c._x,this._y=-c._y,this._z=-c._z,f=-f):this.copy(c);if(1<=f)return this._w=e,this._x=b,this._y=m,this._z=d,this;var g=Math.sqrt(1-f*f);if(.001>Math.abs(g))return this._w=.5*(e+this._w),this._x=.5*(b+this._x),this._y=.5*(m+this._y),this._z=.5*(d+this._z),this;var h=Math.atan2(g,f),f=Math.sin((1-a)*h)/g,g=Math.sin(a*h)/g;this._w=e*f+this._w*g;this._x=b*f+this._x*g;this._y=m*f+this._y*g;this._z=d*f+this._z*g;this.onChangeCallback();return this},equals:function(c){return c._x===
this._x&&c._y===this._y&&c._z===this._z&&c._w===this._w},fromArray:function(c,a){void 0===a&&(a=0);this._x=c[a];this._y=c[a+1];this._z=c[a+2];this._w=c[a+3];this.onChangeCallback();return this},toArray:function(c,a){void 0===c&&(c=[]);void 0===a&&(a=0);c[a]=this._x;c[a+1]=this._y;c[a+2]=this._z;c[a+3]=this._w;return c},onChange:function(c){this.onChangeCallback=c;return this},onChangeCallback:function(){}});Object.assign(l.prototype,{isVector3:!0,set:function(c,a,b){this.x=c;this.y=a;this.z=b;return this},
setScalar:function(c){this.z=this.y=this.x=c;return this},setX:function(c){this.x=c;return this},setY:function(c){this.y=c;return this},setZ:function(c){this.z=c;return this},setComponent:function(c,a){switch(c){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw Error("index is out of range: "+c);}return this},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+c);}},clone:function(){return new this.constructor(this.x,
this.y,this.z)},copy:function(c){this.x=c.x;this.y=c.y;this.z=c.z;return this},add:function(c,a){if(void 0!==a)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(c,a);this.x+=c.x;this.y+=c.y;this.z+=c.z;return this},addScalar:function(c){this.x+=c;this.y+=c;this.z+=c;return this},addVectors:function(c,a){this.x=c.x+a.x;this.y=c.y+a.y;this.z=c.z+a.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=
a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new x;return function(c){!1===(c&&c.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(a.setFromEuler(c))}}(),applyAxisAngle:function(){var a=new x;
return function(c,b){return this.applyQuaternion(a.setFromAxisAngle(c,b))}}(),applyMatrix3:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[3]*b+a[6]*d;this.y=a[1]*c+a[4]*b+a[7]*d;this.z=a[2]*c+a[5]*b+a[8]*d;return this},applyMatrix4:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[4]*b+a[8]*d+a[12];this.y=a[1]*c+a[5]*b+a[9]*d+a[13];this.z=a[2]*c+a[6]*b+a[10]*d+a[14];return this.divideScalar(a[3]*c+a[7]*b+a[11]*d+a[15])},applyQuaternion:function(a){var c=
this.x,b=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*c+f*d-g*b,k=a*b+g*c-e*d,l=a*d+e*b-f*c,c=-e*c-f*b-g*d;this.x=h*a+c*-e+k*-g-l*-f;this.y=k*a+c*-f+l*-e-h*-g;this.z=l*a+c*-g+h*-f-k*-e;return this},project:function(){var a=new u;return function(c){a.multiplyMatrices(c.projectionMatrix,a.getInverse(c.matrixWorld));return this.applyMatrix4(a)}}(),unproject:function(){var a=new u;return function(c){a.multiplyMatrices(c.matrixWorld,a.getInverse(c.projectionMatrix));return this.applyMatrix4(a)}}(),
transformDirection:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[4]*b+a[8]*d;this.y=a[1]*c+a[5]*b+a[9]*d;this.z=a[2]*c+a[6]*b+a[10]*d;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=
Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a=new l,b=new l;return function(c,m){a.set(c,c,c);b.set(m,m,m);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,d){return this.subVectors(b,a).multiplyScalar(d).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,m=this.y,d=this.z;this.x=m*a.z-d*a.y;this.y=d*a.x-c*a.z;this.z=c*a.y-m*a.x;return this},crossVectors:function(a,b){var c=a.x,m=a.y,d=a.z,e=b.x,f=b.y,g=b.z;this.x=m*g-d*f;this.y=d*e-c*g;this.z=c*f-m*e;return this},projectOnVector:function(a){var c=a.dot(this)/
a.lengthSq();return this.copy(a).multiplyScalar(c)},projectOnPlane:function(){var a=new l;return function(c){a.copy(this).projectOnVector(c);return this.sub(a)}}(),reflect:function(){var a=new l;return function(c){return this.sub(a.copy(c).multiplyScalar(2*this.dot(c)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(Ba.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,b=
this.y-a.y;a=this.z-a.z;return c*c+b*b+a*a},distanceToManhattan:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){var c=Math.sin(a.phi)*a.radius;this.x=c*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=c*Math.cos(a.theta);return this},setFromCylindrical:function(a){this.x=a.radius*Math.sin(a.theta);this.y=a.y;this.z=a.radius*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){return this.setFromMatrixColumn(a,3)},
setFromMatrixScale:function(a){var c=this.setFromMatrixColumn(a,0).length(),b=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=c;this.y=b;this.z=a;return this},setFromMatrixColumn:function(a,b){return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;
a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function(a,b,d){void 0!==d&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(u.prototype,{isMatrix4:!0,set:function(a,b,d,e,f,g,h,k,l,n,p,q,r,t,u,x){var c=this.elements;c[0]=a;c[4]=b;c[8]=d;c[12]=e;c[1]=f;c[5]=g;c[9]=h;c[13]=k;c[2]=l;c[6]=n;c[10]=p;c[14]=q;c[3]=r;c[7]=t;c[11]=u;c[15]=x;return this},identity:function(){this.set(1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new u).fromArray(this.elements)},copy:function(a){var c=this.elements;a=a.elements;c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return this},copyPosition:function(a){var c=this.elements;a=a.elements;c[12]=a[12];c[13]=a[13];c[14]=a[14];return this},extractBasis:function(a,b,d){a.setFromMatrixColumn(this,0);
b.setFromMatrixColumn(this,1);d.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,d){this.set(a.x,b.x,d.x,0,a.y,b.y,d.y,0,a.z,b.z,d.z,0,0,0,0,1);return this},extractRotation:function(){var a=new l;return function(c){var b=this.elements,m=c.elements,d=1/a.setFromMatrixColumn(c,0).length(),e=1/a.setFromMatrixColumn(c,1).length();c=1/a.setFromMatrixColumn(c,2).length();b[0]=m[0]*d;b[1]=m[1]*d;b[2]=m[2]*d;b[4]=m[4]*e;b[5]=m[5]*e;b[6]=m[6]*e;b[8]=m[8]*c;b[9]=m[9]*c;b[10]=m[10]*c;return this}}(),
makeRotationFromEuler:function(a){!1===(a&&a.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c=this.elements,b=a.x,d=a.y,e=a.z,f=Math.cos(b),b=Math.sin(b),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){var k=f*h;var l=f*e;var n=b*h;a=b*e;c[0]=g*h;c[4]=-g*e;c[8]=d;c[1]=l+n*d;c[5]=k-a*d;c[9]=-b*g;c[2]=a-k*d;c[6]=n+l*d;c[10]=f*g}else"YXZ"===a.order?(k=g*h,l=g*e,n=d*h,a=d*e,c[0]=k+a*b,c[4]=
n*b-l,c[8]=f*d,c[1]=f*e,c[5]=f*h,c[9]=-b,c[2]=l*b-n,c[6]=a+k*b,c[10]=f*g):"ZXY"===a.order?(k=g*h,l=g*e,n=d*h,a=d*e,c[0]=k-a*b,c[4]=-f*e,c[8]=n+l*b,c[1]=l+n*b,c[5]=f*h,c[9]=a-k*b,c[2]=-f*d,c[6]=b,c[10]=f*g):"ZYX"===a.order?(k=f*h,l=f*e,n=b*h,a=b*e,c[0]=g*h,c[4]=n*d-l,c[8]=k*d+a,c[1]=g*e,c[5]=a*d+k,c[9]=l*d-n,c[2]=-d,c[6]=b*g,c[10]=f*g):"YZX"===a.order?(k=f*g,l=f*d,n=b*g,a=b*d,c[0]=g*h,c[4]=a-k*e,c[8]=n*e+l,c[1]=e,c[5]=f*h,c[9]=-b*h,c[2]=-d*h,c[6]=l*e+n,c[10]=k-a*e):"XZY"===a.order&&(k=f*g,l=f*d,n=
b*g,a=b*d,c[0]=g*h,c[4]=-e,c[8]=d*h,c[1]=k*e+a,c[5]=f*h,c[9]=l*e-n,c[2]=n*e-l,c[6]=b*h,c[10]=a*e+k);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this},makeRotationFromQuaternion:function(a){var c=this.elements,b=a._x,d=a._y,e=a._z,f=a._w,g=b+b,h=d+d,k=e+e;a=b*g;var l=b*h,b=b*k,n=d*h,d=d*k,e=e*k,g=f*g,h=f*h,f=f*k;c[0]=1-(n+e);c[4]=l-f;c[8]=b+h;c[1]=l+f;c[5]=1-(a+e);c[9]=d-g;c[2]=b-h;c[6]=d+g;c[10]=1-(a+n);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this},lookAt:function(){var a=
new l,b=new l,d=new l;return function(c,m,e){var f=this.elements;d.subVectors(c,m);0===d.lengthSq()&&(d.z=1);d.normalize();a.crossVectors(e,d);0===a.lengthSq()&&(d.z+=1E-4,a.crossVectors(e,d));a.normalize();b.crossVectors(d,a);f[0]=a.x;f[4]=b.x;f[8]=d.x;f[1]=a.y;f[5]=b.y;f[9]=d.y;f[2]=a.z;f[6]=b.z;f[10]=d.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,
b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,m=b.elements,d=this.elements,e=c[0],f=c[4],g=c[8],h=c[12],k=c[1],l=c[5],n=c[9],p=c[13],q=c[2],r=c[6],t=c[10],u=c[14],x=c[3],z=c[7],A=c[11],c=c[15],y=m[0],B=m[4],E=m[8],C=m[12],F=m[1],G=m[5],H=m[9],J=m[13],K=m[2],M=m[6],O=m[10],T=m[14],R=m[3],Q=m[7],V=m[11],m=m[15];d[0]=e*y+f*F+g*K+h*R;d[4]=e*B+f*G+g*M+h*Q;d[8]=e*E+f*H+g*O+h*V;d[12]=e*C+f*J+g*T+h*m;d[1]=k*
y+l*F+n*K+p*R;d[5]=k*B+l*G+n*M+p*Q;d[9]=k*E+l*H+n*O+p*V;d[13]=k*C+l*J+n*T+p*m;d[2]=q*y+r*F+t*K+u*R;d[6]=q*B+r*G+t*M+u*Q;d[10]=q*E+r*H+t*O+u*V;d[14]=q*C+r*J+t*T+u*m;d[3]=x*y+z*F+A*K+c*R;d[7]=x*B+z*G+A*M+c*Q;d[11]=x*E+z*H+A*O+c*V;d[15]=x*C+z*J+A*T+c*m;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},applyToBufferAttribute:function(){var a=new l;
return function(c){for(var b=0,m=c.count;b<m;b++)a.x=c.getX(b),a.y=c.getY(b),a.z=c.getZ(b),a.applyMatrix4(this),c.setXYZ(b,a.x,a.y,a.z);return c}}(),determinant:function(){var a=this.elements,b=a[0],d=a[4],e=a[8],f=a[12],g=a[1],h=a[5],k=a[9],l=a[13],n=a[2],p=a[6],q=a[10],r=a[14];return a[3]*(+f*k*p-e*l*p-f*h*q+d*l*q+e*h*r-d*k*r)+a[7]*(+b*k*r-b*l*q+f*g*q-e*g*r+e*l*n-f*k*n)+a[11]*(+b*l*p-b*h*r-f*g*p+d*g*r+f*h*n-d*l*n)+a[15]*(-e*h*n-b*k*p+b*h*q+e*g*p-d*g*q+d*k*n)},transpose:function(){var a=this.elements;
var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,b){var c=this.elements,m=a.elements,d=m[0],e=m[1],f=m[2],g=m[3],h=m[4],k=m[5],l=m[6],n=m[7],p=m[8],q=m[9],r=m[10],t=m[11],u=m[12],x=m[13],z=m[14],m=m[15],A=q*z*n-x*r*n+x*l*t-k*z*t-q*l*m+k*r*m,y=u*r*n-p*z*n-u*l*t+h*z*t+p*l*m-
h*r*m,B=p*x*n-u*q*n+u*k*t-h*x*t-p*k*m+h*q*m,E=u*q*l-p*x*l-u*k*r+h*x*r+p*k*z-h*q*z,C=d*A+e*y+f*B+g*E;if(0===C){if(!0===b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return this.identity()}C=1/C;c[0]=A*C;c[1]=(x*r*g-q*z*g-x*f*t+e*z*t+q*f*m-e*r*m)*C;c[2]=(k*z*g-x*l*g+x*f*n-e*z*n-k*f*m+e*l*m)*C;c[3]=(q*l*g-k*r*g-q*f*n+e*r*n+k*f*t-e*l*t)*C;c[4]=y*C;c[5]=(p*z*g-u*r*g+u*f*t-d*z*t-p*f*m+
d*r*m)*C;c[6]=(u*l*g-h*z*g-u*f*n+d*z*n+h*f*m-d*l*m)*C;c[7]=(h*r*g-p*l*g+p*f*n-d*r*n-h*f*t+d*l*t)*C;c[8]=B*C;c[9]=(u*q*g-p*x*g-u*e*t+d*x*t+p*e*m-d*q*m)*C;c[10]=(h*x*g-u*k*g+u*e*n-d*x*n-h*e*m+d*k*m)*C;c[11]=(p*k*g-h*q*g-p*e*n+d*q*n+h*e*t-d*k*t)*C;c[12]=E*C;c[13]=(p*x*f-u*q*f+u*e*r-d*x*r-p*e*z+d*q*z)*C;c[14]=(u*k*f-h*x*f-u*e*l+d*x*l+h*e*z-d*k*z)*C;c[15]=(h*q*f-p*k*f+p*e*l-d*q*l-h*e*r+d*k*r)*C;return this},scale:function(a){var c=this.elements,b=a.x,d=a.y;a=a.z;c[0]*=b;c[4]*=d;c[8]*=a;c[1]*=b;c[5]*=d;
c[9]*=a;c[2]*=b;c[6]*=d;c[10]*=a;c[3]*=b;c[7]*=d;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,b,d){this.set(1,0,0,a,0,1,0,b,0,0,1,d,0,0,0,1);return this},makeRotationX:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,c,-a,0,0,a,c,0,0,0,0,1);return this},makeRotationY:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(c,
0,a,0,0,1,0,0,-a,0,c,0,0,0,0,1);return this},makeRotationZ:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(c,-a,0,0,a,c,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b),m=Math.sin(b),d=1-c,e=a.x,f=a.y,g=a.z,h=d*e,k=d*f;this.set(h*e+c,h*f-m*g,h*g+m*f,0,h*f+m*g,k*f+c,k*g-m*e,0,h*g-m*f,k*g+m*e,d*g*g+c,0,0,0,0,1);return this},makeScale:function(a,b,d){this.set(a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1);return this},makeShear:function(a,b,d){this.set(1,b,d,0,a,1,d,0,a,b,1,
0,0,0,0,1);return this},compose:function(a,b,d){this.makeRotationFromQuaternion(b);this.scale(d);this.setPosition(a);return this},decompose:function(){var a=new l,b=new u;return function(c,d,m){var e=this.elements,f=a.set(e[0],e[1],e[2]).length(),g=a.set(e[4],e[5],e[6]).length(),w=a.set(e[8],e[9],e[10]).length();0>this.determinant()&&(f=-f);c.x=e[12];c.y=e[13];c.z=e[14];b.copy(this);c=1/f;var e=1/g,v=1/w;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=e;b.elements[5]*=e;b.elements[6]*=
e;b.elements[8]*=v;b.elements[9]*=v;b.elements[10]*=v;d.setFromRotationMatrix(b);m.x=f;m.y=g;m.z=w;return this}}(),makePerspective:function(a,b,d,e,f,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var c=this.elements;c[0]=2*f/(b-a);c[4]=0;c[8]=(b+a)/(b-a);c[12]=0;c[1]=0;c[5]=2*f/(d-e);c[9]=(d+e)/(d-e);c[13]=0;c[2]=0;c[6]=0;c[10]=-(g+f)/(g-f);c[14]=-2*g*f/(g-f);c[3]=0;c[7]=0;c[11]=-1;c[15]=0;return this},makeOrthographic:function(a,
b,d,e,f,g){var c=this.elements,m=1/(b-a),w=1/(d-e),v=1/(g-f);c[0]=2*m;c[4]=0;c[8]=0;c[12]=-((b+a)*m);c[1]=0;c[5]=2*w;c[9]=0;c[13]=-((d+e)*w);c[2]=0;c[6]=0;c[10]=-2*v;c[14]=-((g+f)*v);c[3]=0;c[7]=0;c[11]=0;c[15]=1;return this},equals:function(a){var c=this.elements;a=a.elements;for(var b=0;16>b;b++)if(c[b]!==a[b])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;
a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}});J.prototype=Object.create(n.prototype);J.prototype.constructor=J;J.prototype.isDataTexture=!0;y.prototype=Object.create(n.prototype);y.prototype.constructor=y;y.prototype.isCubeTexture=!0;Object.defineProperty(y.prototype,"images",{get:function(){return this.image},set:function(a){this.image=
a}});var jf=new n,kf=new y,ef=[],ff=[],hf=new Float32Array(16),gf=new Float32Array(9);Xa.prototype.setValue=function(a,b){for(var c=this.seq,d=0,m=c.length;d!==m;++d){var e=c[d];e.setValue(a,b[e.id])}};var Be=/([\w\d_]+)(\])?(\[|\.)?/g;La.prototype.setValue=function(a,b,d){b=this.map[b];void 0!==b&&b.setValue(a,d,this.renderer)};La.prototype.setOptional=function(a,b,d){b=b[d];void 0!==b&&this.setValue(a,d,b)};La.upload=function(a,b,d,e){for(var c=0,m=b.length;c!==m;++c){var f=b[c],g=d[f.id];!1!==
g.needsUpdate&&f.setValue(a,g.value,e)}};La.seqWithValue=function(a,b){for(var c=[],d=0,m=a.length;d!==m;++d){var e=a[d];e.id in b&&c.push(e)}return c};var Kf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,
darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,
fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,
lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,
navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,
slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(G.prototype,{isColor:!0,r:1,g:1,b:1,set:function(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=
a;return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,d){this.r=a;this.g=b;this.b=d;return this},setHSL:function(){function a(a,c,b){0>b&&(b+=1);1<b&&--b;return b<1/6?a+6*(c-a)*b:.5>b?c:b<2/3?a+6*(c-a)*(2/3-b):a}return function(c,b,d){c=Ba.euclideanModulo(c,1);b=Ba.clamp(b,0,1);d=Ba.clamp(d,0,1);0===b?this.r=this.g=this.b=d:(b=.5>=d?d*(1+b):d+b-d*b,d=2*d-b,this.r=a(d,b,c+1/3),this.g=a(d,b,c),this.b=a(d,b,
c-1/3));return this}}(),setStyle:function(a){function c(c){void 0!==c&&1>parseFloat(c)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var b;if(b=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=b[2];switch(b[1]){case "rgb":case "rgba":if(b=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(b[1],10))/255,this.g=Math.min(255,parseInt(b[2],10))/255,this.b=Math.min(255,parseInt(b[3],10))/255,c(b[5]),this;if(b=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=
Math.min(100,parseInt(b[1],10))/100,this.g=Math.min(100,parseInt(b[2],10))/100,this.b=Math.min(100,parseInt(b[3],10))/100,c(b[5]),this;break;case "hsl":case "hsla":if(b=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){var d=parseFloat(b[1])/360,e=parseInt(b[2],10)/100,f=parseInt(b[3],10)/100;c(b[5]);return this.setHSL(d,e,f)}}}else if(b=/^\#([A-Fa-f0-9]+)$/.exec(a)){b=b[1];d=b.length;if(3===d)return this.r=parseInt(b.charAt(0)+b.charAt(0),16)/255,this.g=parseInt(b.charAt(1)+
b.charAt(1),16)/255,this.b=parseInt(b.charAt(2)+b.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(b.charAt(0)+b.charAt(1),16)/255,this.g=parseInt(b.charAt(2)+b.charAt(3),16)/255,this.b=parseInt(b.charAt(4)+b.charAt(5),16)/255,this}a&&0<a.length&&(b=Kf[a],void 0!==b?this.setHex(b):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,
b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);var c=0<b?1/b:1;this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,c);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,d=this.b;this.r=a*a;this.g=b*b;this.b=d*d;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*
this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var c=this.r,b=this.g,d=this.b,e=Math.max(c,b,d),f=Math.min(c,b,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f,f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case c:g=(b-d)/k+(b<d?6:0);break;case b:g=(d-c)/k+2;break;case d:g=(c-b)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},
offsetHSL:function(a,b,d){var c=this.getHSL();c.h+=a;c.s+=b;c.l+=d;this.setHSL(c.h,c.s,c.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},sub:function(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},
multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function(){return this.getHex()}});var xa={common:{diffuse:{value:new G(15658734)},
opacity:{value:1},map:{value:null},offsetRepeat:{value:new h(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new a(1,1)}},displacementmap:{displacementMap:{value:null},
displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new G(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},
spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],
properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new G(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new h(0,0,1,1)}}},Fb={merge:function(a){for(var c={},b=0;b<a.length;b++){var d=this.clone(a[b]),e;for(e in d)c[e]=d[e]}return c},clone:function(a){var c={},b;for(b in a){c[b]={};for(var d in a[b]){var e=a[b][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?c[b][d]=e.clone():
Array.isArray(e)?c[b][d]=e.slice():c[b][d]=e}}return c}},Ma={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i/(2.0 * PI);\n}\nfloat ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length(f);\n\treturn max((l*l + f.z)/(l+1.0), 0.0);\n}\nvec3 EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot(v1, v2);\n\tfloat y = abs(x);\n\tfloat a = 0.86267 + (0.49788 + 0.01436*y)*y;\n\tfloat b = 3.45068 + (4.18814 + y)*y;\n\tfloat v = a/b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5*inversesqrt(1.0 - x*x) - v;\n\treturn cross(v1, v2)*theta_sintheta;\n}\nvec3 integrateLtcBrdfOverRectOptimized( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[4];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tvec3 v1 = clippedRect[1] - clippedRect[0];\n\tvec3 v2 = clippedRect[3] - clippedRect[0];\n\tvec3 lightNormal = cross(v1, v2);\n\tbool bSameSide = dot(lightNormal, clippedRect[0]) > 0.0;\n\tif( !bSameSide )\n\t\treturn vec3(0.0);\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tvec3 edgeVectorFormFactor = vec3(0.0);\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[0], clippedRect[1] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[1], clippedRect[2] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[2], clippedRect[3] );\n\tedgeVectorFormFactor += EdgeVectorFormFactor( clippedRect[3], clippedRect[0] );\n\tvec3 Lo_i = vec3( ClippedSphereFormFactor( edgeVectorFormFactor ) );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRectOptimized( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRectOptimized( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},wc={basic:{uniforms:Fb.merge([xa.common,
xa.aomap,xa.lightmap,xa.fog]),vertexShader:Ma.meshbasic_vert,fragmentShader:Ma.meshbasic_frag},lambert:{uniforms:Fb.merge([xa.common,xa.aomap,xa.lightmap,xa.emissivemap,xa.fog,xa.lights,{emissive:{value:new G(0)}}]),vertexShader:Ma.meshlambert_vert,fragmentShader:Ma.meshlambert_frag},phong:{uniforms:Fb.merge([xa.common,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.gradientmap,xa.fog,xa.lights,{emissive:{value:new G(0)},specular:{value:new G(1118481)},shininess:{value:30}}]),
vertexShader:Ma.meshphong_vert,fragmentShader:Ma.meshphong_frag},standard:{uniforms:Fb.merge([xa.common,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.roughnessmap,xa.metalnessmap,xa.fog,xa.lights,{emissive:{value:new G(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ma.meshphysical_vert,fragmentShader:Ma.meshphysical_frag},points:{uniforms:Fb.merge([xa.points,xa.fog]),vertexShader:Ma.points_vert,fragmentShader:Ma.points_frag},
dashed:{uniforms:Fb.merge([xa.common,xa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ma.linedashed_vert,fragmentShader:Ma.linedashed_frag},depth:{uniforms:Fb.merge([xa.common,xa.displacementmap]),vertexShader:Ma.depth_vert,fragmentShader:Ma.depth_frag},normal:{uniforms:Fb.merge([xa.common,xa.bumpmap,xa.normalmap,xa.displacementmap,{opacity:{value:1}}]),vertexShader:Ma.normal_vert,fragmentShader:Ma.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},
vertexShader:Ma.cube_vert,fragmentShader:Ma.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Ma.equirect_vert,fragmentShader:Ma.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:Ma.distanceRGBA_vert,fragmentShader:Ma.distanceRGBA_frag}};wc.physical={uniforms:Fb.merge([wc.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ma.meshphysical_vert,fragmentShader:Ma.meshphysical_frag};Object.assign(Ra.prototype,
{set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var c=0,b=a.length;c<b;c++)this.expandByPoint(a[c]);return this},setFromCenterAndSize:function(){var c=new a;return function(a,b){var d=c.copy(b).multiplyScalar(.5);this.min.copy(a).sub(d);this.max.copy(a).add(d);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=
this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(c){c=c||new a;return this.isEmpty()?c.set(0,0):c.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(c){c=c||new a;return this.isEmpty()?c.set(0,0):c.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function(c,b){return(b||new a).set((c.x-this.min.x)/(this.max.x-this.min.x),(c.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},
clampPoint:function(c,b){return(b||new a).copy(c).clamp(this.min,this.max)},distanceToPoint:function(){var c=new a;return function(a){return c.copy(a).clamp(this.min,this.max).sub(a).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});var Gf=0;Object.assign(ha.prototype,
g.prototype,{isMaterial:!0,setValues:function(a){if(void 0!==a)for(var c in a){var b=a[c];if(void 0===b)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var d=this[c];void 0===d?console.warn("THREE."+this.type+": '"+c+"' is not a property of this material."):d&&d.isColor?d.set(b):d&&d.isVector3&&b&&b.isVector3?d.copy(b):this[c]="overdraw"===c?Number(b):b}}},toJSON:function(a){function c(a){var c=[],b;for(b in a){var d=a[b];delete d.metadata;c.push(d)}return c}var b=void 0===a;
b&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==
this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);
this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);
this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==
this.blending&&(d.blending=this.blending);2!==this.shading&&(d.shading=this.shading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&
(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);d.skinning=this.skinning;d.morphTargets=this.morphTargets;d.dithering=this.dithering;b&&(b=c(a.textures),a=c(a.images),0<b.length&&(d.textures=b),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=
a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.shading=a.shading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;
this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;a=a.clippingPlanes;var c=null;if(null!==a)for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=a[d].clone();this.clippingPlanes=c;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});Da.prototype=Object.create(ha.prototype);Da.prototype.constructor=Da;Da.prototype.isShaderMaterial=!0;Da.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Fb.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=
a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};Da.prototype.toJSON=function(a){a=ha.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};gb.prototype=Object.create(ha.prototype);gb.prototype.constructor=gb;gb.prototype.isMeshDepthMaterial=!0;gb.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=
a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};Object.assign(Ca.prototype,{isBox3:!0,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function(a){for(var c=Infinity,b=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var l=a[h],
n=a[h+1],p=a[h+2];l<c&&(c=l);n<b&&(b=n);p<d&&(d=p);l>e&&(e=l);n>f&&(f=n);p>g&&(g=p)}this.min.set(c,b,d);this.max.set(e,f,g);return this},setFromBufferAttribute:function(a){for(var c=Infinity,b=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var l=a.getX(h),n=a.getY(h),p=a.getZ(h);l<c&&(c=l);n<b&&(b=n);p<d&&(d=p);l>e&&(e=l);n>f&&(f=n);p>g&&(g=p)}this.min.set(c,b,d);this.max.set(e,f,g);return this},setFromPoints:function(a){this.makeEmpty();for(var c=0,b=a.length;c<b;c++)this.expandByPoint(a[c]);
return this},setFromCenterAndSize:function(){var a=new l;return function(c,b){var d=a.copy(b).multiplyScalar(.5);this.min.copy(c).sub(d);this.max.copy(c).add(d);return this}}(),setFromObject:function(a){this.makeEmpty();return this.expandByObject(a)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<
this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(a){a=a||new l;return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){a=a||new l;return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},
expandByObject:function(){var a=new l;return function(c){var b=this;c.updateMatrixWorld(!0);c.traverse(function(c){var d;var m=c.geometry;if(void 0!==m)if(m.isGeometry){var e=m.vertices;m=0;for(d=e.length;m<d;m++)a.copy(e[m]),a.applyMatrix4(c.matrixWorld),b.expandByPoint(a)}else if(m.isBufferGeometry&&(e=m.attributes.position,void 0!==e))for(m=0,d=e.count;m<d;m++)a.fromBufferAttribute(e,m).applyMatrix4(c.matrixWorld),b.expandByPoint(a)});return this}}(),containsPoint:function(a){return a.x<this.min.x||
a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){return(b||new l).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||
a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new l;return function(c){this.clampPoint(c.center,a);return a.distanceToSquared(c.center)<=c.radius*c.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var c=a.normal.x*this.min.x;var b=a.normal.x*this.max.x}else c=a.normal.x*this.max.x,b=a.normal.x*this.min.x;0<a.normal.y?(c+=a.normal.y*this.min.y,b+=a.normal.y*this.max.y):(c+=a.normal.y*this.max.y,b+=a.normal.y*this.min.y);0<a.normal.z?(c+=
a.normal.z*this.min.z,b+=a.normal.z*this.max.z):(c+=a.normal.z*this.max.z,b+=a.normal.z*this.min.z);return c<=a.constant&&b>=a.constant},clampPoint:function(a,b){return(b||new l).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new l;return function(c){return a.copy(c).clamp(this.min,this.max).sub(c).length()}}(),getBoundingSphere:function(){var a=new l;return function(c){c=c||new Ia;this.getCenter(c.center);c.radius=.5*this.getSize(a).length();return c}}(),intersect:function(a){this.min.max(a.min);
this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new l,new l,new l,new l,new l,new l,new l,new l];return function(c){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(c);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(c);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(c);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(c);
a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(c);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(c);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(c);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(c);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Ia.prototype,{set:function(a,b){this.center.copy(a);this.radius=b;return this},
setFromPoints:function(){var a=new Ca;return function(c,b){var d=this.center;void 0!==b?d.copy(b):a.setFromPoints(c).getCenter(d);for(var m=0,e=0,f=c.length;e<f;e++)m=Math.max(m,d.distanceToSquared(c[e]));this.radius=Math.sqrt(m);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*
this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var c=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=c*c},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a),d=b||new l;d.copy(a);c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));
return d},getBoundingBox:function(a){a=a||new Ca;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(p.prototype,{isMatrix3:!0,set:function(a,b,d,e,f,g,h,k,l){var c=this.elements;c[0]=a;c[1]=e;c[2]=h;c[3]=b;c[4]=f;c[5]=k;c[6]=d;c[7]=
g;c[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){var c=this.elements;a=a.elements;c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new l;return function(c){for(var b=0,d=c.count;b<
d;b++)a.x=c.getX(b),a.y=c.getY(b),a.z=c.getZ(b),a.applyMatrix3(this),c.setXYZ(b,a.x,a.y,a.z);return c}}(),multiply:function(a){return this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,m=this.elements,e=c[0],f=c[3],g=c[6],h=c[1],k=c[4],l=c[7],n=c[2],p=c[5],c=c[8],q=d[0],r=d[3],t=d[6],u=d[1],x=d[4],z=d[7],A=d[2],y=d[5],d=d[8];m[0]=e*q+f*u+g*A;m[3]=e*r+f*x+g*y;m[6]=e*t+f*z+g*d;m[1]=h*q+k*u+l*A;m[4]=
h*r+k*x+l*y;m[7]=h*t+k*z+l*d;m[2]=n*q+p*u+c*A;m[5]=n*r+p*x+c*y;m[8]=n*t+p*z+c*d;return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6],l=a[7],a=a[8];return b*g*a-b*h*l-d*f*a+d*h*k+e*f*l-e*g*k},getInverse:function(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements,
d=this.elements,m=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],l=c[6],n=c[7],c=c[8],p=c*h-k*n,q=k*l-c*g,r=n*g-h*l,t=m*p+e*q+f*r;if(0===t){if(!0===b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}t=1/t;d[0]=p*t;d[1]=(f*n-c*e)*t;d[2]=(k*e-f*h)*t;d[3]=q*t;d[4]=(c*m-f*l)*t;d[5]=(f*g-k*m)*t;d[6]=r*t;d[7]=(e*l-n*m)*t;d[8]=(h*m-e*g)*t;return this},transpose:function(){var a=
this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var c=this.elements;a[0]=c[0];a[1]=c[3];a[2]=c[6];a[3]=c[1];a[4]=c[4];a[5]=c[7];a[6]=c[2];a[7]=c[5];a[8]=c[8];return this},equals:function(a){var c=this.elements;a=a.elements;for(var b=0;9>b;b++)if(c[b]!==a[b])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=
0;9>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}});Object.assign(F.prototype,{set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,d,e){this.normal.set(a,b,d);this.constant=e;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);
return this},setFromCoplanarPoints:function(){var a=new l,b=new l;return function(c,d,m){d=a.subVectors(m,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();
return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,b){var c=this.distanceToPoint(a);return(b||new l).copy(this.normal).multiplyScalar(c)},intersectLine:function(){var a=new l;return function(c,b){var d=b||new l,m=c.delta(a),e=this.normal.dot(m);if(0===e){if(0===this.distanceToPoint(c.start))return d.copy(c.start)}else if(e=
-(c.start.dot(this.normal)+this.constant)/e,!(0>e||1<e))return d.copy(m).multiplyScalar(e).add(c.start)}}(),intersectsLine:function(a){var c=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>c&&0<a||0>a&&0<c},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return(a||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new l,b=new p;return function(c,
d){var m=this.coplanarPoint(a).applyMatrix4(c),e=d||b.getNormalMatrix(c),e=this.normal.applyMatrix3(e).normalize();this.constant=-m.dot(e);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign(W.prototype,{set:function(a,b,d,e,f,g){var c=this.planes;c[0].copy(a);c[1].copy(b);c[2].copy(d);c[3].copy(e);c[4].copy(f);c[5].copy(g);return this},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){for(var c=this.planes,b=0;6>b;b++)c[b].copy(a.planes[b]);return this},setFromMatrix:function(a){var c=this.planes,b=a.elements;a=b[0];var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],n=b[8],p=b[9],q=b[10],r=b[11],t=b[12],u=b[13],x=b[14],b=b[15];c[0].setComponents(f-a,l-g,r-n,b-t).normalize();c[1].setComponents(f+a,l+g,r+n,b+t).normalize();c[2].setComponents(f+d,l+h,r+p,b+u).normalize();c[3].setComponents(f-d,l-h,r-p,b-u).normalize();c[4].setComponents(f-e,l-k,r-q,b-x).normalize();
c[5].setComponents(f+e,l+k,r+q,b+x).normalize();return this},intersectsObject:function(){var a=new Ia;return function(c){var b=c.geometry;null===b.boundingSphere&&b.computeBoundingSphere();a.copy(b.boundingSphere).applyMatrix4(c.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Ia;return function(c){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(c.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var c=this.planes,b=a.center;
a=-a.radius;for(var d=0;6>d;d++)if(c[d].distanceToPoint(b)<a)return!1;return!0},intersectsBox:function(){var a=new l,b=new l;return function(c){for(var d=this.planes,m=0;6>m;m++){var e=d[m];a.x=0<e.normal.x?c.min.x:c.max.x;b.x=0<e.normal.x?c.max.x:c.min.x;a.y=0<e.normal.y?c.min.y:c.max.y;b.y=0<e.normal.y?c.max.y:c.min.y;a.z=0<e.normal.z?c.min.z:c.max.z;b.z=0<e.normal.z?c.max.z:c.min.z;var f=e.distanceToPoint(a),e=e.distanceToPoint(b);if(0>f&&0>e)return!1}return!0}}(),containsPoint:function(a){for(var c=
this.planes,b=0;6>b;b++)if(0>c[b].distanceToPoint(a))return!1;return!0}});Object.assign(wa.prototype,{set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new l).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=
new l;return function(c){this.origin.copy(this.at(c,a));return this}}(),closestPointToPoint:function(a,b){var c=b||new l;c.subVectors(a,this.origin);var d=c.dot(this.direction);return 0>d?c.copy(this.origin):c.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new l;return function(c){var b=a.subVectors(c,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(c);
a.copy(this.direction).multiplyScalar(b).add(this.origin);return a.distanceToSquared(c)}}(),distanceSqToSegment:function(){var a=new l,b=new l,d=new l;return function(c,m,e,f){a.copy(c).add(m).multiplyScalar(.5);b.copy(m).sub(c).normalize();d.copy(this.origin).sub(a);var g=.5*c.distanceTo(m),w=-this.direction.dot(b),v=d.dot(this.direction),h=-d.dot(b),k=d.lengthSq(),D=Math.abs(1-w*w);if(0<D){c=w*h-v;m=w*v-h;var l=g*D;0<=c?m>=-l?m<=l?(g=1/D,c*=g,m*=g,w=c*(c+w*m+2*v)+m*(w*c+m+2*h)+k):(m=g,c=Math.max(0,
-(w*m+v)),w=-c*c+m*(m+2*h)+k):(m=-g,c=Math.max(0,-(w*m+v)),w=-c*c+m*(m+2*h)+k):m<=-l?(c=Math.max(0,-(-w*g+v)),m=0<c?-g:Math.min(Math.max(-g,-h),g),w=-c*c+m*(m+2*h)+k):m<=l?(c=0,m=Math.min(Math.max(-g,-h),g),w=m*(m+2*h)+k):(c=Math.max(0,-(w*g+v)),m=0<c?g:Math.min(Math.max(-g,-h),g),w=-c*c+m*(m+2*h)+k)}else m=0<w?-g:g,c=Math.max(0,-(w*m+v)),w=-c*c+m*(m+2*h)+k;e&&e.copy(this.direction).multiplyScalar(c).add(this.origin);f&&f.copy(b).multiplyScalar(m).add(a);return w}}(),intersectSphere:function(){var a=
new l;return function(c,b){a.subVectors(c.center,this.origin);var d=a.dot(this.direction),m=a.dot(a)-d*d,e=c.radius*c.radius;if(m>e)return null;e=Math.sqrt(e-m);m=d-e;d+=e;return 0>m&&0>d?null:0>m?this.at(d,b):this.at(m,b)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/c;return 0<=a?a:null},intersectPlane:function(a,
b){var c=this.distanceToPlane(a);return null===c?null:this.at(c,b)},intersectsPlane:function(a){var c=a.distanceToPoint(this.origin);return 0===c||0>a.normal.dot(this.direction)*c?!0:!1},intersectBox:function(a,b){var c=1/this.direction.x;var d=1/this.direction.y;var m=1/this.direction.z;var e=this.origin;if(0<=c){var f=(a.min.x-e.x)*c;c*=a.max.x-e.x}else f=(a.max.x-e.x)*c,c*=a.min.x-e.x;if(0<=d){var g=(a.min.y-e.y)*d;d*=a.max.y-e.y}else g=(a.max.y-e.y)*d,d*=a.min.y-e.y;if(f>d||g>c)return null;if(g>
f||f!==f)f=g;if(d<c||c!==c)c=d;0<=m?(g=(a.min.z-e.z)*m,m*=a.max.z-e.z):(g=(a.max.z-e.z)*m,m*=a.min.z-e.z);if(f>m||g>c)return null;if(g>f||f!==f)f=g;if(m<c||c!==c)c=m;return 0>c?null:this.at(0<=f?f:c,b)},intersectsBox:function(){var a=new l;return function(c){return null!==this.intersectBox(c,a)}}(),intersectTriangle:function(){var a=new l,b=new l,d=new l,e=new l;return function(c,m,f,g,w){b.subVectors(m,c);d.subVectors(f,c);e.crossVectors(b,d);m=this.direction.dot(e);if(0<m){if(g)return null;g=1}else if(0>
m)g=-1,m=-m;else return null;a.subVectors(this.origin,c);c=g*this.direction.dot(d.crossVectors(a,d));if(0>c)return null;f=g*this.direction.dot(b.cross(a));if(0>f||c+f>m)return null;c=-g*a.dot(e);return 0>c?null:this.at(c/m,w)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});Aa.RotationOrders=
"XYZ YZX ZXY XZY YXZ ZYX".split(" ");Aa.DefaultOrder="XYZ";Object.defineProperties(Aa.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(a){this._order=a;this.onChangeCallback()}}});Object.assign(Aa.prototype,{isEuler:!0,set:function(a,
b,d,e){this._x=a;this._y=b;this._z=d;this._order=e||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,d){var c=Ba.clamp,m=a.elements;a=m[0];var e=m[4],f=m[8],g=m[1],w=m[5],h=m[9],k=m[2],l=m[6],m=m[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(c(f,-1,1)),.99999>Math.abs(f)?
(this._x=Math.atan2(-h,m),this._z=Math.atan2(-e,a)):(this._x=Math.atan2(l,w),this._z=0)):"YXZ"===b?(this._x=Math.asin(-c(h,-1,1)),.99999>Math.abs(h)?(this._y=Math.atan2(f,m),this._z=Math.atan2(g,w)):(this._y=Math.atan2(-k,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(c(l,-1,1)),.99999>Math.abs(l)?(this._y=Math.atan2(-k,m),this._z=Math.atan2(-e,w)):(this._y=0,this._z=Math.atan2(g,a))):"ZYX"===b?(this._y=Math.asin(-c(k,-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(l,m),this._z=Math.atan2(g,a)):(this._x=
0,this._z=Math.atan2(-e,w))):"YZX"===b?(this._z=Math.asin(c(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-h,w),this._y=Math.atan2(-k,a)):(this._x=0,this._y=Math.atan2(f,m))):"XZY"===b?(this._z=Math.asin(-c(e,-1,1)),.99999>Math.abs(e)?(this._x=Math.atan2(l,w),this._y=Math.atan2(f,a)):(this._x=Math.atan2(-h,m),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==d)this.onChangeCallback();return this},setFromQuaternion:function(){var a=
new u;return function(c,b,d){a.makeRotationFromQuaternion(c);return this.setFromRotationMatrix(a,b,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new x;return function(c){a.setFromEuler(this);return this.setFromQuaternion(a,c)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();
return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(tb.prototype,{set:function(a){this.mask=1<<a|0},enable:function(a){this.mask=this.mask|1<<a|0},toggle:function(a){this.mask^=1<<a|0},disable:function(a){this.mask&=
~(1<<a|0)},test:function(a){return 0!==(this.mask&a.mask)}});var Hf=0;R.DefaultUp=new l(0,1,0);R.DefaultMatrixAutoUpdate=!0;Object.assign(R.prototype,g.prototype,{isObject3D:!0,applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},
setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new x;return function(c,b){a.setFromAxisAngle(c,b);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new l(1,0,0);return function(c){return this.rotateOnAxis(a,c)}}(),rotateY:function(){var a=new l(0,1,0);return function(c){return this.rotateOnAxis(a,c)}}(),rotateZ:function(){var a=new l(0,0,1);return function(c){return this.rotateOnAxis(a,c)}}(),translateOnAxis:function(){var a=new l;return function(c,
b){a.copy(c).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(b));return this}}(),translateX:function(){var a=new l(1,0,0);return function(c){return this.translateOnAxis(a,c)}}(),translateY:function(){var a=new l(0,1,0);return function(c){return this.translateOnAxis(a,c)}}(),translateZ:function(){var a=new l(0,0,1);return function(c){return this.translateOnAxis(a,c)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new u;return function(c){return c.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new u;return function(c){this.isCamera?a.lookAt(this.position,c,this.up):a.lookAt(c,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var c=0;c<arguments.length;c++)this.add(arguments[c]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):
console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var c=0;c<arguments.length;c++)this.remove(arguments[c]);c=this.children.indexOf(a);-1!==c&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(c,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;
for(var c=0,d=this.children.length;c<d;c++){var m=this.children[c].getObjectByProperty(a,b);if(void 0!==m)return m}},getWorldPosition:function(a){a=a||new l;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new l,b=new l;return function(c){c=c||new x;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new x;return function(c){c=c||new Aa;this.getWorldQuaternion(a);return c.setFromQuaternion(a,
this.rotation.order,!1)}}(),getWorldScale:function(){var a=new l,b=new x;return function(c){c=c||new l;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new x;return function(c){c=c||new l;this.getWorldQuaternion(a);return c.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var c=this.children,b=0,d=c.length;b<d;b++)c[b].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var c=
this.children,b=0,d=c.length;b<d;b++)c[b].traverseVisible(a)}},traverseAncestors:function(a){var c=this.parent;null!==c&&(a(c),c.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var c=this.children,b=0,d=c.length;b<d;b++)c[b].updateMatrixWorld(a)},toJSON:function(a){function c(c,b){void 0===c[b.uuid]&&(c[b.uuid]=b.toJSON(a));return b.uuid}function b(a){var c=[],b;for(b in a){var d=a[b];delete d.metadata;c.push(d)}return c}var d=void 0===a||""===a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};f.uuid=this.uuid;f.type=this.type;""!==this.name&&
(f.name=this.name);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);f.matrix=this.matrix.toArray();void 0!==this.geometry&&(f.geometry=c(a.geometries,this.geometry));if(void 0!==this.material)if(Array.isArray(this.material)){for(var g=[],h=0,k=this.material.length;h<k;h++)g.push(c(a.materials,this.material[h]));f.material=g}else f.material=c(a.materials,this.material);
if(0<this.children.length)for(f.children=[],h=0;h<this.children.length;h++)f.children.push(this.children[h].toJSON(a).object);d&&(d=b(a.geometries),g=b(a.materials),h=b(a.textures),k=b(a.images),0<d.length&&(e.geometries=d),0<g.length&&(e.materials=g),0<h.length&&(e.textures=h),0<k.length&&(e.images=k));e.object=f;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);
this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(var c=0;c<a.children.length;c++)this.add(a.children[c].clone());return this}});
Object.assign(qb.prototype,{set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},getCenter:function(a){return(a||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},
at:function(a,b){var c=b||new l;return this.delta(c).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new l,b=new l;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);var m=b.dot(b),m=b.dot(a)/m;d&&(m=Ba.clamp(m,0,1));return m}}(),closestPointToPoint:function(a,b,d){a=this.closestPointToPointParameter(a,b);d=d||new l;return this.delta(d).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);
return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});Object.assign(Sa,{normal:function(){var a=new l;return function(c,b,d,e){e=e||new l;e.subVectors(d,b);a.subVectors(c,b);e.cross(a);c=e.lengthSq();return 0<c?e.multiplyScalar(1/Math.sqrt(c)):e.set(0,0,0)}}(),barycoordFromPoint:function(){var a=new l,b=new l,d=new l;return function(c,m,e,f,g){a.subVectors(f,m);b.subVectors(e,m);d.subVectors(c,m);c=a.dot(a);m=a.dot(b);e=a.dot(d);var w=b.dot(b);f=b.dot(d);var v=
c*w-m*m;g=g||new l;if(0===v)return g.set(-2,-1,-1);v=1/v;w=(w*e-m*f)*v;c=(c*f-m*e)*v;return g.set(1-w-c,c,w)}}(),containsPoint:function(){var a=new l;return function(c,b,d,e){c=Sa.barycoordFromPoint(c,b,d,e,a);return 0<=c.x&&0<=c.y&&1>=c.x+c.y}}()});Object.assign(Sa.prototype,{set:function(a,b,d){this.a.copy(a);this.b.copy(b);this.c.copy(d);return this},setFromPointsAndIndices:function(a,b,d,e){this.a.copy(a[b]);this.b.copy(a[d]);this.c.copy(a[e]);return this},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new l,b=new l;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return Sa.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new F).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return Sa.barycoordFromPoint(a,
this.a,this.b,this.c,b)},containsPoint:function(a){return Sa.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a=new F,b=[new qb,new qb,new qb],d=new l,e=new l;return function(c,m){var f=m||new l,g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(c,d);if(!0===this.containsPoint(d))f.copy(d);else{b[0].set(this.a,this.b);b[1].set(this.b,this.c);b[2].set(this.c,this.a);for(var w=0;w<b.length;w++){b[w].closestPointToPoint(d,!0,e);var v=d.distanceToSquared(e);
v<g&&(g=v,f.copy(e))}}return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});Object.assign(mb.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var c=0,b=a.vertexNormals.length;c<b;c++)this.vertexNormals[c]=a.vertexNormals[c].clone();c=0;for(b=a.vertexColors.length;c<b;c++)this.vertexColors[c]=
a.vertexColors[c].clone();return this}});db.prototype=Object.create(ha.prototype);db.prototype.constructor=db;db.prototype.isMeshBasicMaterial=!0;db.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;
this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};Object.defineProperty(ka.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(ka.prototype,{isBufferAttribute:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
this.count=void 0!==a?a.length/this.itemSize:0;this.array=a},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return this},copyAt:function(a,b,d){a*=this.itemSize;d*=b.itemSize;for(var c=0,e=this.itemSize;c<e;c++)this.array[a+c]=b.array[d+c];return this},copyArray:function(a){this.array.set(a);return this},copyColorsArray:function(a){for(var c=
this.array,b=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),f=new G);c[b++]=f.r;c[b++]=f.g;c[b++]=f.b}return this},copyIndicesArray:function(a){for(var c=this.array,b=0,d=0,e=a.length;d<e;d++){var f=a[d];c[b++]=f.a;c[b++]=f.b;c[b++]=f.c}return this},copyVector2sArray:function(c){for(var b=this.array,d=0,e=0,f=c.length;e<f;e++){var g=c[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",
e),g=new a);b[d++]=g.x;b[d++]=g.y}return this},copyVector3sArray:function(a){for(var c=this.array,b=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new l);c[b++]=f.x;c[b++]=f.y;c[b++]=f.z}return this},copyVector4sArray:function(a){for(var c=this.array,b=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new h);c[b++]=f.x;c[b++]=f.y;
c[b++]=f.z;c[b++]=f.w}return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+
3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=d;return this},setXYZ:function(a,b,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=d;this.array[a+2]=e;return this},setXYZW:function(a,b,d,e,f){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=d;this.array[a+2]=e;this.array[a+3]=f;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,
this.itemSize)).copy(this)}});ub.prototype=Object.create(ka.prototype);ub.prototype.constructor=ub;Jb.prototype=Object.create(ka.prototype);Jb.prototype.constructor=Jb;ya.prototype=Object.create(ka.prototype);ya.prototype.constructor=ya;nb.prototype=Object.create(ka.prototype);nb.prototype.constructor=nb;Ga.prototype=Object.create(ka.prototype);Ga.prototype.constructor=Ga;$a.prototype=Object.create(ka.prototype);$a.prototype.constructor=$a;Ja.prototype=Object.create(ka.prototype);Ja.prototype.constructor=
Ja;ga.prototype=Object.create(ka.prototype);ga.prototype.constructor=ga;ib.prototype=Object.create(ka.prototype);ib.prototype.constructor=ib;Object.assign(za.prototype,{computeGroups:function(a){var b=[],c=void 0;a=a.faces;for(var d=0;d<a.length;d++){var e=a[d];if(e.materialIndex!==c){c=e.materialIndex;void 0!==f&&(f.count=3*d-f.start,b.push(f));var f={start:3*d,materialIndex:c}}}void 0!==f&&(f.count=3*d-f.start,b.push(f));this.groups=b},fromGeometry:function(b){var c=b.faces,d=b.vertices,e=b.faceVertexUvs,
f=e[0]&&0<e[0].length,g=e[1]&&0<e[1].length,h=b.morphTargets,k=h.length;if(0<k){var l=[];for(var n=0;n<k;n++)l[n]=[];this.morphTargets.position=l}var p=b.morphNormals,q=p.length;if(0<q){var r=[];for(n=0;n<q;n++)r[n]=[];this.morphTargets.normal=r}for(var t=b.skinIndices,u=b.skinWeights,x=t.length===d.length,z=u.length===d.length,n=0;n<c.length;n++){var A=c[n];this.vertices.push(d[A.a],d[A.b],d[A.c]);var y=A.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(y=A.normal,this.normals.push(y,
y,y));y=A.vertexColors;3===y.length?this.colors.push(y[0],y[1],y[2]):(y=A.color,this.colors.push(y,y,y));!0===f&&(y=e[0][n],void 0!==y?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",n),this.uvs.push(new a,new a,new a)));!0===g&&(y=e[1][n],void 0!==y?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",n),this.uvs2.push(new a,new a,new a)));for(y=0;y<k;y++){var C=h[y].vertices;l[y].push(C[A.a],
C[A.b],C[A.c])}for(y=0;y<q;y++)C=p[y].vertexNormals[n],r[y].push(C.a,C.b,C.c);x&&this.skinIndices.push(t[A.a],t[A.b],t[A.c]);z&&this.skinWeights.push(u[A.a],u[A.b],u[A.c])}this.computeGroups(b);this.verticesNeedUpdate=b.verticesNeedUpdate;this.normalsNeedUpdate=b.normalsNeedUpdate;this.colorsNeedUpdate=b.colorsNeedUpdate;this.uvsNeedUpdate=b.uvsNeedUpdate;this.groupsNeedUpdate=b.groupsNeedUpdate;return this}});var De=0;Object.assign(X.prototype,g.prototype,{isGeometry:!0,applyMatrix:function(a){for(var b=
(new p).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=new u;return function(b){a.makeRotationX(b);
this.applyMatrix(a);return this}}(),rotateY:function(){var a=new u;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new u;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new u;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new u;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new R;return function(b){a.lookAt(b);
a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(b){function c(a,b,c,e){var f=void 0!==h?[q[a].clone(),q[b].clone(),q[c].clone()]:[],m=void 0!==k?[d.colors[a].clone(),d.colors[b].clone(),d.colors[c].clone()]:[];e=new mb(a,b,c,f,m,e);d.faces.push(e);void 0!==n&&d.faceVertexUvs[0].push([r[a].clone(),r[b].clone(),r[c].clone()]);void 0!==p&&d.faceVertexUvs[1].push([t[a].clone(),t[b].clone(),t[c].clone()])}var d=this,e=null!==b.index?b.index.array:void 0,f=b.attributes,g=f.position.array,
h=void 0!==f.normal?f.normal.array:void 0,k=void 0!==f.color?f.color.array:void 0,n=void 0!==f.uv?f.uv.array:void 0,p=void 0!==f.uv2?f.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var q=[],r=[],t=[],u=f=0;f<g.length;f+=3,u+=2)d.vertices.push(new l(g[f],g[f+1],g[f+2])),void 0!==h&&q.push(new l(h[f],h[f+1],h[f+2])),void 0!==k&&d.colors.push(new G(k[f],k[f+1],k[f+2])),void 0!==n&&r.push(new a(n[u],n[u+1])),void 0!==p&&t.push(new a(p[u],p[u+1]));var x=b.groups;if(0<x.length)for(f=0;f<x.length;f++)for(var g=
x[f],y=g.start,z=g.count,u=y,y=y+z;u<y;u+=3)void 0!==e?c(e[u],e[u+1],e[u+2],g.materialIndex):c(u,u+1,u+2,g.materialIndex);else if(void 0!==e)for(f=0;f<e.length;f+=3)c(e[f],e[f+1],e[f+2]);else for(f=0;f<g.length/3;f+=3)c(f,f+1,f+2);this.computeFaceNormals();null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone());null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.getCenter().negate();this.translate(a.x,
a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius,b=0===b?1:1/b,d=new u;d.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(d);return this},computeFaceNormals:function(){for(var a=new l,b=new l,d=0,e=this.faces.length;d<e;d++){var f=this.faces[d],g=this.vertices[f.a],h=this.vertices[f.b];a.subVectors(this.vertices[f.c],h);b.subVectors(g,h);a.cross(b);a.normalize();f.normal.copy(a)}},computeVertexNormals:function(a){void 0===
a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new l;if(a){var e=new l,f=new l;a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var h=this.vertices[b.b];var k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=
this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var d=this.faces[b];var e=d.vertexNormals;3===e.length?(e[0].copy(d.normal),e[1].copy(d.normal),
e[2].copy(d.normal)):(e[0]=d.normal.clone(),e[1]=d.normal.clone(),e[2]=d.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var d=0;for(b=this.faces.length;d<b;d++){var e=this.faces[d];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone();e.__originalVertexNormals||(e.__originalVertexNormals=[]);var f=0;for(a=e.vertexNormals.length;f<a;f++)e.__originalVertexNormals[f]?e.__originalVertexNormals[f].copy(e.vertexNormals[f]):
e.__originalVertexNormals[f]=e.vertexNormals[f].clone()}var g=new X;g.faces=this.faces;f=0;for(a=this.morphTargets.length;f<a;f++){if(!this.morphNormals[f]){this.morphNormals[f]={};this.morphNormals[f].faceNormals=[];this.morphNormals[f].vertexNormals=[];e=this.morphNormals[f].faceNormals;var h=this.morphNormals[f].vertexNormals;d=0;for(b=this.faces.length;d<b;d++){var k=new l;var n={a:new l,b:new l,c:new l};e.push(k);h.push(n)}}h=this.morphNormals[f];g.vertices=this.morphTargets[f].vertices;g.computeFaceNormals();
g.computeVertexNormals();d=0;for(b=this.faces.length;d<b;d++)e=this.faces[d],k=h.faceNormals[d],n=h.vertexNormals[d],k.copy(e.normal),n.a.copy(e.vertexNormals[0]),n.b.copy(e.vertexNormals[1]),n.c.copy(e.vertexNormals[2])}d=0;for(b=this.faces.length;d<b;d++)e=this.faces[d],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeLineDistances:function(){for(var a=0,b=this.vertices,d=0,e=b.length;d<e;d++)0<d&&(a+=b[d].distanceTo(b[d-1])),this.lineDistances[d]=a},computeBoundingBox:function(){null===
this.boundingBox&&(this.boundingBox=new Ca);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ia);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,d){if(!1===(a&&a.isGeometry))console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a);else{var c,e=this.vertices.length,f=this.vertices,m=a.vertices,g=this.faces,h=a.faces,w=this.faceVertexUvs[0],k=a.faceVertexUvs[0],l=this.colors,
n=a.colors;void 0===d&&(d=0);void 0!==b&&(c=(new p).getNormalMatrix(b));a=0;for(var q=m.length;a<q;a++){var r=m[a].clone();void 0!==b&&r.applyMatrix4(b);f.push(r)}a=0;for(q=n.length;a<q;a++)l.push(n[a].clone());a=0;for(q=h.length;a<q;a++){var m=h[a],t=m.vertexNormals,n=m.vertexColors,l=new mb(m.a+e,m.b+e,m.c+e);l.normal.copy(m.normal);void 0!==c&&l.normal.applyMatrix3(c).normalize();b=0;for(f=t.length;b<f;b++)r=t[b].clone(),void 0!==c&&r.applyMatrix3(c).normalize(),l.vertexNormals.push(r);l.color.copy(m.color);
b=0;for(f=n.length;b<f;b++)r=n[b],l.vertexColors.push(r.clone());l.materialIndex=m.materialIndex+d;g.push(l)}a=0;for(q=k.length;a<q;a++)if(d=k[a],c=[],void 0!==d){b=0;for(f=d.length;b<f;b++)c.push(d[b].clone());w.push(c)}}},mergeMesh:function(a){!1===(a&&a.isMesh)?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a={},b=[],d=[],e=Math.pow(10,4),f;var g=0;for(f=this.vertices.length;g<
f;g++){var h=this.vertices[g];h=Math.round(h.x*e)+"_"+Math.round(h.y*e)+"_"+Math.round(h.z*e);void 0===a[h]?(a[h]=g,b.push(this.vertices[g]),d[g]=b.length-1):d[g]=d[a[h]]}a=[];g=0;for(f=this.faces.length;g<f;g++)for(e=this.faces[g],e.a=d[e.a],e.b=d[e.b],e.c=d[e.c],e=[e.a,e.b,e.c],h=0;3>h;h++)if(e[h]===e[(h+1)%3]){a.push(g);break}for(g=a.length-1;0<=g;g--)for(e=a[g],this.faces.splice(e,1),d=0,f=this.faceVertexUvs.length;d<f;d++)this.faceVertexUvs[d].splice(e,1);g=this.vertices.length-b.length;this.vertices=
b;return g},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,d=0;d<b;d++)a[d]._id=d;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var e=this.faceVertexUvs[0],f=this.faceVertexUvs[1],g,h;e&&e.length===b&&(g=[]);f&&f.length===b&&(h=[]);for(d=0;d<b;d++){var k=a[d]._id;g&&g.push(e[k]);h&&h.push(f[k])}g&&(this.faceVertexUvs[0]=g);h&&(this.faceVertexUvs[1]=h)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+
a.z.toString();if(void 0!==n[b])return n[b];n[b]=l.length/3;l.push(a.x,a.y,a.z);return n[b]}function d(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=p.length;p.push(a.getHex());return q[b]}function e(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=r.length/2;r.push(a.x,a.y);return t[b]}var f={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};f.uuid=this.uuid;f.type=this.type;""!==this.name&&(f.name=this.name);if(void 0!==
this.parameters){var g=this.parameters,h;for(h in g)void 0!==g[h]&&(f[h]=g[h]);return f}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}var k=[],l=[],n={},p=[],q={},r=[],t={};for(h=0;h<this.faces.length;h++){var u=this.faces[h],x=void 0!==this.faceVertexUvs[0][h],y=0<u.normal.length(),z=0<u.vertexNormals.length,A=1!==u.color.r||1!==u.color.g||1!==u.color.b,C=0<u.vertexColors.length,B=0,B=a(B,0,0),B=a(B,1,!0),B=a(B,2,!1),B=a(B,3,x),B=a(B,4,y),B=a(B,5,z),B=a(B,6,
A),B=a(B,7,C);k.push(B);k.push(u.a,u.b,u.c);k.push(u.materialIndex);x&&(x=this.faceVertexUvs[0][h],k.push(e(x[0]),e(x[1]),e(x[2])));y&&k.push(b(u.normal));z&&(y=u.vertexNormals,k.push(b(y[0]),b(y[1]),b(y[2])));A&&k.push(d(u.color));C&&(u=u.vertexColors,k.push(d(u[0]),d(u[1]),d(u[2])))}f.data={};f.data.vertices=g;f.data.normals=l;0<p.length&&(f.data.colors=p);0<r.length&&(f.data.uvs=[r]);f.data.faces=k;return f},clone:function(){return(new X).copy(this)},copy:function(a){var b,c,d;this.vertices=[];
this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.vertices;var f=0;for(b=e.length;f<b;f++)this.vertices.push(e[f].clone());e=a.colors;f=0;for(b=e.length;f<b;f++)this.colors.push(e[f].clone());e=a.faces;f=0;for(b=e.length;f<b;f++)this.faces.push(e[f].clone());f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=a.faceVertexUvs[f];void 0===
this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);e=0;for(c=g.length;e<c;e++){var h=g[e],k=[];var l=0;for(d=h.length;l<d;l++)k.push(h[l].clone());this.faceVertexUvs[f].push(k)}}l=a.morphTargets;f=0;for(b=l.length;f<b;f++){d={};d.name=l[f].name;if(void 0!==l[f].vertices)for(d.vertices=[],e=0,c=l[f].vertices.length;e<c;e++)d.vertices.push(l[f].vertices[e].clone());if(void 0!==l[f].normals)for(d.normals=[],e=0,c=l[f].normals.length;e<c;e++)d.normals.push(l[f].normals[e].clone());this.morphTargets.push(d)}l=
a.morphNormals;f=0;for(b=l.length;f<b;f++){d={};if(void 0!==l[f].vertexNormals)for(d.vertexNormals=[],e=0,c=l[f].vertexNormals.length;e<c;e++)g=l[f].vertexNormals[e],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),d.vertexNormals.push(h);if(void 0!==l[f].faceNormals)for(d.faceNormals=[],e=0,c=l[f].faceNormals.length;e<c;e++)d.faceNormals.push(l[f].faceNormals[e].clone());this.morphNormals.push(d)}e=a.skinWeights;f=0;for(b=e.length;f<b;f++)this.skinWeights.push(e[f].clone());e=a.skinIndices;f=
0;for(b=e.length;f<b;f++)this.skinIndices.push(e[f].clone());e=a.lineDistances;f=0;for(b=e.length;f<b;f++)this.lineDistances.push(e[f]);f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;
this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});ia.MaxIndex=65535;Object.assign(ia.prototype,g.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<Cb(a)?Ja:Ga)(a,1):this.index=a},addAttribute:function(a,b,d){if(!1===(b&&b.isBufferAttribute)&&!1===(b&&b.isInterleavedBufferAttribute))console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
this.addAttribute(a,new ka(b,d));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,d){this.groups.push({start:a,count:b,materialIndex:void 0!==d?d:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=
b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new p).getNormalMatrix(a).applyToBufferAttribute(b),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=new u;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new u;return function(b){a.makeRotationY(b);
this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new u;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new u;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new u;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new R;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.getCenter().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new ga(3*b.vertices.length,3);var c=new ga(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new ga(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==
b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,
void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new za).fromGeometry(a);
return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",(new ka(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new ka(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.addAttribute("color",(new ka(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),
this.addAttribute("uv",(new ka(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new ka(b,2)).copyVector2sArray(a.uvs2)));0<a.indices.length&&(b=new (65535<Cb(a.indices)?Uint32Array:Uint16Array)(3*a.indices.length),this.setIndex((new ka(b,1)).copyIndicesArray(a.indices)));this.groups=a.groups;for(var c in a.morphTargets){for(var b=[],d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new ga(3*g.length,3);b.push(h.copyVector3sArray(g))}this.morphAttributes[c]=
b}0<a.skinIndices.length&&(c=new ga(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new ga(4*a.skinWeights.length,4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ca);var a=this.attributes.position;
void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new Ca,b=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ia);var c=this.attributes.position;if(c){var d=
this.boundingSphere.center;a.setFromBufferAttribute(c);a.getCenter(d);for(var e=0,f=0,g=c.count;f<g;f++)b.x=c.getX(f),b.y=c.getY(f),b.z=c.getZ(f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,
d=this.groups;if(b.position){var e=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new ka(new Float32Array(e.length),3));else for(var f=b.normal.array,g=0,h=f.length;g<h;g++)f[g]=0;var f=b.normal.array,k=new l,n=new l,p=new l,q=new l,r=new l;if(a){a=a.array;0===d.length&&this.addGroup(0,a.length);for(var u=0,t=d.length;u<t;++u){g=d[u];h=g.start;var x=g.count;g=h;for(h+=x;g<h;g+=3){x=3*a[g+0];var y=3*a[g+1];var z=3*a[g+2];k.fromArray(e,x);n.fromArray(e,y);p.fromArray(e,z);q.subVectors(p,
n);r.subVectors(k,n);q.cross(r);f[x]+=q.x;f[x+1]+=q.y;f[x+2]+=q.z;f[y]+=q.x;f[y+1]+=q.y;f[y+2]+=q.z;f[z]+=q.x;f[z+1]+=q.y;f[z+2]+=q.z}}}else for(g=0,h=e.length;g<h;g+=9)k.fromArray(e,g),n.fromArray(e,g+3),p.fromArray(e,g+6),q.subVectors(p,n),r.subVectors(k,n),q.cross(r),f[g]=q.x,f[g+1]=q.y,f[g+2]=q.z,f[g+3]=q.x,f[g+4]=q.y,f[g+5]=q.z,f[g+6]=q.x,f[g+7]=q.y,f[g+8]=q.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===(a&&a.isBufferGeometry))console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,m=0,f=f.itemSize*b;m<g.length;m++,f++)e[f]=g[m];return this}},normalizeNormals:function(){for(var a=this.attributes.normal,b,d,e,f,g=0,h=a.count;g<h;g++)b=a.getX(g),d=a.getY(g),e=a.getZ(g),f=1/Math.sqrt(b*b+d*d+e*e),a.setXYZ(g,b*f,d*f,e*f)},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new ia,b=this.index.array,d=this.attributes,e;for(e in d){for(var f=d[e],g=f.array,f=f.itemSize,h=new g.constructor(b.length*f),k,l=0,n=0,p=b.length;n<p;n++){k=b[n]*f;for(var q=0;q<f;q++)h[l++]=g[k++]}a.addAttribute(e,new ka(h,f))}return a},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;for(var d in b)void 0!==
b[d]&&(a[d]=b[d]);return a}a.data={attributes:{}};var e=this.index;null!==e&&(b=Array.prototype.slice.call(e.array),a.data.index={type:e.array.constructor.name,array:b});var f=this.attributes;for(d in f)e=f[d],b=Array.prototype.slice.call(e.array),a.data.attributes[d]={itemSize:e.itemSize,type:e.array.constructor.name,array:b,normalized:e.normalized};d=this.groups;0<d.length&&(a.data.groups=JSON.parse(JSON.stringify(d)));d=this.boundingSphere;null!==d&&(a.data.boundingSphere={center:d.center.toArray(),
radius:d.radius});return a},clone:function(){return(new ia).copy(this)},copy:function(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(g in c)this.addAttribute(g,c[g].clone());var d=a.morphAttributes;for(g in d){var e=[],f=d[g];c=0;for(b=f.length;c<b;c++)e.push(f[c].clone());this.morphAttributes[g]=e}var g=a.groups;c=0;for(b=g.length;c<b;c++)d=
g[c],this.addGroup(d.start,d.count,d.materialIndex);g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Ta.prototype=Object.assign(Object.create(R.prototype),{constructor:Ta,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){R.prototype.copy.call(this,a);this.drawMode=a.drawMode;
return this},updateMorphTargets:function(){var a=this.geometry.morphTargets;if(void 0!==a&&0<a.length){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var b=0,d=a.length;b<d;b++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[a[b].name]=b}},raycast:function(){function b(a,b,c,d,e,f,g){Sa.barycoordFromPoint(a,b,c,d,A);e.multiplyScalar(A.x);f.multiplyScalar(A.y);g.multiplyScalar(A.z);e.add(f).add(g);return e.clone()}function d(a,b,c,d,e,f,g){var m=a.material;if(null===
(1===m.side?c.intersectTriangle(f,e,d,!0,g):c.intersectTriangle(d,e,f,2!==m.side,g)))return null;C.copy(g);C.applyMatrix4(a.matrixWorld);c=b.ray.origin.distanceTo(C);return c<b.near||c>b.far?null:{distance:c,point:C.clone(),object:a}}function e(a,c,e,f,g,m,h,v){k.fromBufferAttribute(f,m);n.fromBufferAttribute(f,h);p.fromBufferAttribute(f,v);if(a=d(a,c,e,k,n,p,B))g&&(x.fromBufferAttribute(g,m),y.fromBufferAttribute(g,h),z.fromBufferAttribute(g,v),a.uv=b(B,k,n,p,x,y,z)),a.face=new mb(m,h,v,Sa.normal(k,
n,p)),a.faceIndex=m;return a}var f=new u,g=new wa,h=new Ia,k=new l,n=new l,p=new l,q=new l,r=new l,t=new l,x=new a,y=new a,z=new a,A=new l,B=new l,C=new l;return function(a,c){var m=this.geometry,v=this.material,w=this.matrixWorld;if(void 0!==v&&(null===m.boundingSphere&&m.computeBoundingSphere(),h.copy(m.boundingSphere),h.applyMatrix4(w),!1!==a.ray.intersectsSphere(h)&&(f.getInverse(w),g.copy(a.ray).applyMatrix4(f),null===m.boundingBox||!1!==g.intersectsBox(m.boundingBox)))){var l;if(m.isBufferGeometry){var v=
m.index,D=m.attributes.position,w=m.attributes.uv,I;if(null!==v){var S=0;for(I=v.count;S<I;S+=3){m=v.getX(S);var u=v.getX(S+1);var la=v.getX(S+2);if(l=e(this,a,g,D,w,m,u,la))l.faceIndex=Math.floor(S/3),c.push(l)}}else for(S=0,I=D.count;S<I;S+=3)if(m=S,u=S+1,la=S+2,l=e(this,a,g,D,w,m,u,la))l.index=m,c.push(l)}else if(m.isGeometry){var w=Array.isArray(v);S=m.vertices;I=m.faces;u=m.faceVertexUvs[0];0<u.length&&(D=u);for(var L=0,U=I.length;L<U;L++){var A=I[L];l=w?v[A.materialIndex]:v;if(void 0!==l){u=
S[A.a];la=S[A.b];var oa=S[A.c];if(!0===l.morphTargets){l=m.morphTargets;var C=this.morphTargetInfluences;k.set(0,0,0);n.set(0,0,0);p.set(0,0,0);for(var cb=0,E=l.length;cb<E;cb++){var hb=C[cb];if(0!==hb){var pb=l[cb].vertices;k.addScaledVector(q.subVectors(pb[A.a],u),hb);n.addScaledVector(r.subVectors(pb[A.b],la),hb);p.addScaledVector(t.subVectors(pb[A.c],oa),hb)}}k.add(u);n.add(la);p.add(oa);u=k;la=n;oa=p}if(l=d(this,a,g,u,la,oa,B))D&&D[L]&&(C=D[L],x.copy(C[0]),y.copy(C[1]),z.copy(C[2]),l.uv=b(B,
u,la,oa,x,y,z)),l.face=A,l.faceIndex=L,c.push(l)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Db.prototype=Object.create(X.prototype);Db.prototype.constructor=Db;Ua.prototype=Object.create(ia.prototype);Ua.prototype.constructor=Ua;Kb.prototype=Object.create(X.prototype);Kb.prototype.constructor=Kb;lb.prototype=Object.create(ia.prototype);lb.prototype.constructor=lb;ab.prototype=Object.assign(Object.create(R.prototype),{constructor:ab,isCamera:!0,
copy:function(a){R.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this},getWorldDirection:function(){var a=new x;return function(b){b=b||new l;this.getWorldQuaternion(a);return b.set(0,0,-1).applyQuaternion(a)}}(),clone:function(){return(new this.constructor).copy(this)}});bb.prototype=Object.assign(Object.create(ab.prototype),{constructor:bb,isPerspectiveCamera:!0,copy:function(a){ab.prototype.copy.call(this,a);
this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*Ba.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*Ba.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*Ba.RAD2DEG*Math.atan(Math.tan(.5*
Ba.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,d,e,f,g){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:d,offsetY:e,width:f,height:g};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*Ba.DEG2RAD*this.fov)/this.zoom,
d=2*b,e=this.aspect*d,f=-.5*e,g=this.view;if(null!==g)var h=g.fullWidth,k=g.fullHeight,f=f+g.offsetX*e/h,b=b-g.offsetY*d/k,e=g.width/h*e,d=g.height/k*d;g=this.filmOffset;0!==g&&(f+=a*g/this.getFilmWidth());this.projectionMatrix.makePerspective(f,f+e,b,b-d,a,this.far)},toJSON:function(a){a=R.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=
Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});Qb.prototype=Object.assign(Object.create(ab.prototype),{constructor:Qb,isOrthographicCamera:!0,copy:function(a){ab.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,d,e,f,g){this.view={fullWidth:a,
fullHeight:b,offsetX:d,offsetY:e,width:f,height:g};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),d=(this.right+this.left)/2,e=(this.top+this.bottom)/2,f=d-a,d=d+a,a=e+b,b=e-b;if(null!==this.view)var d=this.zoom/(this.view.width/this.view.fullWidth),b=this.zoom/(this.view.height/this.view.fullHeight),g=(this.right-this.left)/this.view.width,
e=(this.top-this.bottom)/this.view.height,f=f+this.view.offsetX/d*g,d=f+this.view.width/d*g,a=a-this.view.offsetY/b*e,b=a-this.view.height/b*e;this.projectionMatrix.makeOrthographic(f,d,a,b,this.near,this.far)},toJSON:function(a){a=R.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});
var If=0;tc.prototype.isFogExp2=!0;tc.prototype.clone=function(){return new tc(this.color.getHex(),this.density)};tc.prototype.toJSON=function(a){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};uc.prototype.isFog=!0;uc.prototype.clone=function(){return new uc(this.color.getHex(),this.near,this.far)};uc.prototype.toJSON=function(a){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};lc.prototype=Object.assign(Object.create(R.prototype),{constructor:lc,copy:function(a,
b){R.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function(a){var b=R.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}});nc.prototype=Object.assign(Object.create(R.prototype),
{constructor:nc,isLensFlare:!0,copy:function(a){R.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,d,e,f,g){void 0===b&&(b=-1);void 0===d&&(d=0);void 0===g&&(g=1);void 0===f&&(f=new G(16777215));void 0===e&&(e=1);d=Math.min(d,Math.max(0,d));this.lensFlares.push({texture:a,size:b,distance:d,x:0,y:0,z:0,scale:1,rotation:0,
opacity:g,color:f,blending:e})},updateLensFlares:function(){var a,b=this.lensFlares.length,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++){var f=this.lensFlares[a];f.x=this.positionScreen.x+d*f.distance;f.y=this.positionScreen.y+e*f.distance;f.wantedRotation=f.x*Math.PI*.25;f.rotation+=.25*(f.wantedRotation-f.rotation)}}});Hb.prototype=Object.create(ha.prototype);Hb.prototype.constructor=Hb;Hb.prototype.isSpriteMaterial=!0;Hb.prototype.copy=function(a){ha.prototype.copy.call(this,
a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};Ec.prototype=Object.assign(Object.create(R.prototype),{constructor:Ec,isSprite:!0,raycast:function(){var a=new l,b=new l,d=new l;return function(c,e){b.setFromMatrixPosition(this.matrixWorld);c.ray.closestPointToPoint(b,a);d.setFromMatrixScale(this.matrixWorld);var f=d.x*d.y/4;b.distanceToSquared(a)>f||(f=c.ray.origin.distanceTo(a),f<c.near||f>c.far||e.push({distance:f,point:a.clone(),face:null,object:this}))}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
vc.prototype=Object.assign(Object.create(R.prototype),{constructor:vc,copy:function(a){R.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-
1].object},raycast:function(){var a=new l;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new l,b=new l;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;
for(;e<f;e++)d[e].object.visible=!1}}}(),toJSON:function(a){a=R.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Object.assign(Fc.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var d=new u;this.bones[a]&&d.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(d)}},pose:function(){var a,b;var d=0;for(b=this.bones.length;d<
b;d++)(a=this.bones[d])&&a.matrixWorld.getInverse(this.boneInverses[d]);d=0;for(b=this.bones.length;d<b;d++)if(a=this.bones[d])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new u,b=new u;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,f=this.boneTexture,g=0,m=c.length;g<m;g++)a.multiplyMatrices(c[g]?c[g].matrixWorld:
b,d[g]),a.toArray(e,16*g);void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new Fc(this.bones,this.boneInverses)}});e.prototype=Object.assign(Object.create(R.prototype),{constructor:e,isBone:!0});A.prototype=Object.assign(Object.create(Ta.prototype),{constructor:A,isSkinnedMesh:!0,initBones:function(){var a=[],b;if(this.geometry&&void 0!==this.geometry.bones){var d=0;for(b=this.geometry.bones.length;d<b;d++){var f=this.geometry.bones[d];var g=new e;a.push(g);g.name=f.name;g.position.fromArray(f.pos);
g.quaternion.fromArray(f.rotq);void 0!==f.scl&&g.scale.fromArray(f.scl)}d=0;for(b=this.geometry.bones.length;d<b;d++)f=this.geometry.bones[d],-1!==f.parent&&null!==f.parent&&void 0!==a[f.parent]?a[f.parent].add(a[d]):this.add(a[d])}this.updateMatrixWorld(!0);return a},bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var a;
if(this.geometry&&this.geometry.isGeometry)for(a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a];var d=1/b.lengthManhattan();Infinity!==d?b.multiplyScalar(d):b.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var b=new h,e=this.geometry.attributes.skinWeight;for(a=0;a<e.count;a++)b.x=e.getX(a),b.y=e.getY(a),b.z=e.getZ(a),b.w=e.getW(a),d=1/b.lengthManhattan(),Infinity!==d?b.multiplyScalar(d):b.set(1,0,0,0),e.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(a){Ta.prototype.updateMatrixWorld.call(this,
a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Q.prototype=Object.create(ha.prototype);Q.prototype.constructor=Q;Q.prototype.isLineBasicMaterial=!0;Q.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);
this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};fa.prototype=Object.assign(Object.create(R.prototype),{constructor:fa,isLine:!0,raycast:function(){var a=new u,b=new wa,d=new Ia;return function(c,e){var f=c.linePrecision,f=f*f,g=this.geometry,m=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();d.copy(g.boundingSphere);d.applyMatrix4(m);if(!1!==c.ray.intersectsSphere(d)){a.getInverse(m);b.copy(c.ray).applyMatrix4(a);var h=new l;var k=new l,m=
new l,v=new l,w=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var n=g.index;var D=g.attributes.position.array;if(null!==n)for(var p=n.array,g=0,q=p.length-1;g<q;g+=w)n=p[g+1],h.fromArray(D,3*p[g]),k.fromArray(D,3*n),n=b.distanceSqToSegment(h,k,v,m),n>f||(v.applyMatrix4(this.matrixWorld),n=c.ray.origin.distanceTo(v),n<c.near||n>c.far||e.push({distance:n,point:m.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}));else for(g=0,q=D.length/3-1;g<q;g+=w)h.fromArray(D,
3*g),k.fromArray(D,3*g+3),n=b.distanceSqToSegment(h,k,v,m),n>f||(v.applyMatrix4(this.matrixWorld),n=c.ray.origin.distanceTo(v),n<c.near||n>c.far||e.push({distance:n,point:m.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g.isGeometry)for(h=g.vertices,k=h.length,g=0;g<k-1;g+=w)n=b.distanceSqToSegment(h[g],h[g+1],v,m),n>f||(v.applyMatrix4(this.matrixWorld),n=c.ray.origin.distanceTo(v),n<c.near||n>c.far||e.push({distance:n,point:m.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Va.prototype=Object.assign(Object.create(fa.prototype),{constructor:Va,isLineSegments:!0});zd.prototype=Object.assign(Object.create(fa.prototype),{constructor:zd,isLineLoop:!0});Ub.prototype=Object.create(ha.prototype);Ub.prototype.constructor=Ub;Ub.prototype.isPointsMaterial=!0;Ub.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);
this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};yc.prototype=Object.assign(Object.create(R.prototype),{constructor:yc,isPoints:!0,raycast:function(){var a=new u,b=new wa,d=new Ia;return function(c,e){function f(a,d){var f=b.distanceSqToPoint(a);if(f<v){var m=b.closestPointToPoint(a);m.applyMatrix4(h);var k=c.ray.origin.distanceTo(m);k<c.near||k>c.far||e.push({distance:k,distanceToRay:Math.sqrt(f),point:m.clone(),index:d,face:null,object:g})}}var g=this,m=this.geometry,
h=this.matrixWorld,k=c.params.Points.threshold;null===m.boundingSphere&&m.computeBoundingSphere();d.copy(m.boundingSphere);d.applyMatrix4(h);d.radius+=k;if(!1!==c.ray.intersectsSphere(d)){a.getInverse(h);b.copy(c.ray).applyMatrix4(a);var k=k/((this.scale.x+this.scale.y+this.scale.z)/3),v=k*k,k=new l;if(m.isBufferGeometry){var w=m.index,m=m.attributes.position.array;if(null!==w)for(var n=w.array,w=0,D=n.length;w<D;w++){var p=n[w];k.fromArray(m,3*p);f(k,p)}else for(w=0,n=m.length/3;w<n;w++)k.fromArray(m,
3*w),f(k,w)}else for(k=m.vertices,w=0,n=k.length;w<n;w++)f(k[w],w)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Uc.prototype=Object.assign(Object.create(R.prototype),{constructor:Uc});Ad.prototype=Object.create(n.prototype);Ad.prototype.constructor=Ad;Vc.prototype=Object.create(n.prototype);Vc.prototype.constructor=Vc;Vc.prototype.isCompressedTexture=!0;ce.prototype=Object.create(n.prototype);ce.prototype.constructor=ce;Dd.prototype=Object.create(n.prototype);
Dd.prototype.constructor=Dd;Dd.prototype.isDepthTexture=!0;Wc.prototype=Object.create(ia.prototype);Wc.prototype.constructor=Wc;ic.prototype=Object.create(X.prototype);ic.prototype.constructor=ic;Xc.prototype=Object.create(ia.prototype);Xc.prototype.constructor=Xc;Ed.prototype=Object.create(X.prototype);Ed.prototype.constructor=Ed;Ab.prototype=Object.create(ia.prototype);Ab.prototype.constructor=Ab;Fd.prototype=Object.create(X.prototype);Fd.prototype.constructor=Fd;Yc.prototype=Object.create(Ab.prototype);
Yc.prototype.constructor=Yc;Gd.prototype=Object.create(X.prototype);Gd.prototype.constructor=Gd;Ib.prototype=Object.create(Ab.prototype);Ib.prototype.constructor=Ib;oc.prototype=Object.create(X.prototype);oc.prototype.constructor=oc;Zc.prototype=Object.create(Ab.prototype);Zc.prototype.constructor=Zc;Hd.prototype=Object.create(X.prototype);Hd.prototype.constructor=Hd;Ac.prototype=Object.create(Ab.prototype);Ac.prototype.constructor=Ac;Id.prototype=Object.create(X.prototype);Id.prototype.constructor=
Id;$c.prototype=Object.create(ia.prototype);$c.prototype.constructor=$c;ad.prototype=Object.create(X.prototype);ad.prototype.constructor=ad;bd.prototype=Object.create(ia.prototype);bd.prototype.constructor=bd;Cd.prototype=Object.create(X.prototype);Cd.prototype.constructor=Cd;zc.prototype=Object.create(ia.prototype);zc.prototype.constructor=zc;var Xb={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(){return function(a,b){var c=
a.length;if(3>c)return null;var d=[],e=[],f=[],g;if(0<Xb.area(a))for(g=0;g<c;g++)e[g]=g;else for(g=0;g<c;g++)e[g]=c-1-g;var m=2*c;for(g=c-1;2<c;){if(0>=m--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var h=g;c<=h&&(h=0);g=h+1;c<=g&&(g=0);var k=g+1;c<=k&&(k=0);a:{var l;var n=a[e[h]].x;var p=a[e[h]].y;var q=a[e[g]].x;var r=a[e[g]].y;var u=a[e[k]].x;var t=a[e[k]].y;if(0>=(q-n)*(t-p)-(r-p)*(u-n))var x=!1;else{var y=u-q;var z=t-r;var A=n-u;var C=p-t;var B=q-
n;x=r-p;for(l=0;l<c;l++){var E=a[e[l]].x;var F=a[e[l]].y;if(!(E===n&&F===p||E===q&&F===r||E===u&&F===t)){var G=E-n;var H=F-p;var J=E-q;var K=F-r;E-=u;F-=t;K=y*K-z*J;H=B*H-x*G;E=A*F-C*E;if(K>=-Number.EPSILON&&E>=-Number.EPSILON&&H>=-Number.EPSILON){x=!1;break a}}}x=!0}}if(x){d.push([a[e[h]],a[e[g]],a[e[k]]]);f.push([e[h],e[g],e[k]]);h=g;for(k=g+1;k<c;h++,k++)e[h]=e[k];c--;m=2*c}}return b?f:d}}(),triangulateShape:function(a,b){function c(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function d(a,
b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function e(a,b,c,e,f){var g=b.x-a.x,m=b.y-a.y,h=e.x-c.x,k=e.y-c.y,v=a.x-c.x,w=a.y-c.y,l=m*h-g*k,n=m*v-g*w;if(Math.abs(l)>Number.EPSILON){if(0<l){if(0>n||n>l)return[];h=k*v-h*w;if(0>h||h>l)return[]}else{if(0<n||n<l)return[];h=k*v-h*w;if(0<h||h<l)return[]}if(0===h)return!f||0!==n&&n!==l?[a]:[];if(h===l)return!f||0!==n&&n!==l?[b]:[];if(0===n)return[c];if(n===l)return[e];f=h/l;return[{x:a.x+
f*g,y:a.y+f*m}]}if(0!==n||k*v!==h*w)return[];m=0===g&&0===m;h=0===h&&0===k;if(m&&h)return a.x!==c.x||a.y!==c.y?[]:[a];if(m)return d(c,e,a)?[a]:[];if(h)return d(a,b,c)?[c]:[];0!==g?(a.x<b.x?(g=a,h=a.x,m=b,a=b.x):(g=b,h=b.x,m=a,a=a.x),c.x<e.x?(b=c,l=c.x,k=e,c=e.x):(b=e,l=e.x,k=c,c=c.x)):(a.y<b.y?(g=a,h=a.y,m=b,a=b.y):(g=b,h=b.y,m=a,a=a.y),c.y<e.y?(b=c,l=c.y,k=e,c=e.y):(b=e,l=e.y,k=c,c=c.y));return h<=l?a<l?[]:a===l?f?[]:[b]:a<=c?[b,m]:[b,k]:h>c?[]:h===c?f?[]:[g]:a<=c?[g,m]:[g,k]}function f(a,b,c,d){var e=
b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return Math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}c(a);b.forEach(c);var g,m={};var h=a.concat();var k=0;for(g=b.length;k<g;k++)Array.prototype.push.apply(h,b[k]);k=0;for(g=h.length;k<g;k++){var l=h[k].x+":"+h[k].y;void 0!==m[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,k);m[l]=k}k=function(a,b){function c(a,b){var c=m.length-1,d=a-1;0>d&&(d=c);var e=a+1;e>c&&(e=0);c=f(m[a],m[d],m[e],
u[b]);if(!c)return!1;c=u.length-1;d=b-1;0>d&&(d=c);e=b+1;e>c&&(e=0);return(c=f(u[b],u[d],u[e],m[a]))?!0:!1}function d(a,b){var c;for(c=0;c<m.length;c++){var d=c+1;d%=m.length;d=e(a,b,m[c],m[d],!0);if(0<d.length)return!0}return!1}function g(a,c){var d,f;for(d=0;d<h.length;d++){var g=b[h[d]];for(f=0;f<g.length;f++){var m=f+1;m%=g.length;m=e(a,c,g[f],g[m],!0);if(0<m.length)return!0}}return!1}var m=a.concat(),h=[],k,v,w=[],l,n=0;for(k=b.length;n<k;n++)h.push(n);var D=0;for(var p=2*h.length;0<h.length;){p--;
if(0>p){console.log("Infinite Loop! Holes left:"+h.length+", Probably Hole outside Shape!");break}for(v=D;v<m.length;v++){var q=m[v];k=-1;for(n=0;n<h.length;n++){var r=h[n];var I=q.x+":"+q.y+":"+r;if(void 0===w[I]){var u=b[r];for(l=0;l<u.length;l++)if(r=u[l],c(v,l)&&!d(q,r)&&!g(q,r)){k=l;h.splice(n,1);D=m.slice(0,v+1);r=m.slice(v);l=u.slice(k);var S=u.slice(0,k+1);m=D.concat(l).concat(S).concat(r);D=v;break}if(0<=k)break;w[I]=!0}}if(0<=k)break}}return m}(a,b);var n=Xb.triangulate(k,!1);k=0;for(g=
n.length;k<g;k++){var p=n[k];for(h=0;3>h;h++)l=p[h].x+":"+p[h].y,l=m[l],void 0!==l&&(p[h]=l)}return n.concat()},isClockWise:function(a){return 0>Xb.area(a)}};hc.prototype=Object.create(X.prototype);hc.prototype.constructor=hc;Bb.prototype=Object.create(ia.prototype);Bb.prototype.constructor=Bb;Bb.prototype.getArrays=function(){var a=this.getAttribute("position"),a=a?Array.prototype.slice.call(a.array):[],b=this.getAttribute("uv"),b=b?Array.prototype.slice.call(b.array):[],d=this.index,d=d?Array.prototype.slice.call(d.array):
[];return{position:a,uv:b,index:d}};Bb.prototype.addShapeList=function(a,b){var c=a.length;b.arrays=this.getArrays();for(var d=0;d<c;d++)this.addShape(a[d],b);this.setIndex(b.arrays.index);this.addAttribute("position",new ga(b.arrays.position,3));this.addAttribute("uv",new ga(b.arrays.uv,2))};Bb.prototype.addShape=function(b,d){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function e(b,c,d){var e=b.x-c.x;var f=b.y-c.y;var g=
d.x-b.x;var m=d.y-b.y,h=e*e+f*f;if(Math.abs(e*m-f*g)>Number.EPSILON){var k=Math.sqrt(h),v=Math.sqrt(g*g+m*m),h=c.x-f/k;c=c.y+e/k;m=((d.x-m/v-h)*m-(d.y+g/v-c)*g)/(e*m-f*g);g=h+e*m-b.x;e=c+f*m-b.y;f=g*g+e*e;if(2>=f)return new a(g,e);f=Math.sqrt(f/2)}else b=!1,e>Number.EPSILON?g>Number.EPSILON&&(b=!0):e<-Number.EPSILON?g<-Number.EPSILON&&(b=!0):Math.sign(f)===Math.sign(m)&&(b=!0),b?(g=-f,f=Math.sqrt(h)):(g=e,e=f,f=Math.sqrt(h/2));return new a(g/f,e/f)}function f(a,b){for(N=a.length;0<=--N;){var c=N;
var d=N-1;0>d&&(d=a.length-1);var e,f=C+2*y;for(e=0;e<f;e++){var g=ba*e,m=ba*(e+1),v=b+d+g,w=b+d+m,m=b+c+m;h(b+c+g);h(v);h(m);h(v);h(w);h(m);g=p.length/3;g=F.generateSideWallUV(T,p,g-6,g-3,g-2,g-1);k(g[0]);k(g[1]);k(g[3]);k(g[1]);k(g[2]);k(g[3])}}}function g(a,b,c){u.push(a);u.push(b);u.push(c)}function m(a,b,c){h(a);h(b);h(c);a=p.length/3;a=F.generateTopUV(T,p,a-3,a-2,a-1);k(a[0]);k(a[1]);k(a[2])}function h(a){q.push(p.length/3);p.push(u[3*a+0]);p.push(u[3*a+1]);p.push(u[3*a+2])}function k(a){r.push(a.x);
r.push(a.y)}var n=d.arrays?d.arrays:this.getArrays(),p=n.position,q=n.index,r=n.uv,u=[],n=void 0!==d.amount?d.amount:100,t=void 0!==d.bevelThickness?d.bevelThickness:6,x=void 0!==d.bevelSize?d.bevelSize:t-2,y=void 0!==d.bevelSegments?d.bevelSegments:3,z=void 0!==d.bevelEnabled?d.bevelEnabled:!0,A=void 0!==d.curveSegments?d.curveSegments:12,C=void 0!==d.steps?d.steps:1,B=d.extrudePath,E=!1,F=void 0!==d.UVGenerator?d.UVGenerator:hc.WorldUVGenerator;if(B){var G=B.getSpacedPoints(C);E=!0;z=!1;var H=void 0!==
d.frames?d.frames:B.computeFrenetFrames(C,!1);var J=new l;var K=new l;var M=new l}z||(x=t=y=0);var O,T=this,B=b.extractPoints(A),A=B.shape,R=B.holes;if(B=!Xb.isClockWise(A)){A=A.reverse();var Q=0;for(O=R.length;Q<O;Q++){var V=R[Q];Xb.isClockWise(V)&&(R[Q]=V.reverse())}B=!1}var X=Xb.triangulateShape(A,R),Z=A;Q=0;for(O=R.length;Q<O;Q++)V=R[Q],A=A.concat(V);var W,ba=A.length,Y,da=X.length,B=[],N=0;var aa=Z.length;var ea=aa-1;for(W=N+1;N<aa;N++,ea++,W++)ea===aa&&(ea=0),W===aa&&(W=0),B[N]=e(Z[N],Z[ea],
Z[W]);var ia=[],ha=B.concat();Q=0;for(O=R.length;Q<O;Q++){V=R[Q];var ja=[];N=0;aa=V.length;ea=aa-1;for(W=N+1;N<aa;N++,ea++,W++)ea===aa&&(ea=0),W===aa&&(W=0),ja[N]=e(V[N],V[ea],V[W]);ia.push(ja);ha=ha.concat(ja)}for(ea=0;ea<y;ea++){aa=ea/y;var ka=t*Math.cos(aa*Math.PI/2);W=x*Math.sin(aa*Math.PI/2);N=0;for(aa=Z.length;N<aa;N++){var fa=c(Z[N],B[N],W);g(fa.x,fa.y,-ka)}Q=0;for(O=R.length;Q<O;Q++)for(V=R[Q],ja=ia[Q],N=0,aa=V.length;N<aa;N++)fa=c(V[N],ja[N],W),g(fa.x,fa.y,-ka)}W=x;for(N=0;N<ba;N++)fa=z?
c(A[N],ha[N],W):A[N],E?(K.copy(H.normals[0]).multiplyScalar(fa.x),J.copy(H.binormals[0]).multiplyScalar(fa.y),M.copy(G[0]).add(K).add(J),g(M.x,M.y,M.z)):g(fa.x,fa.y,0);for(aa=1;aa<=C;aa++)for(N=0;N<ba;N++)fa=z?c(A[N],ha[N],W):A[N],E?(K.copy(H.normals[aa]).multiplyScalar(fa.x),J.copy(H.binormals[aa]).multiplyScalar(fa.y),M.copy(G[aa]).add(K).add(J),g(M.x,M.y,M.z)):g(fa.x,fa.y,n/C*aa);for(ea=y-1;0<=ea;ea--){aa=ea/y;ka=t*Math.cos(aa*Math.PI/2);W=x*Math.sin(aa*Math.PI/2);N=0;for(aa=Z.length;N<aa;N++)fa=
c(Z[N],B[N],W),g(fa.x,fa.y,n+ka);Q=0;for(O=R.length;Q<O;Q++)for(V=R[Q],ja=ia[Q],N=0,aa=V.length;N<aa;N++)fa=c(V[N],ja[N],W),E?g(fa.x,fa.y+G[C-1].y,G[C-1].x+ka):g(fa.x,fa.y,n+ka)}(function(){var a=p.length/3;if(z){var b=0*ba;for(N=0;N<da;N++)Y=X[N],m(Y[2]+b,Y[1]+b,Y[0]+b);b=ba*(C+2*y);for(N=0;N<da;N++)Y=X[N],m(Y[0]+b,Y[1]+b,Y[2]+b)}else{for(N=0;N<da;N++)Y=X[N],m(Y[2],Y[1],Y[0]);for(N=0;N<da;N++)Y=X[N],m(Y[0]+ba*C,Y[1]+ba*C,Y[2]+ba*C)}T.addGroup(a,p.length/3-a,void 0!==d.material?d.material:0)})();
(function(){var a=p.length/3,b=0;f(Z,b);b+=Z.length;Q=0;for(O=R.length;Q<O;Q++)V=R[Q],f(V,b),b+=V.length;T.addGroup(a,p.length/3-a,void 0!==d.extrudeMaterial?d.extrudeMaterial:1)})();d.arrays||(this.setIndex(q),this.addAttribute("position",new ga(p,3)),this.addAttribute("uv",new ga(d.arrays.uv,2)))};hc.WorldUVGenerator={generateTopUV:function(b,d,e,f,g){b=d[3*f];f=d[3*f+1];var c=d[3*g];g=d[3*g+1];return[new a(d[3*e],d[3*e+1]),new a(b,f),new a(c,g)]},generateSideWallUV:function(b,d,e,f,g,h){b=d[3*
e];var c=d[3*e+1];e=d[3*e+2];var m=d[3*f],k=d[3*f+1];f=d[3*f+2];var v=d[3*g],w=d[3*g+1];g=d[3*g+2];var l=d[3*h],n=d[3*h+1];d=d[3*h+2];return.01>Math.abs(c-k)?[new a(b,1-e),new a(m,1-f),new a(v,1-g),new a(l,1-d)]:[new a(c,1-e),new a(k,1-f),new a(w,1-g),new a(n,1-d)]}};cd.prototype=Object.create(X.prototype);cd.prototype.constructor=cd;dd.prototype=Object.create(Bb.prototype);dd.prototype.constructor=dd;Jd.prototype=Object.create(X.prototype);Jd.prototype.constructor=Jd;Bc.prototype=Object.create(ia.prototype);
Bc.prototype.constructor=Bc;Kd.prototype=Object.create(X.prototype);Kd.prototype.constructor=Kd;ed.prototype=Object.create(ia.prototype);ed.prototype.constructor=ed;Ld.prototype=Object.create(X.prototype);Ld.prototype.constructor=Ld;fd.prototype=Object.create(ia.prototype);fd.prototype.constructor=fd;gd.prototype=Object.create(X.prototype);gd.prototype.constructor=gd;hd.prototype=Object.create(ia.prototype);hd.prototype.constructor=hd;id.prototype=Object.create(ia.prototype);id.prototype.constructor=
id;Cc.prototype=Object.create(X.prototype);Cc.prototype.constructor=Cc;kc.prototype=Object.create(ia.prototype);kc.prototype.constructor=kc;Md.prototype=Object.create(Cc.prototype);Md.prototype.constructor=Md;Nd.prototype=Object.create(kc.prototype);Nd.prototype.constructor=Nd;Dc.prototype=Object.create(X.prototype);Dc.prototype.constructor=Dc;jd.prototype=Object.create(ia.prototype);jd.prototype.constructor=jd;var ac=Object.freeze({WireframeGeometry:Wc,ParametricGeometry:ic,ParametricBufferGeometry:Xc,
TetrahedronGeometry:Fd,TetrahedronBufferGeometry:Yc,OctahedronGeometry:Gd,OctahedronBufferGeometry:Ib,IcosahedronGeometry:oc,IcosahedronBufferGeometry:Zc,DodecahedronGeometry:Hd,DodecahedronBufferGeometry:Ac,PolyhedronGeometry:Ed,PolyhedronBufferGeometry:Ab,TubeGeometry:Id,TubeBufferGeometry:$c,TorusKnotGeometry:ad,TorusKnotBufferGeometry:bd,TorusGeometry:Cd,TorusBufferGeometry:zc,TextGeometry:cd,TextBufferGeometry:dd,SphereGeometry:Jd,SphereBufferGeometry:Bc,RingGeometry:Kd,RingBufferGeometry:ed,
PlaneGeometry:Kb,PlaneBufferGeometry:lb,LatheGeometry:Ld,LatheBufferGeometry:fd,ShapeGeometry:gd,ShapeBufferGeometry:hd,ExtrudeGeometry:hc,ExtrudeBufferGeometry:Bb,EdgesGeometry:id,ConeGeometry:Md,ConeBufferGeometry:Nd,CylinderGeometry:Cc,CylinderBufferGeometry:kc,CircleGeometry:Dc,CircleBufferGeometry:jd,BoxGeometry:Db,BoxBufferGeometry:Ua});kd.prototype=Object.create(Da.prototype);kd.prototype.constructor=kd;kd.prototype.isShadowMaterial=!0;ld.prototype=Object.create(Da.prototype);ld.prototype.constructor=
ld;ld.prototype.isRawShaderMaterial=!0;ec.prototype=Object.create(ha.prototype);ec.prototype.constructor=ec;ec.prototype.isMeshStandardMaterial=!0;ec.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=
a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Gc.prototype=Object.create(ec.prototype);Gc.prototype.constructor=Gc;Gc.prototype.isMeshPhysicalMaterial=!0;Gc.prototype.copy=function(a){ec.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=
a.clearCoatRoughness;return this};Yb.prototype=Object.create(ha.prototype);Yb.prototype.constructor=Yb;Yb.prototype.isMeshPhongMaterial=!0;Yb.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=
a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;
this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Hc.prototype=Object.create(Yb.prototype);Hc.prototype.constructor=Hc;Hc.prototype.isMeshToonMaterial=!0;Hc.prototype.copy=function(a){Yb.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return this};Ic.prototype=Object.create(ha.prototype);Ic.prototype.constructor=Ic;Ic.prototype.isMeshNormalMaterial=!0;
Ic.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Jc.prototype=Object.create(ha.prototype);
Jc.prototype.constructor=Jc;Jc.prototype.isMeshLambertMaterial=!0;Jc.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=
a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Kc.prototype=Object.create(ha.prototype);Kc.prototype.constructor=Kc;Kc.prototype.isLineDashedMaterial=!0;Kc.prototype.copy=function(a){ha.prototype.copy.call(this,a);this.color.copy(a.color);
this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var Lf=Object.freeze({ShadowMaterial:kd,SpriteMaterial:Hb,RawShaderMaterial:ld,ShaderMaterial:Da,PointsMaterial:Ub,MeshPhysicalMaterial:Gc,MeshStandardMaterial:ec,MeshPhongMaterial:Yb,MeshToonMaterial:Hc,MeshNormalMaterial:Ic,MeshLambertMaterial:Jc,MeshDepthMaterial:gb,MeshBasicMaterial:db,LineDashedMaterial:Kc,LineBasicMaterial:Q,Material:ha}),be={enabled:!1,files:{},add:function(a,b){!1!==
this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},Ob=new Fe;Object.assign(Zb.prototype,{load:function(a,b,d,e){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);var c=this,f=be.get(a);if(void 0!==f)return c.manager.itemStart(a),setTimeout(function(){b&&b(f);c.manager.itemEnd(a)},0),f;var g=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){var m=g[1],h=!!g[2],g=g[3],g=window.decodeURIComponent(g);
h&&(g=window.atob(g));try{var k=(this.responseType||"").toLowerCase();switch(k){case "arraybuffer":case "blob":var v=new ArrayBuffer(g.length);for(var w=new Uint8Array(v),h=0;h<g.length;h++)w[h]=g.charCodeAt(h);"blob"===k&&(v=new Blob([v],{type:m}));break;case "document":v=(new DOMParser).parseFromString(g,m);break;case "json":v=JSON.parse(g);break;default:v=g}window.setTimeout(function(){b&&b(v);c.manager.itemEnd(a)},0)}catch(cb){window.setTimeout(function(){e&&e(cb);c.manager.itemEnd(a);c.manager.itemError(a)},
0)}}else{var l=new XMLHttpRequest;l.open("GET",a,!0);l.addEventListener("load",function(d){var f=d.target.response;be.add(a,f);200===this.status?(b&&b(f),c.manager.itemEnd(a)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),b&&b(f),c.manager.itemEnd(a)):(e&&e(d),c.manager.itemEnd(a),c.manager.itemError(a))},!1);void 0!==d&&l.addEventListener("progress",function(a){d(a)},!1);l.addEventListener("error",function(b){e&&e(b);c.manager.itemEnd(a);c.manager.itemError(a)},!1);void 0!==
this.responseType&&(l.responseType=this.responseType);void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials);l.overrideMimeType&&l.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(m in this.requestHeader)l.setRequestHeader(m,this.requestHeader[m]);l.send(null)}c.manager.itemStart(a);return l},setPath:function(a){this.path=a;return this},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},
setMimeType:function(a){this.mimeType=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});Object.assign(lf.prototype,{load:function(a,b,d,e){function c(c){k.load(a[c],function(a){a=g._parser(a,!0);m[c]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};f+=1;6===f&&(1===a.mipmapCount&&(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},d,e)}var f,g=this,m=[],h=new Vc;h.image=m;var k=new Zb(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");
if(Array.isArray(a))for(var v=f=0,w=a.length;v<w;++v)c(v);else k.load(a,function(a){a=g._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){m[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)m[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),m[d].format=a.format,m[d].width=a.width,m[d].height=a.height}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},d,e);return h},setPath:function(a){this.path=
a;return this}});Object.assign(Ge.prototype,{load:function(a,b,d,e){var c=this,f=new J,g=new Zb(this.manager);g.setResponseType("arraybuffer");g.load(a,function(a){if(a=c._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?
a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},d,e);return f}});Object.assign(Pd.prototype,{load:function(a,b,d,e){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);var c=this,f=be.get(a);if(void 0!==f)return c.manager.itemStart(a),setTimeout(function(){b&&b(f);c.manager.itemEnd(a)},0),f;d=document.createElementNS("http://www.w3.org/1999/xhtml","img");
d.addEventListener("load",function(){be.add(a,this);b&&b(this);c.manager.itemEnd(a)},!1);d.addEventListener("error",function(b){e&&e(b);c.manager.itemEnd(a);c.manager.itemError(a)},!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(d.crossOrigin=this.crossOrigin);c.manager.itemStart(a);d.src=a;return d},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(He.prototype,{load:function(a,b,d,e){function c(c){g.load(a[c],function(a){f.images[c]=
a;m++;6===m&&(f.needsUpdate=!0,b&&b(f))},void 0,e)}var f=new y,g=new Pd(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var m=0;for(d=0;d<a.length;++d)c(d);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(de.prototype,{load:function(a,b,d,e){var c=new Pd(this.manager);c.setCrossOrigin(this.crossOrigin);c.setPath(this.path);var f=new n;f.image=c.load(a,function(){var c=0<a.search(/\.(jpg|jpeg)$/)||
0===a.search(/^data\:image\/jpeg/);f.format=c?1022:1023;f.needsUpdate=!0;void 0!==b&&b(f)},d,e);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});fb.prototype=Object.assign(Object.create(R.prototype),{constructor:fb,isLight:!0,copy:function(a){R.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=R.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=
this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});ee.prototype=Object.assign(Object.create(fb.prototype),{constructor:ee,isHemisphereLight:!0,copy:function(a){fb.prototype.copy.call(this,
a);this.groundColor.copy(a.groundColor);return this}});Object.assign(Lc.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;
return a}});fe.prototype=Object.assign(Object.create(Lc.prototype),{constructor:fe,isSpotLightShadow:!0,update:function(a){var b=this.camera,c=2*Ba.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(c!==b.fov||d!==b.aspect||a!==b.far)b.fov=c,b.aspect=d,b.far=a,b.updateProjectionMatrix()}});ge.prototype=Object.assign(Object.create(fb.prototype),{constructor:ge,isSpotLight:!0,copy:function(a){fb.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=
a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});he.prototype=Object.assign(Object.create(fb.prototype),{constructor:he,isPointLight:!0,copy:function(a){fb.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});ie.prototype=Object.assign(Object.create(Lc.prototype),{constructor:ie});je.prototype=Object.assign(Object.create(fb.prototype),{constructor:je,isDirectionalLight:!0,copy:function(a){fb.prototype.copy.call(this,
a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});ke.prototype=Object.assign(Object.create(fb.prototype),{constructor:ke,isAmbientLight:!0});le.prototype=Object.assign(Object.create(fb.prototype),{constructor:le,isRectAreaLight:!0,copy:function(a){fb.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=fb.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});var wb={arraySlice:function(a,
b,d){return wb.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==d?d:a.length)):a.slice(b,d)},convertArray:function(a,b,d){return!a||!d&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,b,d){for(var c=a.length,e=
new a.constructor(c),f=0,g=0;g!==c;++f)for(var m=d[f]*b,h=0;h!==b;++h)e[g++]=a[m+h];return e},flattenJSON:function(a,b,d,e){for(var c=1,f=a[0];void 0!==f&&void 0===f[e];)f=a[c++];if(void 0!==f){var g=f[e];if(void 0!==g)if(Array.isArray(g)){do g=f[e],void 0!==g&&(b.push(f.time),d.push.apply(d,g)),f=a[c++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[e],void 0!==g&&(b.push(f.time),g.toArray(d,d.length)),f=a[c++];while(void 0!==f)}else{do g=f[e],void 0!==g&&(b.push(f.time),d.push(g)),f=a[c++];
while(void 0!==f)}}}};Object.assign(Pb.prototype,{evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;c=
0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=
c[a+e];return b},interpolate_:function(a,b,d,e){throw Error("call to abstract method");},intervalChanged_:function(a,b,d){}});Object.assign(Pb.prototype,{beforeStart_:Pb.prototype.copySampleValue_,afterEnd_:Pb.prototype.copySampleValue_});me.prototype=Object.assign(Object.create(Pb.prototype),{constructor:me,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(a,b,d){var c=this.parameterPositions,e=a-2,f=a+1,g=c[e],m=c[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=
a;g=2*b-d;break;case 2402:e=c.length-2;g=b+c[e]-c[e+1];break;default:e=a,g=d}if(void 0===m)switch(this.getSettings_().endingEnd){case 2401:f=a;m=2*d-b;break;case 2402:f=1;m=d+c[1]-c[0];break;default:f=a-1,m=b}a=.5*(d-b);c=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(m-d);this._offsetPrev=e*c;this._offsetNext=f*c},interpolate_:function(a,b,d,e){var c=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var m=a-g,h=this._offsetPrev,k=this._offsetNext,v=this._weightPrev,l=this._weightNext,
w=(d-b)/(e-b);d=w*w;e=d*w;b=-v*e+2*v*d-v*w;v=(1+v)*e+(-1.5-2*v)*d+(-.5+v)*w+1;w=(-1-l)*e+(1.5+l)*d+.5*w;l=l*e-l*d;for(d=0;d!==g;++d)c[d]=b*f[h+d]+v*f[m+d]+w*f[a+d]+l*f[k+d];return c}});Qd.prototype=Object.assign(Object.create(Pb.prototype),{constructor:Qd,interpolate_:function(a,b,d,e){var c=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var m=a-g;b=(d-b)/(e-b);d=1-b;for(e=0;e!==g;++e)c[e]=f[m+e]*d+f[a+e]*b;return c}});ne.prototype=Object.assign(Object.create(Pb.prototype),{constructor:ne,
interpolate_:function(a,b,d,e){return this.copySampleValue_(a-1)}});var xc={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new ne(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new Qd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new me(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case 2300:var b=
this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn(b)}else this.createInterpolant=b},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;
case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,
1),e=f-1),d=this.getValueSize(),this.times=wb.arraySlice(c,e,f),this.values=wb.arraySlice(this.values,e*d,f*d);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("invalid value size in track",this),a=!1);var d=this.times,b=this.values,e=d.length;0===e&&(console.error("track is empty",this),a=!1);for(var f=null,g=0;g!==e;g++){var h=d[g];if("number"===typeof h&&isNaN(h)){console.error("time is not a valid number",this,g,h);a=!1;break}if(null!==f&&f>h){console.error("out of order keys",
this,g,h,f);a=!1;break}f=h}if(void 0!==b&&wb.isTypedArray(b))for(g=0,d=b.length;g!==d;++g)if(e=b[g],isNaN(e)){console.error("value is not a valid number",this,g,e);a=!1;break}return a},optimize:function(){for(var a,b,d=this.times,e=this.values,f=this.getValueSize(),g=2302===this.getInterpolation(),h=1,k=d.length-1,l=1;l<k;++l){a=!1;var n=d[l];if(n!==d[l+1]&&(1!==l||n!==n[0]))if(g)a=!0;else{b=l*f;for(var p=b-f,q=b+f,n=0;n!==f;++n){var r=e[b+n];if(r!==e[p+n]||r!==e[q+n]){a=!0;break}}}if(a){if(l!==h)for(d[h]=
d[l],b=l*f,a=h*f,n=0;n!==f;++n)e[a+n]=e[b+n];++h}}if(0<k){d[h]=d[k];b=k*f;a=h*f;for(n=0;n!==f;++n)e[a+n]=e[b+n];++h}h!==d.length&&(this.times=wb.arraySlice(d,0,h),this.values=wb.arraySlice(e,0,h*f));return this}};md.prototype=Object.assign(Object.create(xc),{constructor:md,ValueTypeName:"vector"});oe.prototype=Object.assign(Object.create(Pb.prototype),{constructor:oe,interpolate_:function(a,b,d,e){var c=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(d-b)/(e-b);for(d=a+g;a!==d;a+=4)x.slerpFlat(c,
0,f,a-g,f,a,b);return c}});Rd.prototype=Object.assign(Object.create(xc),{constructor:Rd,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new oe(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});nd.prototype=Object.assign(Object.create(xc),{constructor:nd,ValueTypeName:"number"});pe.prototype=Object.assign(Object.create(xc),{constructor:pe,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,
InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});qe.prototype=Object.assign(Object.create(xc),{constructor:qe,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});re.prototype=Object.assign(Object.create(xc),{constructor:re,ValueTypeName:"color"});Nc.prototype=xc;xc.constructor=Nc;Object.assign(Nc,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");
var b=Nc._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];wb.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{var b={name:a.name,times:wb.convertArray(a.times,Array),values:wb.convertArray(a.values,Array)},c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return nd;
case "vector":case "vector2":case "vector3":case "vector4":return md;case "color":return re;case "quaternion":return Rd;case "bool":case "boolean":return qe;case "string":return pe}throw Error("Unsupported typeName: "+a);}});Object.assign(Tb,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(Nc.parse(c[e]).scale(d));return new Tb(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==
e;++d)b.push(Nc.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,d,e){for(var c=b.length,f=[],g=0;g<c;g++){var m=[],h=[];m.push((g+c-1)%c,g,(g+1)%c);h.push(0,1,0);var k=wb.getKeyframeOrder(m),m=wb.sortedArray(m,1,k),h=wb.sortedArray(h,1,k);e||0!==m[0]||(m.push(c),h.push(h[0]));f.push((new nd(".morphTargetInfluences["+b[g].name+"]",m,h)).scale(1/d))}return new Tb(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(var d=
0;d<c.length;d++)if(c[d].name===b)return c[d];return null},CreateClipsFromMorphTargetSequences:function(a,b,d){for(var c,e,f,g={},m=/^([\w-]*?)([\d]+)$/,h=0,k=a.length;h<k;h++)c=a[h],(e=c.name.match(m))&&1<e.length&&(f=e[1],(e=g[f])||(g[f]=e=[]),e.push(c));a=[];for(f in g)a.push(Tb.CreateFromMorphTargetSequence(f,g[f],b,d));return a},parseAnimation:function(a,b){if(!a)return console.error("  no animation in JSONLoader data"),null;for(var c=function(a,b,c,d,e){if(0!==c.length){var f=[],g=[];wb.flattenJSON(c,
f,g,d);0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30,m=a.hierarchy||[],h=0;h<m.length;h++){var k=m[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){for(var f={},l=0;l<k.length;l++)if(k[l].morphTargets)for(var n=0;n<k[l].morphTargets.length;n++)f[k[l].morphTargets[n]]=-1;for(var p in f){for(var q=[],r=[],n=0;n!==k[l].morphTargets.length;++n){var u=k[l];q.push(u.time);r.push(u.morphTarget===p?1:0)}d.push(new nd(".morphTargetInfluence["+p+"]",q,r))}f=f.length*
(g||1)}else l=".bones["+b[h].name+"]",c(md,l+".position",k,"pos",d),c(Rd,l+".quaternion",k,"rot",d),c(md,l+".scale",k,"scl",d)}return 0===d.length?null:new Tb(e,f,d)}});Object.assign(Tb.prototype,{resetDuration:function(){for(var a=0,b=0,d=this.tracks.length;b!==d;++b)var e=this.tracks[b],a=Math.max(a,e.times[e.times.length-1]);this.duration=a},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();
return this}});Object.assign(se.prototype,{load:function(a,b,d,e){var c=this,f=new Zb(c.manager);f.setResponseType("json");f.load(a,function(a){b(c.parse(a))},d,e)},setTextures:function(a){this.textures=a},parse:function(b){function c(a){void 0===d[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return d[a]}var d=this.textures,e=new Lf[b.type];void 0!==b.uuid&&(e.uuid=b.uuid);void 0!==b.name&&(e.name=b.name);void 0!==b.color&&e.color.setHex(b.color);void 0!==b.roughness&&(e.roughness=
b.roughness);void 0!==b.metalness&&(e.metalness=b.metalness);void 0!==b.emissive&&e.emissive.setHex(b.emissive);void 0!==b.specular&&e.specular.setHex(b.specular);void 0!==b.shininess&&(e.shininess=b.shininess);void 0!==b.clearCoat&&(e.clearCoat=b.clearCoat);void 0!==b.clearCoatRoughness&&(e.clearCoatRoughness=b.clearCoatRoughness);void 0!==b.uniforms&&(e.uniforms=b.uniforms);void 0!==b.vertexShader&&(e.vertexShader=b.vertexShader);void 0!==b.fragmentShader&&(e.fragmentShader=b.fragmentShader);void 0!==
b.vertexColors&&(e.vertexColors=b.vertexColors);void 0!==b.fog&&(e.fog=b.fog);void 0!==b.shading&&(e.shading=b.shading);void 0!==b.blending&&(e.blending=b.blending);void 0!==b.side&&(e.side=b.side);void 0!==b.opacity&&(e.opacity=b.opacity);void 0!==b.transparent&&(e.transparent=b.transparent);void 0!==b.alphaTest&&(e.alphaTest=b.alphaTest);void 0!==b.depthTest&&(e.depthTest=b.depthTest);void 0!==b.depthWrite&&(e.depthWrite=b.depthWrite);void 0!==b.colorWrite&&(e.colorWrite=b.colorWrite);void 0!==
b.wireframe&&(e.wireframe=b.wireframe);void 0!==b.wireframeLinewidth&&(e.wireframeLinewidth=b.wireframeLinewidth);void 0!==b.wireframeLinecap&&(e.wireframeLinecap=b.wireframeLinecap);void 0!==b.wireframeLinejoin&&(e.wireframeLinejoin=b.wireframeLinejoin);void 0!==b.skinning&&(e.skinning=b.skinning);void 0!==b.morphTargets&&(e.morphTargets=b.morphTargets);void 0!==b.size&&(e.size=b.size);void 0!==b.sizeAttenuation&&(e.sizeAttenuation=b.sizeAttenuation);void 0!==b.map&&(e.map=c(b.map));void 0!==b.alphaMap&&
(e.alphaMap=c(b.alphaMap),e.transparent=!0);void 0!==b.bumpMap&&(e.bumpMap=c(b.bumpMap));void 0!==b.bumpScale&&(e.bumpScale=b.bumpScale);void 0!==b.normalMap&&(e.normalMap=c(b.normalMap));if(void 0!==b.normalScale){var f=b.normalScale;!1===Array.isArray(f)&&(f=[f,f]);e.normalScale=(new a).fromArray(f)}void 0!==b.displacementMap&&(e.displacementMap=c(b.displacementMap));void 0!==b.displacementScale&&(e.displacementScale=b.displacementScale);void 0!==b.displacementBias&&(e.displacementBias=b.displacementBias);
void 0!==b.roughnessMap&&(e.roughnessMap=c(b.roughnessMap));void 0!==b.metalnessMap&&(e.metalnessMap=c(b.metalnessMap));void 0!==b.emissiveMap&&(e.emissiveMap=c(b.emissiveMap));void 0!==b.emissiveIntensity&&(e.emissiveIntensity=b.emissiveIntensity);void 0!==b.specularMap&&(e.specularMap=c(b.specularMap));void 0!==b.envMap&&(e.envMap=c(b.envMap));void 0!==b.reflectivity&&(e.reflectivity=b.reflectivity);void 0!==b.lightMap&&(e.lightMap=c(b.lightMap));void 0!==b.lightMapIntensity&&(e.lightMapIntensity=
b.lightMapIntensity);void 0!==b.aoMap&&(e.aoMap=c(b.aoMap));void 0!==b.aoMapIntensity&&(e.aoMapIntensity=b.aoMapIntensity);void 0!==b.gradientMap&&(e.gradientMap=c(b.gradientMap));if(void 0!==b.materials)for(var f=0,g=b.materials.length;f<g;f++)e.materials.push(this.parse(b.materials[f]));return e}});Object.assign(Ie.prototype,{load:function(a,b,d,e){var c=this,f=new Zb(c.manager);f.setResponseType("json");f.load(a,function(a){b(c.parse(a))},d,e)},parse:function(a){var b=new ia;var c=a.data.index;
if(void 0!==c){var d=new Bf[c.type](c.array);b.setIndex(new ka(d,1))}var e=a.data.attributes;for(f in e)c=e[f],d=new Bf[c.type](c.array),b.addAttribute(f,new ka(d,c.itemSize,c.normalized));var f=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==f)for(c=0,d=f.length;c!==d;++c)e=f[c],b.addGroup(e.start,e.count,e.materialIndex);a=a.data.boundingSphere;void 0!==a&&(f=new l,void 0!==a.center&&f.fromArray(a.center),b.boundingSphere=new Ia(f,a.radius));return b}});var Bf={Int8Array:Int8Array,Uint8Array:Uint8Array,
Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};od.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};Object.assign(od.prototype,{crossOrigin:void 0,extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+
"/"},initMaterials:function(a,b,d){for(var c=[],e=0;e<a.length;++e)c[e]=this.createMaterial(a[e],b,d);return c},createMaterial:function(){var a={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new G,d=new de,e=new se;return function(c,f,g){function m(a,b,c,e,m){a=f+a;var k=od.Handlers.get(a);null!==k?a=k.load(a):(d.setCrossOrigin(g),a=d.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==
c&&a.offset.fromArray(c);void 0!==e&&("repeat"===e[0]&&(a.wrapS=1E3),"mirror"===e[0]&&(a.wrapS=1002),"repeat"===e[1]&&(a.wrapT=1E3),"mirror"===e[1]&&(a.wrapT=1002));void 0!==m&&(a.anisotropy=m);b=Ba.generateUUID();h[b]=a;return b}var h={},k={uuid:Ba.generateUUID(),type:"MeshLambertMaterial"},l;for(l in c){var v=c[l];switch(l){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":k.name=v;break;case "blending":k.blending=a[v];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
l,"is no longer supported.");break;case "colorDiffuse":k.color=b.fromArray(v).getHex();break;case "colorSpecular":k.specular=b.fromArray(v).getHex();break;case "colorEmissive":k.emissive=b.fromArray(v).getHex();break;case "specularCoef":k.shininess=v;break;case "shading":"basic"===v.toLowerCase()&&(k.type="MeshBasicMaterial");"phong"===v.toLowerCase()&&(k.type="MeshPhongMaterial");"standard"===v.toLowerCase()&&(k.type="MeshStandardMaterial");break;case "mapDiffuse":k.map=m(v,c.mapDiffuseRepeat,c.mapDiffuseOffset,
c.mapDiffuseWrap,c.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;case "mapEmissive":k.emissiveMap=m(v,c.mapEmissiveRepeat,c.mapEmissiveOffset,c.mapEmissiveWrap,c.mapEmissiveAnisotropy);break;case "mapEmissiveRepeat":case "mapEmissiveOffset":case "mapEmissiveWrap":case "mapEmissiveAnisotropy":break;case "mapLight":k.lightMap=m(v,c.mapLightRepeat,c.mapLightOffset,c.mapLightWrap,c.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;
case "mapAO":k.aoMap=m(v,c.mapAORepeat,c.mapAOOffset,c.mapAOWrap,c.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":k.bumpMap=m(v,c.mapBumpRepeat,c.mapBumpOffset,c.mapBumpWrap,c.mapBumpAnisotropy);break;case "mapBumpScale":k.bumpScale=v;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":k.normalMap=m(v,c.mapNormalRepeat,c.mapNormalOffset,c.mapNormalWrap,c.mapNormalAnisotropy);
break;case "mapNormalFactor":k.normalScale=[v,v];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":k.specularMap=m(v,c.mapSpecularRepeat,c.mapSpecularOffset,c.mapSpecularWrap,c.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;case "mapMetalness":k.metalnessMap=m(v,c.mapMetalnessRepeat,c.mapMetalnessOffset,c.mapMetalnessWrap,c.mapMetalnessAnisotropy);
break;case "mapMetalnessRepeat":case "mapMetalnessOffset":case "mapMetalnessWrap":case "mapMetalnessAnisotropy":break;case "mapRoughness":k.roughnessMap=m(v,c.mapRoughnessRepeat,c.mapRoughnessOffset,c.mapRoughnessWrap,c.mapRoughnessAnisotropy);break;case "mapRoughnessRepeat":case "mapRoughnessOffset":case "mapRoughnessWrap":case "mapRoughnessAnisotropy":break;case "mapAlpha":k.alphaMap=m(v,c.mapAlphaRepeat,c.mapAlphaOffset,c.mapAlphaWrap,c.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;
case "flipSided":k.side=1;break;case "doubleSided":k.side=2;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");k.opacity=v;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":k[l]=v;break;case "vertexColors":!0===v&&(k.vertexColors=2);"face"===v&&(k.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,v)}}"MeshBasicMaterial"===
k.type&&delete k.emissive;"MeshPhongMaterial"!==k.type&&delete k.specular;1>k.opacity&&(k.transparent=!0);e.setTextures(h);return e.parse(k)}}()});Object.assign(Je.prototype,{load:function(a,b,d,e){var c=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:od.prototype.extractUrlBase(a),g=new Zb(this.manager);g.setResponseType("json");g.setWithCredentials(this.withCredentials);g.load(a,function(d){var e=d.metadata;if(void 0!==e&&(e=e.type,void 0!==e)){if("object"===e.toLowerCase()){console.error("THREE.JSONLoader: "+
a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===e.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}d=c.parse(d,f);b(d.geometry,d.materials)},d,e)},setTexturePath:function(a){this.texturePath=a},parse:function(){return function(b,d){void 0!==b.data&&(b=b.data);b.scale=void 0!==b.scale?1/b.scale:1;var c=new X,e=b,f,g,m,k=e.faces;var n=e.vertices;var p=e.normals,q=e.colors;var r=e.scale;var u=0;if(void 0!==e.uvs){for(f=
0;f<e.uvs.length;f++)e.uvs[f].length&&u++;for(f=0;f<u;f++)c.faceVertexUvs[f]=[]}var t=0;for(m=n.length;t<m;)f=new l,f.x=n[t++]*r,f.y=n[t++]*r,f.z=n[t++]*r,c.vertices.push(f);t=0;for(m=k.length;t<m;){n=k[t++];var x=n&1;var y=n&2;f=n&8;var z=n&16;var A=n&32;r=n&64;n&=128;if(x){x=new mb;x.a=k[t];x.b=k[t+1];x.c=k[t+3];var B=new mb;B.a=k[t+1];B.b=k[t+2];B.c=k[t+3];t+=4;y&&(y=k[t++],x.materialIndex=y,B.materialIndex=y);y=c.faces.length;if(f)for(f=0;f<u;f++){var C=e.uvs[f];c.faceVertexUvs[f][y]=[];c.faceVertexUvs[f][y+
1]=[];for(g=0;4>g;g++){var E=k[t++];var F=C[2*E];E=C[2*E+1];F=new a(F,E);2!==g&&c.faceVertexUvs[f][y].push(F);0!==g&&c.faceVertexUvs[f][y+1].push(F)}}z&&(z=3*k[t++],x.normal.set(p[z++],p[z++],p[z]),B.normal.copy(x.normal));if(A)for(f=0;4>f;f++)z=3*k[t++],A=new l(p[z++],p[z++],p[z]),2!==f&&x.vertexNormals.push(A),0!==f&&B.vertexNormals.push(A);r&&(r=k[t++],r=q[r],x.color.setHex(r),B.color.setHex(r));if(n)for(f=0;4>f;f++)r=k[t++],r=q[r],2!==f&&x.vertexColors.push(new G(r)),0!==f&&B.vertexColors.push(new G(r));
c.faces.push(x);c.faces.push(B)}else{x=new mb;x.a=k[t++];x.b=k[t++];x.c=k[t++];y&&(y=k[t++],x.materialIndex=y);y=c.faces.length;if(f)for(f=0;f<u;f++)for(C=e.uvs[f],c.faceVertexUvs[f][y]=[],g=0;3>g;g++)E=k[t++],F=C[2*E],E=C[2*E+1],F=new a(F,E),c.faceVertexUvs[f][y].push(F);z&&(z=3*k[t++],x.normal.set(p[z++],p[z++],p[z]));if(A)for(f=0;3>f;f++)z=3*k[t++],A=new l(p[z++],p[z++],p[z]),x.vertexNormals.push(A);r&&(r=k[t++],x.color.setHex(q[r]));if(n)for(f=0;3>f;f++)r=k[t++],x.vertexColors.push(new G(q[r]));
c.faces.push(x)}}e=b;t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(m=0,k=e.skinWeights.length;m<k;m+=t)c.skinWeights.push(new h(e.skinWeights[m],1<t?e.skinWeights[m+1]:0,2<t?e.skinWeights[m+2]:0,3<t?e.skinWeights[m+3]:0));if(e.skinIndices)for(m=0,k=e.skinIndices.length;m<k;m+=t)c.skinIndices.push(new h(e.skinIndices[m],1<t?e.skinIndices[m+1]:0,2<t?e.skinIndices[m+2]:0,3<t?e.skinIndices[m+3]:0));c.bones=e.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||
c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.");m=b;k=m.scale;if(void 0!==m.morphTargets)for(e=0,t=m.morphTargets.length;e<t;e++)for(c.morphTargets[e]={},c.morphTargets[e].name=m.morphTargets[e].name,c.morphTargets[e].vertices=[],p=c.morphTargets[e].vertices,q=m.morphTargets[e].vertices,u=0,n=q.length;u<n;u+=3)r=new l,r.x=q[u]*k,r.y=
q[u+1]*k,r.z=q[u+2]*k,p.push(r);if(void 0!==m.morphColors&&0<m.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),k=c.faces,m=m.morphColors[0].colors,e=0,t=k.length;e<t;e++)k[e].color.fromArray(m,3*e);m=b;e=[];t=[];void 0!==m.animation&&t.push(m.animation);void 0!==m.animations&&(m.animations.length?t=t.concat(m.animations):t.push(m.animations));for(m=0;m<t.length;m++)(k=Tb.parseAnimation(t[m],c.bones))&&e.push(k);c.morphTargets&&
(t=Tb.CreateClipsFromMorphTargetSequences(c.morphTargets,10),e=e.concat(t));0<e.length&&(c.animations=e);c.computeFaceNormals();c.computeBoundingSphere();if(void 0===b.materials||0===b.materials.length)return{geometry:c};e=od.prototype.initMaterials(b.materials,d,this.crossOrigin);return{geometry:c,materials:e}}}()});Object.assign(mf.prototype,{load:function(a,b,d,e){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var c=this;(new Zb(c.manager)).load(a,function(d){var f=
null;try{f=JSON.parse(d)}catch(la){void 0!==e&&e(la);console.error("THREE:ObjectLoader: Can't parse "+a+".",la.message);return}d=f.metadata;void 0===d||void 0===d.type||"geometry"===d.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a+". Use THREE.JSONLoader instead."):c.parse(f,b)},d,e)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void 0!==
b&&b(e)}),d=this.parseTextures(a.textures,d),d=this.parseMaterials(a.materials,d),e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseGeometries:function(a){var b={};if(void 0!==a)for(var c=new Je,d=new Ie,e=0,f=a.length;e<f;e++){var g=a[e];switch(g.type){case "PlaneGeometry":case "PlaneBufferGeometry":var h=new ac[g.type](g.width,g.height,g.widthSegments,g.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":h=
new ac[g.type](g.width,g.height,g.depth,g.widthSegments,g.heightSegments,g.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":h=new ac[g.type](g.radius,g.segments,g.thetaStart,g.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":h=new ac[g.type](g.radiusTop,g.radiusBottom,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":h=new ac[g.type](g.radius,g.height,g.radialSegments,
g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":h=new ac[g.type](g.radius,g.widthSegments,g.heightSegments,g.phiStart,g.phiLength,g.thetaStart,g.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":h=new ac[g.type](g.radius,g.detail);break;case "RingGeometry":case "RingBufferGeometry":h=new ac[g.type](g.innerRadius,g.outerRadius,g.thetaSegments,g.phiSegments,g.thetaStart,
g.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":h=new ac[g.type](g.radius,g.tube,g.radialSegments,g.tubularSegments,g.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":h=new ac[g.type](g.radius,g.tube,g.tubularSegments,g.radialSegments,g.p,g.q);break;case "LatheGeometry":case "LatheBufferGeometry":h=new ac[g.type](g.points,g.segments,g.phiStart,g.phiLength);break;case "BufferGeometry":h=d.parse(g);break;case "Geometry":h=c.parse(g,this.texturePath).geometry;break;
default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+g.type+'"');continue}h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);b[g.uuid]=h}return b},parseMaterials:function(a,b){var c={};if(void 0!==a){var d=new se;d.setTextures(b);for(var e=0,f=a.length;e<f;e++){var g=d.parse(a[e]);c[g.uuid]=g}}return c},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=Tb.parse(a[c]);b.push(d)}return b},parseImages:function(a,b){function c(a){d.manager.itemStart(a);return g.load(a,function(){d.manager.itemEnd(a)},
void 0,function(){d.manager.itemEnd(a);d.manager.itemError(a)})}var d=this,e={};if(void 0!==a&&0<a.length){var f=new Fe(b);var g=new Pd(f);g.setCrossOrigin(this.crossOrigin);f=0;for(var m=a.length;f<m;f++){var h=a[f],k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:d.texturePath+h.url;e[h.uuid]=c(k)}}return e},parseTextures:function(a,b){function c(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return b[a]}var d={};if(void 0!==
a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var m=new n(b[g.image]);m.needsUpdate=!0;m.uuid=g.uuid;void 0!==g.name&&(m.name=g.name);void 0!==g.mapping&&(m.mapping=c(g.mapping,Mf));void 0!==g.offset&&m.offset.fromArray(g.offset);void 0!==g.repeat&&m.repeat.fromArray(g.repeat);void 0!==g.wrap&&(m.wrapS=c(g.wrap[0],Cf),m.wrapT=c(g.wrap[1],
Cf));void 0!==g.minFilter&&(m.minFilter=c(g.minFilter,Df));void 0!==g.magFilter&&(m.magFilter=c(g.magFilter,Df));void 0!==g.anisotropy&&(m.anisotropy=g.anisotropy);void 0!==g.flipY&&(m.flipY=g.flipY);d[g.uuid]=m}return d},parseObject:function(){var a=new u;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],c=0,e=a.length;c<e;c++){var f=a[c];void 0===d[f]&&console.warn("THREE.ObjectLoader: Undefined material",
f);b.push(d[f])}return b}void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return d[a]}}switch(b.type){case "Scene":var g=new lc;void 0!==b.background&&Number.isInteger(b.background)&&(g.background=new G(b.background));void 0!==b.fog&&("Fog"===b.fog.type?g.fog=new uc(b.fog.color,b.fog.near,b.fog.far):"FogExp2"===b.fog.type&&(g.fog=new tc(b.fog.color,b.fog.density)));break;case "PerspectiveCamera":g=new bb(b.fov,b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==
b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new Qb(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new ke(b.color,b.intensity);break;case "DirectionalLight":g=new je(b.color,b.intensity);break;case "PointLight":g=new he(b.color,b.intensity,b.distance,b.decay);break;case "RectAreaLight":g=new le(b.color,b.intensity,
b.width,b.height);break;case "SpotLight":g=new ge(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new ee(b.color,b.groundColor,b.intensity);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=e(b.geometry);var m=f(b.material);g=g.bones&&0<g.bones.length?new A(g,m):new Ta(g,m);break;case "LOD":g=new vc;break;case "Line":g=new fa(e(b.geometry),f(b.material),b.mode);break;case "LineLoop":g=
new zd(e(b.geometry),f(b.material));break;case "LineSegments":g=new Va(e(b.geometry),f(b.material));break;case "PointCloud":case "Points":g=new yc(e(b.geometry),f(b.material));break;case "Sprite":g=new Ec(f(b.material));break;case "Group":g=new Uc;break;default:g=new R}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),
void 0!==b.quaternion&&g.quaternion.fromArray(b.quaternion),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==b.receiveShadow&&(g.receiveShadow=b.receiveShadow);b.shadow&&(void 0!==b.shadow.bias&&(g.shadow.bias=b.shadow.bias),void 0!==b.shadow.radius&&(g.shadow.radius=b.shadow.radius),void 0!==b.shadow.mapSize&&g.shadow.mapSize.fromArray(b.shadow.mapSize),void 0!==b.shadow.camera&&(g.shadow.camera=this.parseObject(b.shadow.camera)));void 0!==
b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(k in b.children)g.add(this.parseObject(b.children[k],c,d));if("LOD"===b.type){b=b.levels;for(var h=0;h<b.length;h++){m=b[h];var k=g.getObjectByProperty("uuid",m.object);void 0!==k&&g.addLevel(k,m.distance)}}return g}}()});var Mf={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,
CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Cf={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Df={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};Object.assign(zb.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a){a=this.getUtoTmapping(a);return this.getPoint(a)},getPoints:function(a){void 0===
a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c=this.getPoint(0),d,e=0;b.push(0);for(d=1;d<=a;d++){var f=
this.getPoint(d/a);e+=f.distanceTo(c);b.push(e);c=f}return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var c=this.getLengths(),d=c.length;var e=b?b:a*c[d-1];for(var f=0,g=d-1,m;f<=g;){var h=Math.floor(f+(g-f)/2);m=c[h]-e;if(0>m)f=h+1;else if(0<m)g=h-1;else{g=h;break}}h=g;if(c[h]===e)return h/(d-1);f=c[h];return(h+(e-f)/(c[h+1]-f))/(d-1)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);
return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function(a,b){var c=new l,d=[],e=[],f=[],g=new l,m=new u,h;for(h=0;h<=a;h++){var k=h/a;d[h]=this.getTangentAt(k);d[h].normalize()}e[0]=new l;f[0]=new l;h=Number.MAX_VALUE;k=Math.abs(d[0].x);var n=Math.abs(d[0].y),p=Math.abs(d[0].z);k<=h&&(h=k,c.set(1,0,0));n<=h&&(h=n,c.set(0,1,0));p<=h&&c.set(0,0,1);g.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],
g);f[0].crossVectors(d[0],e[0]);for(h=1;h<=a;h++)e[h]=e[h-1].clone(),f[h]=f[h-1].clone(),g.crossVectors(d[h-1],d[h]),g.length()>Number.EPSILON&&(g.normalize(),c=Math.acos(Ba.clamp(d[h-1].dot(d[h]),-1,1)),e[h].applyMatrix4(m.makeRotationAxis(g,c))),f[h].crossVectors(d[h],e[h]);if(!0===b)for(c=Math.acos(Ba.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossVectors(e[0],e[a]))&&(c=-c),h=1;h<=a;h++)e[h].applyMatrix4(m.makeRotationAxis(d[h],c*h)),f[h].crossVectors(d[h],e[h]);return{tangents:d,normals:e,
binormals:f}}});fc.prototype=Object.create(zb.prototype);fc.prototype.constructor=fc;fc.prototype.isLineCurve=!0;fc.prototype.getPoint=function(a){if(1===a)return this.v2.clone();var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};fc.prototype.getPointAt=function(a){return this.getPoint(a)};fc.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};Sd.prototype=Object.assign(Object.create(zb.prototype),{constructor:Sd,add:function(a){this.curves.push(a)},
closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new fc(b,a))},getPoint:function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},
getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,d=0,e=this.curves.length;d<e;d++)b+=this.curves[d].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=[],c,d=0,e=this.curves;d<e.length;d++)for(var f=e[d],f=f.getPoints(f&&f.isEllipseCurve?
2*a:f&&f.isLineCurve?1:f&&f.isSplineCurve?a*f.points.length:a),g=0;g<f.length;g++){var h=f[g];c&&c.equals(h)||(b.push(h),c=h)}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new X,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new l(e.x,e.y,e.z||0))}return b}});
mc.prototype=Object.create(zb.prototype);mc.prototype.constructor=mc;mc.prototype.isEllipseCurve=!0;mc.prototype.getPoint=function(b){for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+b*d;b=this.aX+this.xRadius*Math.cos(c);var f=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=b-this.aX,f-=this.aY,
b=e*c-f*d+this.aX,f=e*d+f*c+this.aY);return new a(b,f)};Qc.prototype=Object.create(zb.prototype);Qc.prototype.constructor=Qc;Qc.prototype.isSplineCurve=!0;Qc.prototype.getPoint=function(b){var c=this.points,d=(c.length-1)*b;b=Math.floor(d);var d=d-b,e=c[0===b?b:b-1],f=c[b],g=c[b>c.length-2?c.length-1:b+1],c=c[b>c.length-3?c.length-1:b+2];return new a(nf(d,e.x,f.x,g.x,c.x),nf(d,e.y,f.y,g.y,c.y))};pd.prototype=Object.create(zb.prototype);pd.prototype.constructor=pd;pd.prototype.getPoint=function(b){var c=
this.v0,d=this.v1,e=this.v2,f=this.v3;return new a(Pc(b,c.x,d.x,e.x,f.x),Pc(b,c.y,d.y,e.y,f.y))};qd.prototype=Object.create(zb.prototype);qd.prototype.constructor=qd;qd.prototype.getPoint=function(b){var c=this.v0,d=this.v1,e=this.v2;return new a(Oc(b,c.x,d.x,e.x),Oc(b,c.y,d.y,e.y))};var af=Object.assign(Object.create(Sd.prototype),{fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.currentPoint.set(a,b)},lineTo:function(b,
d){var c=new fc(this.currentPoint.clone(),new a(b,d));this.curves.push(c);this.currentPoint.set(b,d)},quadraticCurveTo:function(b,d,e,f){b=new qd(this.currentPoint.clone(),new a(b,d),new a(e,f));this.curves.push(b);this.currentPoint.set(e,f)},bezierCurveTo:function(b,d,e,f,g,h){b=new pd(this.currentPoint.clone(),new a(b,d),new a(e,f),new a(g,h));this.curves.push(b);this.currentPoint.set(g,h)},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a),b=new Qc(b);this.curves.push(b);this.currentPoint.copy(a[a.length-
1])},arc:function(a,b,d,e,f,g){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,d,e,f,g)},absarc:function(a,b,d,e,f,g){this.absellipse(a,b,d,d,e,f,g)},ellipse:function(a,b,d,e,f,g,h,k){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,d,e,f,g,h,k)},absellipse:function(a,b,d,e,f,g,h,k){a=new mc(a,b,d,e,f,g,h,k);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)}});Td.prototype=af;af.constructor=
Td;Rc.prototype=Object.assign(Object.create(af),{constructor:Rc,getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});Object.assign(Ke.prototype,{moveTo:function(a,b){this.currentPath=new Td;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},lineTo:function(a,b){this.currentPath.lineTo(a,
b)},quadraticCurveTo:function(a,b,d,e){this.currentPath.quadraticCurveTo(a,b,d,e)},bezierCurveTo:function(a,b,d,e,f,g){this.currentPath.bezierCurveTo(a,b,d,e,f,g)},splineThru:function(a){this.currentPath.splineThru(a)},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new Rc;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],m=h.x-g.x,k=h.y-g.y;if(Math.abs(k)>Number.EPSILON){if(0>k&&(g=b[f],m=-m,
h=b[e],k=-k),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=k*(a.x-g.x)-m*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=Xb.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return c(f);var g=[];if(1===f.length){var h=f[0];var m=new Rc;m.curves=h.curves;g.push(m);return g}var k=!e(f[0].getPoints()),k=a?!k:k;m=[];var l=[],n=[],p=0;l[p]=void 0;n[p]=[];for(var q=0,r=f.length;q<r;q++){h=f[q];var t=
h.getPoints();var u=e(t);(u=a?!u:u)?(!k&&l[p]&&p++,l[p]={s:new Rc,p:t},l[p].s.curves=h.curves,k&&p++,n[p]=[]):n[p].push({h:h,p:t[0]})}if(!l[0])return c(f);if(1<l.length){q=!1;h=[];e=0;for(f=l.length;e<f;e++)m[e]=[];e=0;for(f=l.length;e<f;e++)for(u=n[e],k=0;k<u.length;k++){p=u[k];t=!0;for(r=0;r<l.length;r++)d(p.p,l[r].p)&&(e!==r&&h.push({froms:e,tos:r,hole:k}),t?(t=!1,m[r].push(p)):q=!0);t&&m[e].push(p)}0<h.length&&(q||(n=m))}q=0;for(e=l.length;q<e;q++)for(m=l[q].s,g.push(m),h=n[q],f=0,u=h.length;f<
u;f++)m.holes.push(h[f].h);return g}});Object.assign(Le.prototype,{isFont:!0,generateShapes:function(a,b,d){void 0===b&&(b=100);void 0===d&&(d=4);var c=this.data;a=String(a).split("");var e=b/c.resolution,f=(c.boundingBox.yMax-c.boundingBox.yMin+c.underlineThickness)*e,g=0,h=0;b=[];for(var m=0;m<a.length;m++){var k=a[m];if("\n"===k)g=0,h-=f;else{var l;var n=e;var w=g,p=h;if(k=c.glyphs[k]||c.glyphs["?"]){var q=new Ke,r=[];if(k.o)for(var t=k._cachedOutline||(k._cachedOutline=k.o.split(" ")),u=0,x=t.length;u<
x;)switch(t[u++]){case "m":var y=t[u++]*n+w;var z=t[u++]*n+p;q.moveTo(y,z);break;case "l":y=t[u++]*n+w;z=t[u++]*n+p;q.lineTo(y,z);break;case "q":var A=t[u++]*n+w;var B=t[u++]*n+p;var C=t[u++]*n+w;var E=t[u++]*n+p;q.quadraticCurveTo(C,E,A,B);if(l=r[r.length-1]){var F=l.x;l=l.y;for(var G=1;G<=d;G++){var H=G/d;Oc(H,F,C,A);Oc(H,l,E,B)}}break;case "b":if(A=t[u++]*n+w,B=t[u++]*n+p,C=t[u++]*n+w,E=t[u++]*n+p,y=t[u++]*n+w,z=t[u++]*n+p,q.bezierCurveTo(C,E,y,z,A,B),l=r[r.length-1])for(F=l.x,l=l.y,G=1;G<=d;G++)H=
G/d,Pc(H,F,C,y,A),Pc(H,l,E,z,B)}n={offsetX:k.ha*n,path:q}}else n=void 0;g+=n.offsetX;b.push(n.path)}}d=[];c=0;for(a=b.length;c<a;c++)Array.prototype.push.apply(d,b[c].toShapes());return d}});Object.assign(of.prototype,{load:function(a,b,d,e){var c=this;(new Zb(this.manager)).load(a,function(a){try{var d=JSON.parse(a)}catch(la){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),d=JSON.parse(a.substring(65,a.length-2))}a=c.parse(d);b&&b(a)},d,e)},parse:function(a){return new Le(a)}});
var ze,Pe={getContext:function(){void 0===ze&&(ze=new (window.AudioContext||window.webkitAudioContext));return ze},setContext:function(a){ze=a}};Object.assign(Me.prototype,{load:function(a,b,d,e){var c=new Zb(this.manager);c.setResponseType("arraybuffer");c.load(a,function(a){Pe.getContext().decodeAudioData(a,function(a){b(a)})},d,e)}});Object.assign(pf.prototype,{update:function(){var a,b,d,e,f,g,h,k,l=new u,n=new u;return function(c){if(a!==this||b!==c.focus||d!==c.fov||e!==c.aspect*this.aspect||
f!==c.near||g!==c.far||h!==c.zoom||k!==this.eyeSep){a=this;b=c.focus;d=c.fov;e=c.aspect*this.aspect;f=c.near;g=c.far;h=c.zoom;var m=c.projectionMatrix.clone();k=this.eyeSep/2;var v=k*f/b,w=f*Math.tan(Ba.DEG2RAD*d*.5)/h;n.elements[12]=-k;l.elements[12]=k;var p=-w*e+v;var q=w*e+v;m.elements[0]=2*f/(q-p);m.elements[8]=(q+p)/(q-p);this.cameraL.projectionMatrix.copy(m);p=-w*e-v;q=w*e-v;m.elements[0]=2*f/(q-p);m.elements[8]=(q+p)/(q-p);this.cameraR.projectionMatrix.copy(m)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(n);
this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(l)}}()});te.prototype=Object.create(R.prototype);te.prototype.constructor=te;Ne.prototype=Object.assign(Object.create(bb.prototype),{constructor:Ne,isArrayCamera:!0});Oe.prototype=Object.assign(Object.create(R.prototype),{constructor:Oe,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),
this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new l,b=new x,d=new l,e=new l;return function(c){R.prototype.updateMatrixWorld.call(this,
c);c=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,d);e.set(0,0,-1).applyQuaternion(b);c.positionX?(c.positionX.setValueAtTime(a.x,this.context.currentTime),c.positionY.setValueAtTime(a.y,this.context.currentTime),c.positionZ.setValueAtTime(a.z,this.context.currentTime),c.forwardX.setValueAtTime(e.x,this.context.currentTime),c.forwardY.setValueAtTime(e.y,this.context.currentTime),c.forwardZ.setValueAtTime(e.z,this.context.currentTime),c.upX.setValueAtTime(f.x,this.context.currentTime),
c.upY.setValueAtTime(f.y,this.context.currentTime),c.upZ.setValueAtTime(f.z,this.context.currentTime)):(c.setPosition(a.x,a.y,a.z),c.setOrientation(e.x,e.y,e.z,f.x,f.y,f.z))}}()});rd.prototype=Object.assign(Object.create(R.prototype),{constructor:rd,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},
play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.loop=this.loop;a.onended=this.onEnded.bind(this);a.playbackRate.setValueAtTime(this.playbackRate,this.startTime);a.start(0,this.startTime);this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());
return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},
setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),
!1):this.loop},setLoop:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(a){this.gain.gain.value=a;return this}});Qe.prototype=Object.assign(Object.create(rd.prototype),{constructor:Qe,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=
a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new l;return function(b){R.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,
a.y,a.z)}}()});Object.assign(Re.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),d=0;d<b.length;d++)a+=b[d];return a/b.length}});Object.assign(Se.prototype,{accumulate:function(a,b){var c=this.buffer,d=this.valueSize,e=a*d+d,f=this.cumulativeWeight;if(0===f){for(f=0;f!==d;++f)c[e+f]=c[f];f=b}else f+=b,this._mixBufferRegion(c,e,0,b/f,d);this.cumulativeWeight=f},apply:function(a){var b=
this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);for(var d=b,f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,d=3*b;this.binding.getValue(a,d);for(var e=b;e!==d;++e)a[e]=a[d+e%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,b,d,e,f){if(.5<=e)for(e=
0;e!==f;++e)a[b+e]=a[d+e]},_slerp:function(a,b,d,e){x.slerpFlat(a,b,a,b,a,d,e)},_lerp:function(a,b,d,e,f){for(var c=1-e,g=0;g!==f;++g){var h=b+g;a[h]=a[h]*c+a[d+g]*e}}});Object.assign(qf.prototype,{getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
d=a.length;b!==d;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,d=a.length;b!==d;++b)a[b].unbind()}});Object.assign(xb,{Composite:qf,create:function(a,b,d){return a&&a.isAnimationObjectGroup?new xb.Composite(a,b,d):new xb(a,b,d)},parseTrackName:function(){var a=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),b=["material","materials","bones"];return function(c){var d=
a.exec(c);if(!d)throw Error("PropertyBinding: Cannot parse trackName: "+c);var d={nodeName:d[2],objectName:d[3],objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]},e=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==e&&-1!==e){var f=d.nodeName.substring(e+1);-1!==b.indexOf(f)&&(d.nodeName=d.nodeName.substring(0,e),d.objectName=f)}if(null===d.propertyName||0===d.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+c);return d}}(),findNode:function(a,b){if(!b||
""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b||(e=d(e.children)))return e}return null};if(c=d(a.children))return c}return null}});Object.assign(xb.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,
EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];
this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=
a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,
b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,d=b.objectName,e=b.propertyName,f=b.propertyIndex;a||(this.node=a=xb.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(d){var g=b.objectIndex;switch(d){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",
this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(d=0;d<a.length;d++)if(a[d].name===g){g=d;break}break;default:if(void 0===a[d]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[d]}if(void 0!==g){if(void 0===a[g]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[g]}}g=a[e];if(void 0===g)console.error("  trying to update property for track: "+
b.nodeName+"."+e+" but it wasn't found.",a);else{b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);d=this.BindingType.Direct;if(void 0!==f){if("morphTargetInfluences"===e){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",
this);return}for(d=0;d<this.node.geometry.morphTargets.length;d++)if(a.geometry.morphTargets[d].name===f){f=d;break}}d=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=f}else void 0!==g.fromArray&&void 0!==g.toArray?(d=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(d=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=e;this.getValue=this.GetterByBindingType[d];this.setValue=this.SetterByBindingTypeAndVersioning[d][b]}}else console.error("  trying to update node for track: "+
this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(xb.prototype,{_getValue_unbound:xb.prototype.getValue,_setValue_unbound:xb.prototype.setValue});Object.assign(rf.prototype,{isAnimationObjectGroup:!0,add:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._paths,g=this._parsedPaths,h=this._bindings,k=h.length,l=0,n=arguments.length;l!==n;++l){var p=
arguments[l],q=p.uuid,r=e[q];if(void 0===r){r=c++;e[q]=r;b.push(p);for(var q=0,t=k;q!==t;++q)h[q].push(new xb(p,f[q],g[q]))}else if(r<d){var u=--d,t=b[u];e[t.uuid]=r;b[r]=t;e[q]=u;b[u]=p;q=0;for(t=k;q!==t;++q){var x=h[q],y=x[r];x[r]=x[u];void 0===y&&(y=new xb(p,f[q],g[q]));x[u]=y}}else void 0!==b[r]&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var b=this._objects,
c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g],l=k.uuid,n=d[l];if(void 0!==n&&n>=c){var p=c++,q=b[p];d[q.uuid]=n;b[n]=q;d[l]=p;b[p]=k;k=0;for(l=f;k!==l;++k){var q=e[k],r=q[n];q[n]=q[p];q[p]=r}}}this.nCachedObjects_=c},uncache:function(a){for(var b,c,d=this._objects,e=d.length,f=this.nCachedObjects_,g=this._indicesByUUID,h=this._bindings,k=h.length,l=0,n=arguments.length;l!==n;++l){c=arguments[l].uuid;var p=g[c];if(void 0!==
p)if(delete g[c],p<f){var q=--f,r=d[q];c=--e;b=d[c];g[r.uuid]=p;d[p]=r;g[b.uuid]=q;d[q]=b;d.pop();for(var r=0,t=k;r!==t;++r){b=h[r];var u=b[c];b[p]=b[q];b[q]=u;b.pop()}}else for(c=--e,b=d[c],g[b.uuid]=p,d[p]=b,d.pop(),r=0,t=k;r!==t;++r)b=h[r],b[p]=b[c],b.pop()}this.nCachedObjects_=f},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,m=Array(h.length),d=e.length;c[a]=
d;f.push(a);g.push(b);e.push(m);c=k;for(d=h.length;c!==d;++c)m[c]=new xb(h[c],a,b);return m},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}});Object.assign(sf.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=
!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?
a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,b,d){a.fadeOut(b);this.fadeIn(b);if(d){d=this._clip.duration;var c=a._clip.duration,e=d/c;a.warp(1,c/d,b);this.warp(e,1,b)}return this},crossFadeTo:function(a,b,d){return a.crossFadeFrom(this,b,d)},stopFading:function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function(a,
b,d){var c=this._mixer,e=c.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=c._lendControlInterpolant());c=f.parameterPositions;f=f.sampleValues;c[0]=e;c[1]=e+d;f[0]=a/g;f[1]=b/g;return this},stopWarping:function(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||
this._mixer._root},_update:function(a,b,d,e){if(this.enabled){var c=this._startTime;if(null!==c){b=(a-c)*d;if(0>b||0===d)return;this._startTime=null;b*=d}b*=this._updateTimeScale(a);d=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;for(var c=this._propertyBindings,f=0,g=b.length;f!==g;++f)b[f].evaluate(d),c[f].accumulate(e,a)}}else this._updateWeight(a)},_updateWeight:function(a){var b=0;if(this.enabled){var b=this.weight,c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0],
b=b*d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){var b=this.timeScale,c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0],b=b*d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,d=this.loop,e=this._loopCount;if(2200===
d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{d=2202===d;-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,d)):this._setEndings(0===this.repetitions,!0,d));if(b>=c||0>b){var f=Math.floor(b/c),b=b-c*f,e=e+Math.abs(f),g=this.repetitions-e;0>g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?
c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(0===g?(a=0>a,this._setEndings(a,!a,d)):this._setEndings(!1,!1,d),this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f}))}if(d&&1===(e&1))return this.time=b,c-b}return this.time=b},_setEndings:function(a,b,d){var c=this._interpolantSettings;d?(c.endingStart=2401,c.endingEnd=2401):(c.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,c.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(a,
b,d){var c=this._mixer,e=c.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=c._lendControlInterpolant());c=f.parameterPositions;f=f.sampleValues;c[0]=e;f[0]=b;c[1]=e+a;f[1]=d;return this}});Object.assign(tf.prototype,g.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings,g=a._interpolants,h=c.uuid,k=this._bindingsByRootAndName,m=k[h];void 0===m&&(m={},k[h]=m);for(k=0;k!==e;++k){var l=d[k],n=l.name,p=m[n];if(void 0===
p){p=f[k];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,h,n));continue}p=new Se(xb.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),l.ValueTypeName,l.getValueSize());++p.referenceCount;this._addInactiveBinding(p,h,n)}f[k]=p;g[k].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,
c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=
0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},
_addInactiveAction:function(a,b,d){var c=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=c.length;c.push(a);f.actionByRoot[d]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;var b=a._clip.uuid,c=this._actionsByClip,d=c[b],e=d.knownActions,f=e[e.length-1],g=a._byClipCacheIndex;
f._byClipCacheIndex=g;e[g]=f;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=
this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,d){var c=this._bindingsByRootAndName,e=c[b],f=this._bindings;void 0===e&&(e={},c[b]=e);e[d]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid,c=c.path,e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;
delete e[d]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,d=a[b];void 0===d&&(d=new Qd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),
d.__cacheIndex=b,a[b]=d);return d},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b){var c=b||this._root,d=c.uuid,e="string"===typeof a?Tb.findByName(c,a):a,c=null!==e?e.uuid:a,f=this._actionsByClip[c],g=null;if(void 0!==f){g=f.actionByRoot[d];if(void 0!==g)return g;g=f.knownActions[0];null===
e&&(e=g._clip)}if(null===e)return null;e=new sf(this,e,b);this._bindAction(e,g);this._addInactiveAction(e,c,d);return e},existingAction:function(a,b){var c=b||this._root,d=c.uuid,c="string"===typeof a?Tb.findByName(c,a):a,c=this._actionsByClip[c?c.uuid:a];return void 0!==c?c.actionByRoot[d]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,d=this._bindings,e=this._nActiveBindings,f=this._nActiveBindings=this._nActiveActions=0;f!==b;++f)a[f].reset();for(f=0;f!==e;++f)d[f].useCount=
0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g)b[g]._update(d,a,e,f);a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){for(var d=d.knownActions,e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=
g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){var c=this.existingAction(a,
b);null!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}});ue.prototype.clone=function(){return new ue(void 0===this.value.clone?this.value:this.value.clone())};Te.prototype=Object.assign(Object.create(ia.prototype),{constructor:Te,isInstancedBufferGeometry:!0,addGroup:function(a,b,d){this.groups.push({start:a,count:b,materialIndex:d})},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());var b=a.attributes;for(c in b)this.addAttribute(c,b[c].clone());a=a.groups;var c=
0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this}});Object.defineProperties(Ue.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Ue.prototype,{isInterleavedBufferAttribute:!0,setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+
this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+
1]=d;return this},setXYZ:function(a,b,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=d;this.data.array[a+2]=e;return this},setXYZW:function(a,b,d,e,f){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=d;this.data.array[a+2]=e;this.data.array[a+3]=f;return this}});Object.defineProperty(sd.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(sd.prototype,{isInterleavedBuffer:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
this.count=void 0!==a?a.length/this.stride:0;this.array=a},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,d){a*=this.stride;d*=b.stride;for(var c=0,e=this.stride;c<e;c++)this.array[a+c]=b.array[d+c];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(a){this.onUploadCallback=
a;return this}});Ve.prototype=Object.assign(Object.create(sd.prototype),{constructor:Ve,isInstancedInterleavedBuffer:!0,copy:function(a){sd.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});We.prototype=Object.assign(Object.create(ka.prototype),{constructor:We,isInstancedBufferAttribute:!0,copy:function(a){ka.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(uf.prototype,{linePrecision:1,set:function(a,b){this.ray.set(a,
b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,b){var c=[];Xe(a,this,c,b);c.sort(vf);return c},intersectObjects:function(a,
b){var c=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var d=0,e=a.length;d<e;d++)Xe(a[d],this,c,b);c.sort(vf);return c}});Object.assign(wf.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=
0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now(),a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}});Object.assign(xf.prototype,{set:function(a,b,d){this.radius=a;this.phi=b;this.theta=d;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-
1E-6,this.phi));return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(Ba.clamp(a.y/this.radius,-1,1)));return this}});Object.assign(yf.prototype,{set:function(a,b,d){this.radius=a;this.theta=b;this.y=d;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function(a){this.radius=Math.sqrt(a.x*
a.x+a.z*a.z);this.theta=Math.atan2(a.x,a.z);this.y=a.y;return this}});rb.prototype=Object.create(Ta.prototype);rb.prototype.constructor=rb;rb.prototype.createAnimation=function(a,b,d,e){b={start:b,end:d,length:d-b+1,fps:e,duration:(d-b)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};rb.prototype.autoCreateAnimations=function(a){for(var b,c,d=/([a-z]+)_?(\d+)/i,e,f={},g=this.geometry,h=0,
k=g.morphTargets.length;h<k;h++)b=g.morphTargets[h],(b=b.name.match(d))&&1<b.length&&(c=b[1],f[c]||(f[c]={start:Infinity,end:-Infinity}),b=f[c],h<b.start&&(b.start=h),h>b.end&&(b.end=h),e||(e=c));for(c in f)b=f[c],this.createAnimation(c,b.start,b.end,a);this.firstAnimation=e};rb.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};rb.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=
!0};rb.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};rb.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};rb.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};rb.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};rb.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=
a.time;return b};rb.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};rb.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};rb.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};rb.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=
d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+Ba.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,
d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};Ud.prototype=Object.create(R.prototype);Ud.prototype.constructor=Ud;Ud.prototype.isImmediateRenderObject=!0;Vd.prototype=Object.create(Va.prototype);Vd.prototype.constructor=Vd;Vd.prototype.update=function(){var a=new l,b=new l,d=new p;return function(){var c,e=["a",
"b","c"];this.object.updateMatrixWorld(!0);d.getNormalMatrix(this.object.matrixWorld);var f=this.object.matrixWorld,g=this.geometry.attributes.position;if((c=this.object.geometry)&&c.isGeometry)for(var h=c.vertices,k=c.faces,m=c=0,l=k.length;m<l;m++)for(var n=k[m],p=0,q=n.vertexNormals.length;p<q;p++){var r=n.vertexNormals[p];a.copy(h[n[e[p]]]).applyMatrix4(f);b.copy(r).applyMatrix3(d).normalize().multiplyScalar(this.size).add(a);g.setXYZ(c,a.x,a.y,a.z);c+=1;g.setXYZ(c,b.x,b.y,b.z);c+=1}else if(c&&
c.isBufferGeometry)for(e=c.attributes.position,h=c.attributes.normal,p=c=0,q=e.count;p<q;p++)a.set(e.getX(p),e.getY(p),e.getZ(p)).applyMatrix4(f),b.set(h.getX(p),h.getY(p),h.getZ(p)),b.applyMatrix3(d).normalize().multiplyScalar(this.size).add(a),g.setXYZ(c,a.x,a.y,a.z),c+=1,g.setXYZ(c,b.x,b.y,b.z),c+=1;g.needsUpdate=!0}}();td.prototype=Object.create(R.prototype);td.prototype.constructor=td;td.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};td.prototype.update=
function(){var a=new l,b=new l;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();ud.prototype=Object.create(Va.prototype);ud.prototype.constructor=ud;ud.prototype.getBoneList=function(a){var b=[];a&&a.isBone&&
b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,this.getBoneList(a.children[c]));return b};ud.prototype.update=function(){var a=new l,b=new u,d=new u;return function(){var c=this.geometry,e=c.getAttribute("position");d.getInverse(this.root.matrixWorld);for(var f=0,g=0;f<this.bones.length;f++){var h=this.bones[f];h.parent&&h.parent.isBone&&(b.multiplyMatrices(d,h.matrixWorld),a.setFromMatrixPosition(b),e.setXYZ(g,a.x,a.y,a.z),b.multiplyMatrices(d,h.parent.matrixWorld),a.setFromMatrixPosition(b),
e.setXYZ(g+1,a.x,a.y,a.z),g+=2)}c.getAttribute("position").needsUpdate=!0}}();vd.prototype=Object.create(Ta.prototype);vd.prototype.constructor=vd;vd.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};vd.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};wd.prototype=Object.create(R.prototype);wd.prototype.constructor=wd;wd.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose();
this.children[1].geometry.dispose();this.children[1].material.dispose()};wd.prototype.update=function(){var a=new l,b=new l;return function(){var c=this.children[0],d=this.children[1];if(this.light.target){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);var e=b.clone().sub(a);c.lookAt(e);d.lookAt(e)}c.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
var d=.5*this.light.width,e=.5*this.light.height,c=c.geometry.getAttribute("position"),f=c.array;f[0]=d;f[1]=-e;f[2]=0;f[3]=d;f[4]=e;f[5]=0;f[6]=-d;f[7]=e;f[8]=0;f[9]=-d;f[10]=e;f[11]=0;f[12]=-d;f[13]=-e;f[14]=0;f[15]=d;f[16]=-e;f[17]=0;c.needsUpdate=!0}}();xd.prototype=Object.create(R.prototype);xd.prototype.constructor=xd;xd.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};xd.prototype.update=function(){var a=new l,b=new G,d=new G;return function(){var c=
this.children[0],e=c.geometry.getAttribute("color");b.copy(this.light.color).multiplyScalar(this.light.intensity);d.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var f=0,g=e.count;f<g;f++){var h=f<g/2?b:d;e.setXYZ(f,h.r,h.g,h.b)}c.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());e.needsUpdate=!0}}();Wd.prototype=Object.create(Va.prototype);Wd.prototype.constructor=Wd;ve.prototype=Object.create(Va.prototype);ve.prototype.constructor=ve;Xd.prototype=Object.create(Va.prototype);
Xd.prototype.constructor=Xd;Xd.prototype.update=function(){var a=new l,b=new l,d=new p;return function(){this.object.updateMatrixWorld(!0);d.getNormalMatrix(this.object.matrixWorld);for(var c=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices,f=f.faces,h=0,k=0,m=f.length;k<m;k++){var l=f[k],n=l.normal;a.copy(g[l.a]).add(g[l.b]).add(g[l.c]).divideScalar(3).applyMatrix4(c);b.copy(n).applyMatrix3(d).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,
a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0}}();yd.prototype=Object.create(R.prototype);yd.prototype.constructor=yd;yd.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};yd.prototype.update=function(){var a=new l,b=new l,d=new l;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);d.subVectors(b,a);var c=this.children[0],
e=this.children[1];c.lookAt(d);c.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(d);e.scale.z=d.length()}}();Yd.prototype=Object.create(Va.prototype);Yd.prototype.constructor=Yd;Yd.prototype.update=function(){function a(a,c,g,h){e.set(c,g,h).unproject(f);a=d[a];if(void 0!==a)for(c=b.getAttribute("position"),g=0,h=a.length;g<h;g++)c.setXYZ(a[g],e.x,e.y,e.z)}var b,d,e=new l,f=new ab;return function(){b=this.geometry;d=this.pointMap;f.projectionMatrix.copy(this.camera.projectionMatrix);
a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getAttribute("position").needsUpdate=!0}}();Sc.prototype=Object.create(Va.prototype);Sc.prototype.constructor=Sc;Sc.prototype.update=function(){var a=new Ca;return function(b){void 0!==
b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();Sc.prototype.setFromObject=
function(a){this.object=a;this.update();return this};var we,Ye;Tc.prototype=Object.create(R.prototype);Tc.prototype.constructor=Tc;Tc.prototype.setDirection=function(){var a=new l,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();Tc.prototype.setLength=function(a,b,d){void 0===b&&(b=.2*a);void 0===d&&(d=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();
this.cone.scale.set(d,b,d);this.cone.position.y=a;this.cone.updateMatrix()};Tc.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};xe.prototype=Object.create(Va.prototype);xe.prototype.constructor=xe;var Ae=new l,bf=new Ze,cf=new Ze,df=new Ze;$b.prototype=Object.create(zb.prototype);$b.prototype.constructor=$b;$b.prototype.getPoint=function(a){var b=this.points,c=b.length;2>c&&console.log("duh, you need at least 2 points");a*=c-(this.closed?0:1);var d=
Math.floor(a);a-=d;this.closed?d+=0<d?0:(Math.floor(Math.abs(d)/b.length)+1)*b.length:0===a&&d===c-1&&(d=c-2,a=1);if(this.closed||0<d)var e=b[(d-1)%c];else Ae.subVectors(b[0],b[1]).add(b[0]),e=Ae;var f=b[d%c];var g=b[(d+1)%c];this.closed||d+2<c?b=b[(d+2)%c]:(Ae.subVectors(b[c-1],b[c-2]).add(b[c-1]),b=Ae);if(void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,c=Math.pow(e.distanceToSquared(f),h),d=Math.pow(f.distanceToSquared(g),h),h=Math.pow(g.distanceToSquared(b),
h);1E-4>d&&(d=1);1E-4>c&&(c=d);1E-4>h&&(h=d);bf.initNonuniformCatmullRom(e.x,f.x,g.x,b.x,c,d,h);cf.initNonuniformCatmullRom(e.y,f.y,g.y,b.y,c,d,h);df.initNonuniformCatmullRom(e.z,f.z,g.z,b.z,c,d,h)}else"catmullrom"===this.type&&(c=void 0!==this.tension?this.tension:.5,bf.initCatmullRom(e.x,f.x,g.x,b.x,c),cf.initCatmullRom(e.y,f.y,g.y,b.y,c),df.initCatmullRom(e.z,f.z,g.z,b.z,c));return new l(bf.calc(a),cf.calc(a),df.calc(a))};Zd.prototype=Object.create(zb.prototype);Zd.prototype.constructor=Zd;Zd.prototype.getPoint=
function(a){var b=this.v0,c=this.v1,d=this.v2,e=this.v3;return new l(Pc(a,b.x,c.x,d.x,e.x),Pc(a,b.y,c.y,d.y,e.y),Pc(a,b.z,c.z,d.z,e.z))};$d.prototype=Object.create(zb.prototype);$d.prototype.constructor=$d;$d.prototype.getPoint=function(a){var b=this.v0,c=this.v1,d=this.v2;return new l(Oc(a,b.x,c.x,d.x),Oc(a,b.y,c.y,d.y),Oc(a,b.z,c.z,d.z))};ae.prototype=Object.create(zb.prototype);ae.prototype.constructor=ae;ae.prototype.getPoint=function(a){if(1===a)return this.v2.clone();var b=new l;b.subVectors(this.v2,
this.v1);b.multiplyScalar(a);b.add(this.v1);return b};ye.prototype=Object.create(mc.prototype);ye.prototype.constructor=ye;zb.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(zb.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};zf.prototype=Object.create($b.prototype);Af.prototype=Object.create($b.prototype);$e.prototype=Object.create($b.prototype);Object.assign($e.prototype,{initFromArray:function(a){console.error("THREE.Spline: .initFromArray() has been removed.")},
getControlPointsArray:function(a){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(a){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});Wd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Object.assign(Ra.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},
empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Ca.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},
empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});
qb.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Ba.random16=function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()};Object.assign(p.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");
return a.applyMatrix3(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToBuffer:function(a,b,d){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(a,b,d){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});
Object.assign(u.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new l);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(a,b,d){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");
return this.applyToBufferAttribute(a)},applyToVector3Array:function(a,b,d){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,d,e,f,g){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,e,d,f,g)}});F.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};
x.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(wa.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},
isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(Rc.prototype,{extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new hc(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new gd(this,a)}});Object.assign(a.prototype,{fromAttribute:function(a,
b,d){console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,d)}});Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},
fromAttribute:function(a,b,d){console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,d)}});Object.assign(h.prototype,{fromAttribute:function(a,b,d){console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,d)}});X.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(R.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");
return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});Object.defineProperties(R.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");
this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(vc.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Fc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},
set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(zb.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});bb.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");
void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(fb.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(ka.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}}});Object.assign(ia.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},
addDrawCall:function(a,b,d){void 0!==d&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});
Object.defineProperties(ia.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(ue.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");
return this}}});Object.defineProperties(ha.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new G}}});Object.defineProperties(Yb.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(Da.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(bc.prototype,{getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},
supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");
return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(bc.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(ea.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(a){a=1!==a;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});Object.defineProperties(t.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=
a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=
a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");
return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},
set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});rd.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;(new Me).load(a,function(a){b.setBuffer(a)});return this};Re.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};b.WebGLRenderTargetCube=z;b.WebGLRenderTarget=
t;b.WebGLRenderer=bc;b.ShaderLib=wc;b.UniformsLib=xa;b.UniformsUtils=Fb;b.ShaderChunk=Ma;b.FogExp2=tc;b.Fog=uc;b.Scene=lc;b.LensFlare=nc;b.Sprite=Ec;b.LOD=vc;b.SkinnedMesh=A;b.Skeleton=Fc;b.Bone=e;b.Mesh=Ta;b.LineSegments=Va;b.LineLoop=zd;b.Line=fa;b.Points=yc;b.Group=Uc;b.VideoTexture=Ad;b.DataTexture=J;b.CompressedTexture=Vc;b.CubeTexture=y;b.CanvasTexture=ce;b.DepthTexture=Dd;b.Texture=n;b.CompressedTextureLoader=lf;b.DataTextureLoader=Ge;b.CubeTextureLoader=He;b.TextureLoader=de;b.ObjectLoader=
mf;b.MaterialLoader=se;b.BufferGeometryLoader=Ie;b.DefaultLoadingManager=Ob;b.LoadingManager=Fe;b.JSONLoader=Je;b.ImageLoader=Pd;b.FontLoader=of;b.FileLoader=Zb;b.Loader=od;b.Cache=be;b.AudioLoader=Me;b.SpotLightShadow=fe;b.SpotLight=ge;b.PointLight=he;b.RectAreaLight=le;b.HemisphereLight=ee;b.DirectionalLightShadow=ie;b.DirectionalLight=je;b.AmbientLight=ke;b.LightShadow=Lc;b.Light=fb;b.StereoCamera=pf;b.PerspectiveCamera=bb;b.OrthographicCamera=Qb;b.CubeCamera=te;b.ArrayCamera=Ne;b.Camera=ab;b.AudioListener=
Oe;b.PositionalAudio=Qe;b.AudioContext=Pe;b.AudioAnalyser=Re;b.Audio=rd;b.VectorKeyframeTrack=md;b.StringKeyframeTrack=pe;b.QuaternionKeyframeTrack=Rd;b.NumberKeyframeTrack=nd;b.ColorKeyframeTrack=re;b.BooleanKeyframeTrack=qe;b.PropertyMixer=Se;b.PropertyBinding=xb;b.KeyframeTrack=Nc;b.AnimationUtils=wb;b.AnimationObjectGroup=rf;b.AnimationMixer=tf;b.AnimationClip=Tb;b.Uniform=ue;b.InstancedBufferGeometry=Te;b.BufferGeometry=ia;b.GeometryIdCount=function(){return De++};b.Geometry=X;b.InterleavedBufferAttribute=
Ue;b.InstancedInterleavedBuffer=Ve;b.InterleavedBuffer=sd;b.InstancedBufferAttribute=We;b.Face3=mb;b.Object3D=R;b.Raycaster=uf;b.Layers=tb;b.EventDispatcher=g;b.Clock=wf;b.QuaternionLinearInterpolant=oe;b.LinearInterpolant=Qd;b.DiscreteInterpolant=ne;b.CubicInterpolant=me;b.Interpolant=Pb;b.Triangle=Sa;b.Math=Ba;b.Spherical=xf;b.Cylindrical=yf;b.Plane=F;b.Frustum=W;b.Sphere=Ia;b.Ray=wa;b.Matrix4=u;b.Matrix3=p;b.Box3=Ca;b.Box2=Ra;b.Line3=qb;b.Euler=Aa;b.Vector4=h;b.Vector3=l;b.Vector2=a;b.Quaternion=
x;b.Color=G;b.MorphBlendMesh=rb;b.ImmediateRenderObject=Ud;b.VertexNormalsHelper=Vd;b.SpotLightHelper=td;b.SkeletonHelper=ud;b.PointLightHelper=vd;b.RectAreaLightHelper=wd;b.HemisphereLightHelper=xd;b.GridHelper=Wd;b.PolarGridHelper=ve;b.FaceNormalsHelper=Xd;b.DirectionalLightHelper=yd;b.CameraHelper=Yd;b.BoxHelper=Sc;b.ArrowHelper=Tc;b.AxisHelper=xe;b.CatmullRomCurve3=$b;b.CubicBezierCurve3=Zd;b.QuadraticBezierCurve3=$d;b.LineCurve3=ae;b.ArcCurve=ye;b.EllipseCurve=mc;b.SplineCurve=Qc;b.CubicBezierCurve=
pd;b.QuadraticBezierCurve=qd;b.LineCurve=fc;b.Shape=Rc;b.Path=Td;b.ShapePath=Ke;b.Font=Le;b.CurvePath=Sd;b.Curve=zb;b.ShapeUtils=Xb;b.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new Uc,d=0,e=b.length;d<e;d++)c.add(new Ta(a,b[d]));return c},detach:function(a,b,d){a.applyMatrix(b.matrixWorld);b.remove(a);d.add(a)},attach:function(a,b,d){var c=new u;c.getInverse(d.matrixWorld);a.applyMatrix(c);b.remove(a);d.add(a)}};b.WireframeGeometry=Wc;b.ParametricGeometry=ic;b.ParametricBufferGeometry=
Xc;b.TetrahedronGeometry=Fd;b.TetrahedronBufferGeometry=Yc;b.OctahedronGeometry=Gd;b.OctahedronBufferGeometry=Ib;b.IcosahedronGeometry=oc;b.IcosahedronBufferGeometry=Zc;b.DodecahedronGeometry=Hd;b.DodecahedronBufferGeometry=Ac;b.PolyhedronGeometry=Ed;b.PolyhedronBufferGeometry=Ab;b.TubeGeometry=Id;b.TubeBufferGeometry=$c;b.TorusKnotGeometry=ad;b.TorusKnotBufferGeometry=bd;b.TorusGeometry=Cd;b.TorusBufferGeometry=zc;b.TextGeometry=cd;b.TextBufferGeometry=dd;b.SphereGeometry=Jd;b.SphereBufferGeometry=
Bc;b.RingGeometry=Kd;b.RingBufferGeometry=ed;b.PlaneGeometry=Kb;b.PlaneBufferGeometry=lb;b.LatheGeometry=Ld;b.LatheBufferGeometry=fd;b.ShapeGeometry=gd;b.ShapeBufferGeometry=hd;b.ExtrudeGeometry=hc;b.ExtrudeBufferGeometry=Bb;b.EdgesGeometry=id;b.ConeGeometry=Md;b.ConeBufferGeometry=Nd;b.CylinderGeometry=Cc;b.CylinderBufferGeometry=kc;b.CircleGeometry=Dc;b.CircleBufferGeometry=jd;b.BoxGeometry=Db;b.BoxBufferGeometry=Ua;b.ShadowMaterial=kd;b.SpriteMaterial=Hb;b.RawShaderMaterial=ld;b.ShaderMaterial=
Da;b.PointsMaterial=Ub;b.MeshPhysicalMaterial=Gc;b.MeshStandardMaterial=ec;b.MeshPhongMaterial=Yb;b.MeshToonMaterial=Hc;b.MeshNormalMaterial=Ic;b.MeshLambertMaterial=Jc;b.MeshDepthMaterial=gb;b.MeshBasicMaterial=db;b.LineDashedMaterial=Kc;b.LineBasicMaterial=Q;b.Material=ha;b.Float64BufferAttribute=ib;b.Float32BufferAttribute=ga;b.Uint32BufferAttribute=Ja;b.Int32BufferAttribute=$a;b.Uint16BufferAttribute=Ga;b.Int16BufferAttribute=nb;b.Uint8ClampedBufferAttribute=ya;b.Uint8BufferAttribute=Jb;b.Int8BufferAttribute=
ub;b.BufferAttribute=ka;b.REVISION="85";b.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};b.CullFaceNone=0;b.CullFaceBack=1;b.CullFaceFront=2;b.CullFaceFrontBack=3;b.FrontFaceDirectionCW=0;b.FrontFaceDirectionCCW=1;b.BasicShadowMap=0;b.PCFShadowMap=1;b.PCFSoftShadowMap=2;b.FrontSide=0;b.BackSide=1;b.DoubleSide=2;b.FlatShading=1;b.SmoothShading=2;b.NoColors=0;b.FaceColors=1;b.VertexColors=2;b.NoBlending=0;b.NormalBlending=1;b.AdditiveBlending=2;b.SubtractiveBlending=3;b.MultiplyBlending=4;b.CustomBlending=5;b.AddEquation=
100;b.SubtractEquation=101;b.ReverseSubtractEquation=102;b.MinEquation=103;b.MaxEquation=104;b.ZeroFactor=200;b.OneFactor=201;b.SrcColorFactor=202;b.OneMinusSrcColorFactor=203;b.SrcAlphaFactor=204;b.OneMinusSrcAlphaFactor=205;b.DstAlphaFactor=206;b.OneMinusDstAlphaFactor=207;b.DstColorFactor=208;b.OneMinusDstColorFactor=209;b.SrcAlphaSaturateFactor=210;b.NeverDepth=0;b.AlwaysDepth=1;b.LessDepth=2;b.LessEqualDepth=3;b.EqualDepth=4;b.GreaterEqualDepth=5;b.GreaterDepth=6;b.NotEqualDepth=7;b.MultiplyOperation=
0;b.MixOperation=1;b.AddOperation=2;b.NoToneMapping=0;b.LinearToneMapping=1;b.ReinhardToneMapping=2;b.Uncharted2ToneMapping=3;b.CineonToneMapping=4;b.UVMapping=300;b.CubeReflectionMapping=301;b.CubeRefractionMapping=302;b.EquirectangularReflectionMapping=303;b.EquirectangularRefractionMapping=304;b.SphericalReflectionMapping=305;b.CubeUVReflectionMapping=306;b.CubeUVRefractionMapping=307;b.RepeatWrapping=1E3;b.ClampToEdgeWrapping=1001;b.MirroredRepeatWrapping=1002;b.NearestFilter=1003;b.NearestMipMapNearestFilter=
1004;b.NearestMipMapLinearFilter=1005;b.LinearFilter=1006;b.LinearMipMapNearestFilter=1007;b.LinearMipMapLinearFilter=1008;b.UnsignedByteType=1009;b.ByteType=1010;b.ShortType=1011;b.UnsignedShortType=1012;b.IntType=1013;b.UnsignedIntType=1014;b.FloatType=1015;b.HalfFloatType=1016;b.UnsignedShort4444Type=1017;b.UnsignedShort5551Type=1018;b.UnsignedShort565Type=1019;b.UnsignedInt248Type=1020;b.AlphaFormat=1021;b.RGBFormat=1022;b.RGBAFormat=1023;b.LuminanceFormat=1024;b.LuminanceAlphaFormat=1025;b.RGBEFormat=
1023;b.DepthFormat=1026;b.DepthStencilFormat=1027;b.RGB_S3TC_DXT1_Format=2001;b.RGBA_S3TC_DXT1_Format=2002;b.RGBA_S3TC_DXT3_Format=2003;b.RGBA_S3TC_DXT5_Format=2004;b.RGB_PVRTC_4BPPV1_Format=2100;b.RGB_PVRTC_2BPPV1_Format=2101;b.RGBA_PVRTC_4BPPV1_Format=2102;b.RGBA_PVRTC_2BPPV1_Format=2103;b.RGB_ETC1_Format=2151;b.LoopOnce=2200;b.LoopRepeat=2201;b.LoopPingPong=2202;b.InterpolateDiscrete=2300;b.InterpolateLinear=2301;b.InterpolateSmooth=2302;b.ZeroCurvatureEnding=2400;b.ZeroSlopeEnding=2401;b.WrapAroundEnding=
2402;b.TrianglesDrawMode=0;b.TriangleStripDrawMode=1;b.TriangleFanDrawMode=2;b.LinearEncoding=3E3;b.sRGBEncoding=3001;b.GammaEncoding=3007;b.RGBEEncoding=3002;b.LogLuvEncoding=3003;b.RGBM7Encoding=3004;b.RGBM16Encoding=3005;b.RGBDEncoding=3006;b.BasicDepthPacking=3200;b.RGBADepthPacking=3201;b.CubeGeometry=Db;b.Face4=function(a,b,d,e,f,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new mb(a,b,d,f,g,h)};b.LineStrip=0;b.LinePieces=1;b.MeshFaceMaterial=
function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};b.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};b.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new yc(a,b)};b.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");
return new Ec(a)};b.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new yc(a,b)};b.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ub(a)};b.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ub(a)};b.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");
return new Ub(a)};b.Vertex=function(a,b,d){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new l(a,b,d)};b.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new ka(a,b)).setDynamic(!0)};b.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new ub(a,b)};b.Uint8Attribute=
function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new Jb(a,b)};b.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new ya(a,b)};b.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new nb(a,b)};b.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");
return new Ga(a,b)};b.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new $a(a,b)};b.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new Ja(a,b)};b.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new ga(a,b)};b.Float64Attribute=
function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new ib(a,b)};b.ClosedSplineCurve3=zf;b.SplineCurve3=Af;b.Spline=$e;b.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Sc(a,b)};b.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new Va(new id(a.geometry),new Q({color:void 0!==
b?b:16777215}))};b.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new Va(new Wc(a.geometry),new Q({color:void 0!==b?b:16777215}))};b.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Zb(a)};b.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new Ge(a)};b.GeometryUtils={merge:function(a,b,
d){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var c=b.matrix;b=b.geometry}a.merge(b,c,d)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};b.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,d,e){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
var c=new de;c.setCrossOrigin(this.crossOrigin);a=c.load(a,d,void 0,e);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,d,e){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var c=new He;c.setCrossOrigin(this.crossOrigin);a=c.load(a,d,void 0,e);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
b.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};b.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");
this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};Object.defineProperty(b,"__esModule",{value:!0})});var Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var b=document.createElement("canvas");return!(!window.WebGLRenderingContext||!b.getContext("webgl")&&!b.getContext("experimental-webgl"))}catch(g){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var b=document.createElement("div");b.id="webgl-error-message";b.style.fontFamily="monospace";b.style.fontSize="13px";b.style.fontWeight="normal";
b.style.textAlign="center";b.style.background="#fff";b.style.color="#000";b.style.padding="1.5em";b.style.width="400px";b.style.margin="5em auto 0";this.webgl||(b.innerHTML=window.WebGLRenderingContext?'Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.':'Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.');
return b},addGetWebGLMessage:function(b){b=b||{};var g=void 0!==b.parent?b.parent:document.body;b=void 0!==b.id?b.id:"oldie";var a=Detector.getWebGLErrorMessage();a.id=b;g.appendChild(a)}};"object"===typeof module&&(module.exports=Detector);

/*!
 * Sniffer is a clientside browser/engine/os/device detection tool
 * v. 3.1.0 | https://github.com/wilddeer/Sniffer
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * MIT License
 */
!function(a){var b=function(a){function b(){for(var a in g)c(g[a])}function c(b){for(var c=0;c<b.length;c++){for(var e=!0,f=0;f<b[c].test.length;f++)if(b[c].test[f]instanceof RegExp){if(!b[c].test[f].test(a)){e=!1;break}}else if(-1==a.indexOf(b[c].test[f])){e=!1;break}if(e){d(b[c]);break}}}function d(a){for(var b in g)if(g.hasOwnProperty(b)&&a[b]){if(a[b].$version){var c=e(a[b].$version.search);if(c){var d=c.split("."),h=a[b].$version.names,i=a[b].$version.altNames;if(a[b].version=c,d[0]&&(a[b].majorVersion=parseInt(d[0])),d[1]&&(a[b].minorVersion=parseInt(d[1])),d[2]&&(a[b].patchVersion=parseInt(d[2])),h)for(var j,k=[],l=0;l<d.length;l++)k.push(d[l]),j=k.join("."),h[j]&&(a[b].versionName=h[j]),i&&i[j]&&(a[b].versionAltNames=i[j])}}for(var m in a[b])a[b].hasOwnProperty(m)&&"$"!==m[0]&&(f[b][m]=a[b][m])}}function e(b){var c;if(b instanceof RegExp){if(c=(a.match(b)||[])[0],!c)return}else c=b;var d,e=a.indexOf(c);if(-1!=e&&(d=a.substring(e+c.length),regexpResult=/^(\d+(\.|_)){0,2}\d+/.exec(d),regexpResult))return regexpResult[0].replace(/_/g,".")}var f={browser:{fullName:"",name:"",version:"",majorVersion:null,minorVersion:null,patchVersion:null,engine:""},os:{fullName:"",name:"",version:"",versionName:"",versionAltNames:[],majorVersion:null,minorVersion:null,patchVersion:null},features:{bw:!1,mobile:!1,tv:!1,proxy:!1}},g={browser:[{test:["SailfishBrowser"],browser:{fullName:"Sailfish Browser",name:"sailfishbrowser",engine:"gecko",$version:{search:"SailfishBrowser/"}},features:{mobile:!0}},{test:["Edge/"],browser:{fullName:"Edge",name:"edge",engine:"edgehtml",$version:{search:"Edge/"}}},{test:["MSIE"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"MSIE "}}},{test:["Trident"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"rv:"}}},{test:["OPR/"],browser:{fullName:"Opera",name:"opera",engine:"webkit",$version:{search:"OPR/"}}},{test:["Chrome"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"Chrome/"}}},{test:["Firefox"],browser:{fullName:"Firefox",name:"firefox",engine:"gecko",$version:{search:"Firefox/"}}},{test:["NokiaBrowser"],browser:{fullName:"Nokia Browser",name:"nokiabrowser",engine:"webkit",$version:{search:"NokiaBrowser/"}},features:{mobile:!0}},{test:["Opera Mini","Presto"],browser:{fullName:"Opera Mini",name:"operamini",engine:"presto",$version:{search:"Version/"}},features:{mobile:!0,proxy:!0}},{test:["Opera Mini","WebKit"],browser:{fullName:"Opera Mini",name:"operamini",engine:"webkit"},features:{mobile:!0,proxy:!0}},{test:["Opera"],browser:{fullName:"Opera",name:"opera",engine:"presto",$version:{search:"Version/"}}},{test:["OviBrowser"],browser:{fullName:"Ovi Browser",name:"ovi",engine:"gecko",$version:{search:"OviBrowser/"}},features:{mobile:!0,proxy:!0}},{test:["CriOS/"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"CriOS/"}}},{test:["Coast/"],browser:{fullName:"Opera Coast",name:"coast",engine:"webkit",$version:{search:"Coast/"}}},{test:["Safari","Version/",/(iPhone|iPod|iPad|Macintosh|Windows)/],browser:{fullName:"Safari",name:"safari",engine:"webkit",$version:{search:"Version/"}}},{test:["WebKit"],browser:{engine:"webkit"}},{test:["Gecko/"],browser:{engine:"gecko"}}],os:[{test:["Sailfish"],os:{fullName:"Sailfish OS",name:"sailfish"},features:{mobile:!0}},{test:["Windows Phone"],os:{fullName:"Windows Phone",name:"winphone",$version:{search:"Windows Phone "}},features:{mobile:!0}},{test:["Windows"],os:{fullName:"Windows",name:"win",$version:{search:"Windows NT ",names:{"10.0":"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP",5.01:"2000","5.0":"2000"},altNames:{5.2:["Server 2003"]}}}},{test:["Macintosh","OS X 10"],os:{fullName:"Mac OS X",name:"osx",$version:{search:/OS X /,names:{10.6:"Snow Leopard",10.7:"Lion",10.8:"Mountain Lion",10.9:"Mavericks","10.10":"Yosemite",10.11:"El Capitan"}}}},{test:["Ubuntu"],os:{fullName:"Ubuntu",name:"ubuntu"}},{test:["Fedora"],os:{fullName:"Fedora",name:"fedora",$version:{search:"Fedora/",names:{20:"Heisenbug",19:"Schrödinger's Cat",18:"Spherical Cow",17:"Beefy Miracle",16:"Verne",15:"Lovelock",14:"Laughlin",13:"Goddard",12:"Constantine",11:"Leonidas",10:"Cambridge",9:"Sulphur",8:"Werewolf",7:"Moonshine"}}}},{test:["Kindle"],os:{fullName:"Kindle",name:"kindle",$version:{search:"Kindle/"}},features:{bw:!0,mobile:!0}},{test:[/(BlackBerry|BB\d+)/],os:{fullName:"BlackBerry",name:"blackberry",$version:{search:"Version/"}},features:{mobile:!0}},{test:["Symbian"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["Series40"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["PlayStation Vita"],os:{fullName:"PlayStation Vita",name:"psvita"},features:{mobile:!0}},{test:[/playstation/i],os:{fullName:"PlayStation",name:"playstation",$version:{search:/playstation\s/i}},features:{tv:!0}},{test:["Nintendo DSi"],os:{fullName:"Nintendo DSi",name:"dsi"},features:{mobile:!0}},{test:["New Nintendo 3DS"],os:{fullName:"New Nintendo 3DS",name:"n3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Nintendo 3DS"],os:{fullName:"Nintendo 3DS",name:"3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Viera"],os:{fullName:"Viera",name:"viera"},browser:{engine:"webkit"},features:{tv:!0}},{test:["SonyDTV"],features:{tv:!0}},{test:["Android"],os:{fullName:"Android",name:"android",$version:{search:"Android "}},features:{mobile:!0}},{test:[/iPhone|iPod|iPad/],os:{fullName:"iOS",name:"ios",$version:{search:"OS "}},features:{mobile:!0}}],features:[{test:[/mobile/i],features:{mobile:!0}},{test:[/smart-{0,1}tv/i],features:{tv:!0}}]};return a?(b(),f):f},c=b(navigator.userAgent),d=document.getElementsByTagName("html")[0],e=[d.className];c.browser.name&&e.push(c.browser.name),c.browser.engine&&e.push(c.browser.engine),c.os.name&&e.push(c.os.name);for(var f in c.features)c.features[f]&&e.push(f);d.className=e.join(" "),"undefined"!=typeof module&&module.exports?module.exports=c:a.Sniff=c}(this);

/*!
 * Flickity PACKAGED v2.0.8
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://flickity.metafizzy.co
 * Copyright 2016 Metafizzy
 */

!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,o,a){function h(t,e,n){var s,o="$()."+i+'("'+e+'")';return t.each(function(t,h){var l=a.data(h,i);if(!l)return void r(i+" not initialized. Cannot call methods, i.e. "+o);var c=l[e];if(!c||"_"==e.charAt(0))return void r(o+" is not a valid method");var d=c.apply(l,n);s=void 0===s?d:s}),void 0!==s?s:t}function l(t,e){t.each(function(t,n){var s=a.data(n,i);s?(s.option(e),s._init()):(s=new o(n,e),a.data(n,i,s))})}a=a||e||t.jQuery,a&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=s.call(arguments,1);return h(this,t,e)}return l(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var s=Array.prototype.slice,o=t.console,r="undefined"==typeof o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,s=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];s;){var r=o&&o[s];r&&(this.off(t,s),delete o[s]),s.apply(this,e),n+=r?0:1,s=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<l;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function s(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o.isBoxSizeOuter=r=200==t(s.width),i.removeChild(e)}}function o(e){if(s(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==o.boxSizing,d=0;d<l;d++){var u=h[d],f=o[u],p=parseFloat(f);a[u]=isNaN(p)?0:p}var v=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,m=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,E=a.borderLeftWidth+a.borderRightWidth,S=a.borderTopWidth+a.borderBottomWidth,b=c&&r,x=t(o.width);x!==!1&&(a.width=x+(b?0:v+E));var C=t(o.height);return C!==!1&&(a.height=C+(b?0:g+S)),a.innerWidth=a.width-(v+E),a.innerHeight=a.height-(g+S),a.outerWidth=a.width+m,a.outerHeight=a.height+y,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=h.length,c=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],s=n+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void s.push(t);e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}}),s},i.debounceMethod=function(t,e,i){var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];t&&clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout(function(){n.apply(o,e),delete o[s]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),r="data-"+o,a=document.querySelectorAll("["+r+"]"),h=document.querySelectorAll(".js-"+o),l=i.makeArray(a).concat(i.makeArray(h)),c=r+"-options",d=t.jQuery;l.forEach(function(t){var i,o=t.getAttribute(r)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var h=new e(t,i);d&&d.data(t,s,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelectedClass("add")},e.unselect=function(){this.changeSelectedClass("remove")},e.changeSelectedClass=function(t){this.cells.forEach(function(e){e.element.classList[t]("is-selected")})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=0;i||(i=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),s=setTimeout(t,i);return n=e+i,s});var s={};s.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},s.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;i(function(){e.animate()})}};var o=function(){var t=document.documentElement.style;return"string"==typeof t.transform?"transform":"WebkitTransform"}();return s.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&o?-t:t;var i=this.getPositionValue(t);this.slider.style[o]=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var s=-this.x-n.target,r=s/this.slidesWidth;this.dispatchEvent("scroll",null,[r,s])}},s.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},s.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},s.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},s.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},s._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=e>0?i:0;s.wrapShift(o),e-=s.size.outerWidth}},s._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},s.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},s.applyForce=function(t){this.velocity+=t},s.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},s.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},s.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},s.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var t=this.selectedSlide.target*-1-this.x,e=t*this.options.selectedAttraction;this.applyForce(e)}},s}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,n,s,o,r,a){return e(t,i,n,s,o,r,a)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,n,s,o,r){function a(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}function h(t,e){var i=n.getQueryElement(t);if(!i)return void(d&&d.error("Bad element for Flickity: "+(i||t)));if(this.element=i,this.element.flickityGUID){var s=f[this.element.flickityGUID];return s.option(e),s}l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}var l=t.jQuery,c=t.getComputedStyle,d=t.console,u=0,f={};h.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},h.createMethods=[];var p=h.prototype;n.extend(p,e.prototype),p._create=function(){var e=this.guid=++u;this.element.flickityGUID=e,f[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),h.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){n.extend(this.options,t)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);a(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,i=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==i&&this.cells[i]?i:0,this.select(e,!1,!0),this.isInitActivated=!0}},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map(function(t){return new s(t,this)},this);return i},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach(function(e,s){if(!t.cells.length)return void t.addCell(e);var r=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,r)?t.addCell(e):(t.updateTarget(),t=new o(this),this.slides.push(t),t.addCell(e))},this),t.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];t>0;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var o=l.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},p.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t]&&(this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},p._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e),o=Math.abs(s-this.selectedIndex),r=Math.abs(s+e-this.selectedIndex),a=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&r<o?t+=e:!this.isDragSelect&&a<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(t,e,i){var n;"number"==typeof t?n=this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),n=this.getCell(t));for(var s=0;n&&s<this.slides.length;s++){var o=this.slides[s],r=o.cells.indexOf(n);if(r!=-1)return void this.select(s,e,i)}},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e?e:(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?n.modulo(o,i):o,a=this.slides[r];a&&(s=s.concat(a.getCellElements()))}return s},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(h,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=c(this.element,":after").content;e.indexOf("flickity")!=-1?this.activate():this.deactivate()}},p.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach(function(t){t.destroy()}),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete f[this.guid]},n.extend(p,r),h.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&f[e]},n.htmlInit(h,"flickity"),l&&l.bridget&&l.bridget("flickity",h),h.setJQuery=function(t){l=t},h.Cell=s,h}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){i=void 0===i||!!i;var n=i?"addEventListener":"removeEventListener";t.PointerEvent?e[n]("pointerdown",this):(e[n]("mousedown",this),e[n]("touchstart",this))},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.pointerDone=i,s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function i(){}var n=i.prototype=Object.create(e.prototype);return n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||!!e;for(var i=e?"addEventListener":"removeEventListener",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,e),s[i]("click",this),t.PointerEvent&&(s.style.touchAction=e?"none":"")}},n.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},n._dragPointerDown=function(t,i){this.pointerDownPoint=e.getPointerPoint(i);var n=this.canPreventDefaultOnPointerDown(t,i);n&&t.preventDefault()},n.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,i){var n=e.getPointerPoint(i),s={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(s)&&this._dragStart(t,i),s},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,i){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(i),this.isPreventingClicks=!0,this.dragStart(t,i)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;"INPUT"!=i&&"TEXTAREA"!=i||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){var e=d[t.type],i=u[t.target.nodeName];return e||i}function o(){return{x:t.pageXOffset,y:t.pageYOffset}}n.extend(e.defaults,{draggable:!0,dragThreshold:3}),e.createMethods.push("_createDrag");var r=e.prototype;n.extend(r,i.prototype);var a="createTouch"in document,h=!1;r._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),a&&!h&&(t.addEventListener("touchmove",function(){}),h=!0)},r.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},r.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)};var l={TEXTAREA:!0,INPUT:!0,OPTION:!0},c={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};r.pointerDown=function(e,i){var n=l[e.target.nodeName]&&!c[e.target.type];if(n)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,i);var s=document.activeElement;s&&s.blur&&s!=this.element&&s!=document.body&&s.blur(),this.pointerDownFocus(e),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(e),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this.dispatchEvent("pointerDown",e,[i])},r.pointerDownFocus=function(e){var i=s(e);if(this.options.accessibility&&!i){var n=t.pageYOffset;this.element.focus(),t.pageYOffset!=n&&t.scrollTo(t.pageXOffset,n)}};var d={touchstart:!0,pointerdown:!0},u={INPUT:!0,SELECT:!0};return r.canPreventDefaultOnPointerDown=function(t){var e=s(t);return!e},r.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},r.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},r.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(e,i){this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i])},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},r.dragMove=function(t,e,i){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>o?.5*(s+o):s;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<r?.5*(s+r):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},r.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])},r.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),s=i.distance<n.distance?i.index:n.index;return s},r._getClosestResting=function(t,e,i){
for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(n+=i,s=e,e=this.getSlideDistance(-t,n),null!==e);)e=Math.abs(e);return{distance:s,index:n-i}},r.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,o=s?n.modulo(e,i):e,r=this.slides[o];if(!r)return null;var a=s?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},r.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},r.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.TapListener=e(t,t.Unipointer)}(window,function(t,e){function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var s=e.getPointerPoint(n),o=this.tapElement.getBoundingClientRect(),r=t.pageXOffset,a=t.pageYOffset,h=s.x>=o.left+r&&s.x<=o.right+r&&s.y>=o.top+a&&s.y<=o.bottom+a;if(h&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout(function(){delete l.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function s(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var r="http://www.w3.org/2000/svg";s.prototype=new i,s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=this.direction==-1;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(r,"svg");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(r,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},s.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()},s.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s((-1),this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}s.prototype=new i,s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},s.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",o&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var s,o;"hidden"in document?(s="hidden",o="visibilitychange"):"webkitHidden"in document&&(s="webkitHidden",o="webkitvisibilitychange"),n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document[s];if(o&&t)return void document.addEventListener(o,this.onVisibilityPlay);this.state="playing",o&&document.addEventListener(o,this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),o&&document.removeEventListener(o,this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document[s];this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(o,this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var r=i.prototype;return r._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var o=n(i),r=e==s;if(r)this.slider.appendChild(o);else{var a=this.cells[e].element;this.slider.insertBefore(o,a)}if(0===e)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var h=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(h)}this._sizeCells(i);var l=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,l)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e,n,s=this.getCells(t),o=0,r=s.length;for(e=0;e<r;e++){n=s[e];var a=this.cells.indexOf(n)<this.selectedIndex;o-=a?1:0}for(e=0;e<r;e++)n=s[e],n.remove(),i.removeFrom(this.cells,n);s.length&&this._cellAddedRemoved(0,o)},s._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(t,!0),this.emitEvent("cellAddedRemoved",[t,e])},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.slideableWidth;if(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[t]),this.options.freeScroll){var n=i-this.slideableWidth;this.x+=n*this.cellAlign,this.positionSlider()}else e&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return i.makeArray(e)}function s(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var o=e.prototype;return o._createLazyload=function(){this.on("select",this.lazyLoad)},o.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),o=[];i.forEach(function(t){var e=n(t);o=o.concat(e)}),o.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=i.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(t,e){function i(t,e,i){return(e-t)*i+t}t.createMethods.push("_createAsNavFor");var n=t.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},n.setNavCompanion=function(i){i=e.getQueryElement(i);var n=t.data(i);if(n&&n!=this){this.navCompanion=n;var s=this;this.onNavCompanionSelect=function(){s.navCompanionSelect()},n.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){if(this.navCompanion){var e=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(e),s=n+this.navCompanion.selectedCells.length-1,o=Math.floor(i(n,s,this.navCompanion.cellAlign));if(this.selectCell(o,!1,t),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(n,s+1);this.navSelectedElements=r.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,o){return this instanceof s?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new s(t,e,o)}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,h=t.console;s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var l={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},s.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&h&&h.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(a=e,a.fn.imagesLoaded=function(t,e){var i=new s(this,t,e);return i.jqDeferred.promise(a(this))})},s.makeJQueryPlugin(),s}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){function t(t,i){var n=e.getParentCell(i.img);e.cellSizeChange(n&&n.element),e.options.freeScroll||e.positionSliderAtSelected()}if(this.options.imagesLoaded){var e=this;i(this.slider).on("progress",t)}},e});
